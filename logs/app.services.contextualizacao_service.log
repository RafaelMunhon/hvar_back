{"timestamp": "2025-05-15T21:18:59.615541", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:18:59.615359\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:18:59.615857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:18:59.615760\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:18:59.716427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:18:59.716351\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:19:00.779313", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:00.779225\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:19:02.506092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:02.505986\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:19:02.506272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:02.506214\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:19:02.536081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:02.535910\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:19:02.536236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:02.536191\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:19:03.064161", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:03.064032\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:19:03.803785", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:03.803637\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:03.981395", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:03.981258\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:19:04.686721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:04.686540\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:04.875925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:04.875770\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:05.585165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:05.584988\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:05.757270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:05.757121\", \"message\": \"Prompt content_score_classification_03024: \\u2713 Encontrado em prompts/content_score_classification_03024.txt\"}"}
{"timestamp": "2025-05-15T21:19:06.457496", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:06.457359\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:06.662403", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:06.662251\", \"message\": \"Prompt content_score_classification_00221: \\u2713 Encontrado em prompts/content_score_classification_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:07.357266", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:07.357074\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:07.593056", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:07.592907\", \"message\": \"Prompt contextualization_to_TI: \\u2713 Encontrado em prompts/contextualization_to_TI.txt\"}"}
{"timestamp": "2025-05-15T21:19:08.285746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:08.285596\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_TI lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:08.457988", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:08.457845\", \"message\": \"Prompt contextualization_to_engenharia_00221: \\u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:09.207357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:09.207226\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:09.399167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:09.399026\", \"message\": \"Prompt contextualization_to_gestao_00962: \\u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:10.125004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:10.124861\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:10.303200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:10.303054\", \"message\": \"Prompt contextualization_to_humanidades_00908: \\u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt\"}"}
{"timestamp": "2025-05-15T21:19:11.042017", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:11.041867\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:11.217172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:11.217005\", \"message\": \"Prompt contextualization_to_exatas_00221: \\u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:11.947629", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:11.947421\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:12.124020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:12.123822\", \"message\": \"Prompt contextualization_to_saude_00962: \\u2713 Encontrado em prompts/contextualization_to_saude_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:12.869723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:12.869577\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_saude_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:13.048972", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:13.048829\", \"message\": \"Prompt contextualization_to_direito: \\u2713 Encontrado em prompts/contextualization_to_direito.txt\"}"}
{"timestamp": "2025-05-15T21:19:13.791192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:13.791012\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_direito lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:14.004013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:14.003881\", \"message\": \"Prompt suavization_03024: \\u2713 Encontrado em prompts/suavization_03024.txt\"}"}
{"timestamp": "2025-05-15T21:19:14.715543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:14.715383\", \"message\": \"\\u2713 Conte\\u00fado do prompt suavization_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:14.715789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:14.715706\", \"message\": \"\\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com\"}"}
{"timestamp": "2025-05-15T21:19:14.716014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:14.715944\", \"message\": \"\\ud83d\\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:15.696354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:15.696184\", \"message\": \"\\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:17.498412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.498262\", \"message\": \"\\u2705 Processing pipeline initialized successfully\"}"}
{"timestamp": "2025-05-15T21:19:17.498677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.498582\", \"message\": \"\\ud83d\\udd04 Using process type: contextualization_to_engenharia_00221\"}"}
{"timestamp": "2025-05-15T21:19:17.501069", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.500985\", \"message\": \"\\n==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.501284", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.501215\", \"message\": \"\\u274c PIPELINE ERROR\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.501449", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.501392\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.501669", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.501603\", \"message\": \"Error occurred after 0.00 seconds\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.501855", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.501794\", \"message\": \"Error message: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.502002", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.501948\", \"message\": \"Full traceback:\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.502169", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.502113\", \"message\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.502352", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.502293\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.503549", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.503482\", \"message\": \"\\u274c Error processing content: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.503771", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.503687\", \"message\": \"Error processing file: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 4063, in process_single_nc\\n    result = await processor.process_file_async(json_content, tema_folder, json_parametros)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/utils/metrics.py\\\", line 106, in async_wrapper\\n    return await func(*args, **kwargs)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:17.504702", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.504648\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:19:17.504854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.504807\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:19:17.541673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:17.541575\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:19:18.464659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:18.464550\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:19:20.175318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:20.175181\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:19:20.175586", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:20.175492\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:19:20.211271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:20.211213\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:19:20.211413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:20.211363\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:19:20.783773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:20.783643\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:19:21.503005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:21.502833\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:21.684933", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:21.684776\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:19:22.378772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:22.378623\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:22.561126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:22.560983\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:23.249630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:23.249468\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:23.435967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:23.435824\", \"message\": \"Prompt content_score_classification_03024: \\u2713 Encontrado em prompts/content_score_classification_03024.txt\"}"}
{"timestamp": "2025-05-15T21:19:24.126299", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:24.126114\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:24.313926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:24.313777\", \"message\": \"Prompt content_score_classification_00221: \\u2713 Encontrado em prompts/content_score_classification_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:24.998119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:24.997995\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:25.182557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:25.182408\", \"message\": \"Prompt contextualization_to_TI: \\u2713 Encontrado em prompts/contextualization_to_TI.txt\"}"}
{"timestamp": "2025-05-15T21:19:25.925188", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:25.925037\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_TI lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:26.099171", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:26.099030\", \"message\": \"Prompt contextualization_to_engenharia_00221: \\u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:26.851066", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:26.850913\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:27.027201", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:27.027053\", \"message\": \"Prompt contextualization_to_gestao_00962: \\u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:27.765172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:27.765009\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:27.947355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:27.947208\", \"message\": \"Prompt contextualization_to_humanidades_00908: \\u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt\"}"}
{"timestamp": "2025-05-15T21:19:28.679166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:28.678972\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:28.854348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:28.854204\", \"message\": \"Prompt contextualization_to_exatas_00221: \\u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:29.594080", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:29.593930\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:29.768165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:29.767999\", \"message\": \"Prompt contextualization_to_saude_00962: \\u2713 Encontrado em prompts/contextualization_to_saude_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:29.996441", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:29.996298\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_saude_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:30.315070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:30.314903\", \"message\": \"Prompt contextualization_to_direito: \\u2713 Encontrado em prompts/contextualization_to_direito.txt\"}"}
{"timestamp": "2025-05-15T21:19:30.571469", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:30.571312\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_direito lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:30.745355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:30.745204\", \"message\": \"Prompt suavization_03024: \\u2713 Encontrado em prompts/suavization_03024.txt\"}"}
{"timestamp": "2025-05-15T21:19:31.041044", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:31.040888\", \"message\": \"\\u2713 Conte\\u00fado do prompt suavization_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:31.041193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:31.041144\", \"message\": \"\\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com\"}"}
{"timestamp": "2025-05-15T21:19:31.041348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:31.041300\", \"message\": \"\\ud83d\\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:31.459663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:31.459496\", \"message\": \"\\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:32.253518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.253375\", \"message\": \"\\u2705 Processing pipeline initialized successfully\"}"}
{"timestamp": "2025-05-15T21:19:32.253727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.253659\", \"message\": \"\\ud83d\\udd04 Using process type: contextualization_to_engenharia_00221\"}"}
{"timestamp": "2025-05-15T21:19:32.254775", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.254709\", \"message\": \"\\n==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.254995", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.254929\", \"message\": \"\\u274c PIPELINE ERROR\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.255154", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.255097\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.255308", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.255252\", \"message\": \"Error occurred after 0.00 seconds\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.255487", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.255428\", \"message\": \"Error message: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.255659", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.255600\", \"message\": \"Full traceback:\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.255874", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.255800\", \"message\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.256055", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.255996\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.256365", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.256304\", \"message\": \"\\u274c Error processing content: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.256631", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.256549\", \"message\": \"Error processing file: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 4063, in process_single_nc\\n    result = await processor.process_file_async(json_content, tema_folder, json_parametros)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/utils/metrics.py\\\", line 106, in async_wrapper\\n    return await func(*args, **kwargs)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:32.257590", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.257518\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:19:32.257790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.257727\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:19:32.294705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:32.294625\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:19:33.300177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:33.300087\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:19:34.827158", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:34.827061\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:19:34.827342", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:34.827257\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:19:34.857260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:34.857120\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:19:34.857447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:34.857394\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:19:36.081817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:36.081687\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:19:36.300822", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:36.300669\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:36.942928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:36.942732\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:19:37.169915", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:37.169742\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:37.805640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:37.805469\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:38.037917", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:38.037752\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:38.670005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:38.669856\", \"message\": \"Prompt content_score_classification_03024: \\u2713 Encontrado em prompts/content_score_classification_03024.txt\"}"}
{"timestamp": "2025-05-15T21:19:38.904122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:38.903993\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:39.537063", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:39.536915\", \"message\": \"Prompt content_score_classification_00221: \\u2713 Encontrado em prompts/content_score_classification_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:39.779598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:39.779460\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:40.408928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:40.408764\", \"message\": \"Prompt contextualization_to_TI: \\u2713 Encontrado em prompts/contextualization_to_TI.txt\"}"}
{"timestamp": "2025-05-15T21:19:40.700127", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:40.699955\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_TI lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:41.282431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:41.282272\", \"message\": \"Prompt contextualization_to_engenharia_00221: \\u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:41.613251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:41.613085\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:42.144423", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:42.144256\", \"message\": \"Prompt contextualization_to_gestao_00962: \\u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:42.525531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:42.525369\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:43.003551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:43.003394\", \"message\": \"Prompt contextualization_to_humanidades_00908: \\u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt\"}"}
{"timestamp": "2025-05-15T21:19:43.434453", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:43.434314\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:43.867612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:43.867439\", \"message\": \"Prompt contextualization_to_exatas_00221: \\u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:44.340567", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:44.340406\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:44.734005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:44.733813\", \"message\": \"Prompt contextualization_to_saude_00962: \\u2713 Encontrado em prompts/contextualization_to_saude_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:45.105333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:45.105213\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_saude_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:45.281274", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:45.281122\", \"message\": \"Prompt contextualization_to_direito: \\u2713 Encontrado em prompts/contextualization_to_direito.txt\"}"}
{"timestamp": "2025-05-15T21:19:46.017376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:46.017240\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_direito lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:46.892772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:46.892624\", \"message\": \"Prompt suavization_03024: \\u2713 Encontrado em prompts/suavization_03024.txt\"}"}
{"timestamp": "2025-05-15T21:19:47.128701", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:47.128574\", \"message\": \"\\u2713 Conte\\u00fado do prompt suavization_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:47.128895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:47.128832\", \"message\": \"\\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com\"}"}
{"timestamp": "2025-05-15T21:19:47.129095", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:47.129036\", \"message\": \"\\ud83d\\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:48.054126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:48.053965\", \"message\": \"\\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:49.900377", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.900232\", \"message\": \"\\u2705 Processing pipeline initialized successfully\"}"}
{"timestamp": "2025-05-15T21:19:49.900640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.900568\", \"message\": \"\\ud83d\\udd04 Using process type: contextualization_to_engenharia_00221\"}"}
{"timestamp": "2025-05-15T21:19:49.901901", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.901834\", \"message\": \"\\n==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.902060", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.902006\", \"message\": \"\\u274c PIPELINE ERROR\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.902276", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.902211\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.902439", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.902381\", \"message\": \"Error occurred after 0.00 seconds\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.902601", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.902537\", \"message\": \"Error message: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.902734", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.902688\", \"message\": \"Full traceback:\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.902872", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.902826\", \"message\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.902990", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.902947\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.903277", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.903226\", \"message\": \"\\u274c Error processing content: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.903431", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.903383\", \"message\": \"Error processing file: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 4063, in process_single_nc\\n    result = await processor.process_file_async(json_content, tema_folder, json_parametros)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/utils/metrics.py\\\", line 106, in async_wrapper\\n    return await func(*args, **kwargs)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:19:49.904126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.904060\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:19:49.904269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.904221\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:19:49.938248", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:49.938141\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:19:51.045845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:51.045732\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:19:53.002961", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:53.002830\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:19:53.003170", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:53.003098\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:19:53.034658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:53.034515\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:19:53.034842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:53.034788\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:19:53.556264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:53.556107\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:19:54.299938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:54.299792\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:54.475413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:54.475278\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:19:55.169558", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:55.169400\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:55.351143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:55.350974\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:19:56.041366", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:56.041213\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:56.253394", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:56.253251\", \"message\": \"Prompt content_score_classification_03024: \\u2713 Encontrado em prompts/content_score_classification_03024.txt\"}"}
{"timestamp": "2025-05-15T21:19:56.912776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:56.912628\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:57.115688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:57.115542\", \"message\": \"Prompt content_score_classification_00221: \\u2713 Encontrado em prompts/content_score_classification_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:57.785906", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:57.785741\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:57.980525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:57.980368\", \"message\": \"Prompt contextualization_to_TI: \\u2713 Encontrado em prompts/contextualization_to_TI.txt\"}"}
{"timestamp": "2025-05-15T21:19:58.703545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:58.703353\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_TI lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:58.882931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:58.882742\", \"message\": \"Prompt contextualization_to_engenharia_00221: \\u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:19:59.618243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:59.618043\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:19:59.789007", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:19:59.788835\", \"message\": \"Prompt contextualization_to_gestao_00962: \\u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:00.550041", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:00.549907\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:00.754731", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:00.754598\", \"message\": \"Prompt contextualization_to_humanidades_00908: \\u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt\"}"}
{"timestamp": "2025-05-15T21:20:01.552292", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:01.552105\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:01.731131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:01.730997\", \"message\": \"Prompt contextualization_to_exatas_00221: \\u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:02.464877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:02.464741\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:02.646789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:02.646624\", \"message\": \"Prompt contextualization_to_saude_00962: \\u2713 Encontrado em prompts/contextualization_to_saude_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:03.385644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:03.385505\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_saude_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:03.585837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:03.585688\", \"message\": \"Prompt contextualization_to_direito: \\u2713 Encontrado em prompts/contextualization_to_direito.txt\"}"}
{"timestamp": "2025-05-15T21:20:04.301650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:04.301370\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_direito lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:04.477000", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:04.476816\", \"message\": \"Prompt suavization_03024: \\u2713 Encontrado em prompts/suavization_03024.txt\"}"}
{"timestamp": "2025-05-15T21:20:05.223876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:05.223759\", \"message\": \"\\u2713 Conte\\u00fado do prompt suavization_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:05.224008", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:05.223970\", \"message\": \"\\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com\"}"}
{"timestamp": "2025-05-15T21:20:05.224186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:05.224136\", \"message\": \"\\ud83d\\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:06.144621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:06.144472\", \"message\": \"\\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:07.943288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.943138\", \"message\": \"\\u2705 Processing pipeline initialized successfully\"}"}
{"timestamp": "2025-05-15T21:20:07.943455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.943401\", \"message\": \"\\ud83d\\udd04 Using process type: contextualization_to_engenharia_00221\"}"}
{"timestamp": "2025-05-15T21:20:07.944389", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.944336\", \"message\": \"\\n==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.944545", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.944471\", \"message\": \"\\u274c PIPELINE ERROR\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.944702", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.944655\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.944967", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.944915\", \"message\": \"Error occurred after 0.00 seconds\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.945139", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.945088\", \"message\": \"Error message: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.945295", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.945230\", \"message\": \"Full traceback:\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.945451", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.945406\", \"message\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.945677", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.945628\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.946193", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.946136\", \"message\": \"\\u274c Error processing content: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.946372", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.946320\", \"message\": \"Error processing file: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 4063, in process_single_nc\\n    result = await processor.process_file_async(json_content, tema_folder, json_parametros)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/utils/metrics.py\\\", line 106, in async_wrapper\\n    return await func(*args, **kwargs)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:07.947193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.947129\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:20:07.947346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.947298\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:20:07.982955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:07.982824\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:20:08.947314", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:08.947175\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:20:10.647606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:10.647492\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:20:10.647830", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:10.647754\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:20:10.681458", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:10.681212\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:20:10.681719", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:10.681619\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:20:11.230501", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:11.230340\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:20:12.016036", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:12.015887\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:12.190438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:12.190290\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:20:12.885222", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:12.885002\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:13.071329", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:13.071140\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:13.765544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:13.765383\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:13.956796", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:13.956664\", \"message\": \"Prompt content_score_classification_03024: \\u2713 Encontrado em prompts/content_score_classification_03024.txt\"}"}
{"timestamp": "2025-05-15T21:20:14.704685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:14.704551\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:14.878234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:14.878101\", \"message\": \"Prompt content_score_classification_00221: \\u2713 Encontrado em prompts/content_score_classification_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:15.580396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:15.580266\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:15.757546", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:15.757396\", \"message\": \"Prompt contextualization_to_TI: \\u2713 Encontrado em prompts/contextualization_to_TI.txt\"}"}
{"timestamp": "2025-05-15T21:20:16.499938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:16.499783\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_TI lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:16.695697", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:16.695546\", \"message\": \"Prompt contextualization_to_engenharia_00221: \\u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:17.421132", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:17.420882\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:17.601623", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:17.601386\", \"message\": \"Prompt contextualization_to_gestao_00962: \\u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:18.336856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:18.336632\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:18.511070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:18.510854\", \"message\": \"Prompt contextualization_to_humanidades_00908: \\u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt\"}"}
{"timestamp": "2025-05-15T21:20:19.257546", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:19.257391\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:19.444748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:19.444604\", \"message\": \"Prompt contextualization_to_exatas_00221: \\u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:20.173925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:20.173639\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:20.348241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:20.348103\", \"message\": \"Prompt contextualization_to_saude_00962: \\u2713 Encontrado em prompts/contextualization_to_saude_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:21.085062", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:21.084820\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_saude_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:21.262771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:21.262623\", \"message\": \"Prompt contextualization_to_direito: \\u2713 Encontrado em prompts/contextualization_to_direito.txt\"}"}
{"timestamp": "2025-05-15T21:20:22.005717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:22.005408\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_direito lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:22.184899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:22.184759\", \"message\": \"Prompt suavization_03024: \\u2713 Encontrado em prompts/suavization_03024.txt\"}"}
{"timestamp": "2025-05-15T21:20:22.930312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:22.930157\", \"message\": \"\\u2713 Conte\\u00fado do prompt suavization_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:22.930506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:22.930425\", \"message\": \"\\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com\"}"}
{"timestamp": "2025-05-15T21:20:22.930715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:22.930657\", \"message\": \"\\ud83d\\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:23.867733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:23.867580\", \"message\": \"\\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:25.703167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.703028\", \"message\": \"\\u2705 Processing pipeline initialized successfully\"}"}
{"timestamp": "2025-05-15T21:20:25.703778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.703611\", \"message\": \"\\ud83d\\udd04 Using process type: contextualization_to_engenharia_00221\"}"}
{"timestamp": "2025-05-15T21:20:25.705863", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.705743\", \"message\": \"\\n==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.706403", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.706295\", \"message\": \"\\u274c PIPELINE ERROR\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.706844", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.706751\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.707226", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.707138\", \"message\": \"Error occurred after 0.00 seconds\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.707518", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.707421\", \"message\": \"Error message: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.707862", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.707780\", \"message\": \"Full traceback:\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.708255", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.708180\", \"message\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.708418", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.708357\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.708818", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.708748\", \"message\": \"\\u274c Error processing content: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.709047", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.708963\", \"message\": \"Error processing file: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 4063, in process_single_nc\\n    result = await processor.process_file_async(json_content, tema_folder, json_parametros)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/utils/metrics.py\\\", line 106, in async_wrapper\\n    return await func(*args, **kwargs)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:25.714517", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.714351\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:20:25.714813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.714740\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:20:25.752646", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:25.752503\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:20:26.687146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:26.687017\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:20:28.590390", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:28.590260\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:20:28.590881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:28.590817\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:20:28.620593", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:28.620452\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:20:28.620747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:28.620700\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:20:29.835155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:29.835012\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:20:30.103479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:30.103349\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:30.698834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:30.698667\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:20:30.982633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:30.982500\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:31.556384", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:31.556235\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:31.869410", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:31.869257\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:32.420661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:32.420535\", \"message\": \"Prompt content_score_classification_03024: \\u2713 Encontrado em prompts/content_score_classification_03024.txt\"}"}
{"timestamp": "2025-05-15T21:20:32.743191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:32.743038\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:33.278589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:33.278449\", \"message\": \"Prompt content_score_classification_00221: \\u2713 Encontrado em prompts/content_score_classification_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:33.615548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:33.615412\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:34.144089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:34.143951\", \"message\": \"Prompt contextualization_to_TI: \\u2713 Encontrado em prompts/contextualization_to_TI.txt\"}"}
{"timestamp": "2025-05-15T21:20:34.531787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:34.531638\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_TI lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:35.008800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:35.008654\", \"message\": \"Prompt contextualization_to_engenharia_00221: \\u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:36.131004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:36.130811\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:36.307982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:36.307829\", \"message\": \"Prompt contextualization_to_gestao_00962: \\u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:37.050773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:37.050626\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:37.234569", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:37.234433\", \"message\": \"Prompt contextualization_to_humanidades_00908: \\u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt\"}"}
{"timestamp": "2025-05-15T21:20:37.965257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:37.965068\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:38.139768", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:38.139616\", \"message\": \"Prompt contextualization_to_exatas_00221: \\u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:38.864734", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:38.864566\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:39.039401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:39.039261\", \"message\": \"Prompt contextualization_to_saude_00962: \\u2713 Encontrado em prompts/contextualization_to_saude_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:39.793667", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:39.793470\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_saude_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:39.974147", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:39.974006\", \"message\": \"Prompt contextualization_to_direito: \\u2713 Encontrado em prompts/contextualization_to_direito.txt\"}"}
{"timestamp": "2025-05-15T21:20:40.718167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:40.717970\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_direito lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:40.908943", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:40.908805\", \"message\": \"Prompt suavization_03024: \\u2713 Encontrado em prompts/suavization_03024.txt\"}"}
{"timestamp": "2025-05-15T21:20:41.646873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:41.646745\", \"message\": \"\\u2713 Conte\\u00fado do prompt suavization_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:41.647096", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:41.647022\", \"message\": \"\\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com\"}"}
{"timestamp": "2025-05-15T21:20:41.647321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:41.647253\", \"message\": \"\\ud83d\\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:42.577809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:42.577609\", \"message\": \"\\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:44.375573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.375442\", \"message\": \"\\u2705 Processing pipeline initialized successfully\"}"}
{"timestamp": "2025-05-15T21:20:44.375739", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.375677\", \"message\": \"\\ud83d\\udd04 Using process type: contextualization_to_engenharia_00221\"}"}
{"timestamp": "2025-05-15T21:20:44.376897", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.376839\", \"message\": \"\\n==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.377051", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.377000\", \"message\": \"\\u274c PIPELINE ERROR\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.377170", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.377127\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.377312", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.377264\", \"message\": \"Error occurred after 0.00 seconds\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.377475", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.377427\", \"message\": \"Error message: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.377801", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.377555\", \"message\": \"Full traceback:\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.378054", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.377944\", \"message\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.378260", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.378181\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.378554", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.378506\", \"message\": \"\\u274c Error processing content: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.378703", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.378656\", \"message\": \"Error processing file: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 4063, in process_single_nc\\n    result = await processor.process_file_async(json_content, tema_folder, json_parametros)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/utils/metrics.py\\\", line 106, in async_wrapper\\n    return await func(*args, **kwargs)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:20:44.379504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.379449\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:20:44.379628", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.379583\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:20:44.413686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:44.413538\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:20:45.445719", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:45.445609\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:20:47.112597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:47.112460\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:20:47.112763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:47.112706\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:20:47.143052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:47.142882\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:20:47.143234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:47.143167\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:20:47.733598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:47.733445\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:20:48.500010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:48.499837\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:48.679367", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:48.679213\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:20:49.378723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:49.378571\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:49.583023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:49.582889\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:50.255054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:50.254919\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:50.442316", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:50.442183\", \"message\": \"Prompt content_score_classification_03024: \\u2713 Encontrado em prompts/content_score_classification_03024.txt\"}"}
{"timestamp": "2025-05-15T21:20:51.130345", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:51.130004\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:51.307568", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:51.307415\", \"message\": \"Prompt content_score_classification_00221: \\u2713 Encontrado em prompts/content_score_classification_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:52.008253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:52.008115\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:52.192159", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:52.191902\", \"message\": \"Prompt contextualization_to_TI: \\u2713 Encontrado em prompts/contextualization_to_TI.txt\"}"}
{"timestamp": "2025-05-15T21:20:52.578175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:52.577971\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_TI lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:52.877387", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:52.877234\", \"message\": \"Prompt contextualization_to_engenharia_00221: \\u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:53.499369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:53.499000\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:53.744594", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:53.744382\", \"message\": \"Prompt contextualization_to_gestao_00962: \\u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:54.416624", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:54.416488\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:54.608232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:54.608099\", \"message\": \"Prompt contextualization_to_humanidades_00908: \\u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt\"}"}
{"timestamp": "2025-05-15T21:20:55.257941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:55.257792\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:55.479408", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:55.479249\", \"message\": \"Prompt contextualization_to_exatas_00221: \\u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:56.162129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:56.161990\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:56.352172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:56.351972\", \"message\": \"Prompt contextualization_to_saude_00962: \\u2713 Encontrado em prompts/contextualization_to_saude_00962.txt\"}"}
{"timestamp": "2025-05-15T21:20:57.074231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:57.074017\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_saude_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:57.243880", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:57.243572\", \"message\": \"Prompt contextualization_to_direito: \\u2713 Encontrado em prompts/contextualization_to_direito.txt\"}"}
{"timestamp": "2025-05-15T21:20:57.635496", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:57.635329\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_direito lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:57.938279", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:57.938124\", \"message\": \"Prompt suavization_03024: \\u2713 Encontrado em prompts/suavization_03024.txt\"}"}
{"timestamp": "2025-05-15T21:20:58.561621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:58.561420\", \"message\": \"\\u2713 Conte\\u00fado do prompt suavization_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:20:58.561780", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:58.561730\", \"message\": \"\\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com\"}"}
{"timestamp": "2025-05-15T21:20:58.561942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:58.561895\", \"message\": \"\\ud83d\\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:20:59.491855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:20:59.491708\", \"message\": \"\\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:01.307135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.306974\", \"message\": \"\\u2705 Processing pipeline initialized successfully\"}"}
{"timestamp": "2025-05-15T21:21:01.307344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.307270\", \"message\": \"\\ud83d\\udd04 Using process type: contextualization_to_engenharia_00221\"}"}
{"timestamp": "2025-05-15T21:21:01.308800", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.308717\", \"message\": \"\\n==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.309046", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.308959\", \"message\": \"\\u274c PIPELINE ERROR\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.309286", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.309205\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.309520", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.309436\", \"message\": \"Error occurred after 0.00 seconds\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.309770", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.309691\", \"message\": \"Error message: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.310007", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.309896\", \"message\": \"Full traceback:\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.310267", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.310188\", \"message\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.310490", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.310391\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.310907", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.310827\", \"message\": \"\\u274c Error processing content: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.311205", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.311122\", \"message\": \"Error processing file: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 4063, in process_single_nc\\n    result = await processor.process_file_async(json_content, tema_folder, json_parametros)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/utils/metrics.py\\\", line 106, in async_wrapper\\n    return await func(*args, **kwargs)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:01.312350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.312261\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:21:01.312604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.312519\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:21:01.348969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:01.348875\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:21:02.301971", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:02.301876\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:21:03.935334", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:03.935185\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:21:03.935587", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:03.935515\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:21:03.968773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:03.968610\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:21:03.982076", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:03.981875\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:21:04.559087", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:04.558957\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:21:05.297736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:05.297588\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:05.468838", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:05.468705\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:21:05.652945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:05.652813\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:06.330578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:06.330430\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:21:06.519811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:06.519656\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:06.831957", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:06.831824\", \"message\": \"Prompt content_score_classification_03024: \\u2713 Encontrado em prompts/content_score_classification_03024.txt\"}"}
{"timestamp": "2025-05-15T21:21:07.163842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:07.163701\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:07.337864", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:07.337717\", \"message\": \"Prompt content_score_classification_00221: \\u2713 Encontrado em prompts/content_score_classification_00221.txt\"}"}
{"timestamp": "2025-05-15T21:21:08.069516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:08.069376\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:08.251288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:08.251128\", \"message\": \"Prompt contextualization_to_TI: \\u2713 Encontrado em prompts/contextualization_to_TI.txt\"}"}
{"timestamp": "2025-05-15T21:21:08.988196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:08.988037\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_TI lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:09.163796", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:09.163636\", \"message\": \"Prompt contextualization_to_engenharia_00221: \\u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:21:09.904098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:09.903944\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:10.083245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:10.083097\", \"message\": \"Prompt contextualization_to_gestao_00962: \\u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt\"}"}
{"timestamp": "2025-05-15T21:21:10.820060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:10.819918\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:10.990646", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:10.990510\", \"message\": \"Prompt contextualization_to_humanidades_00908: \\u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt\"}"}
{"timestamp": "2025-05-15T21:21:11.735457", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:11.735309\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:11.911635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:11.911464\", \"message\": \"Prompt contextualization_to_exatas_00221: \\u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt\"}"}
{"timestamp": "2025-05-15T21:21:12.640345", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:12.640170\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:12.815931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:12.815788\", \"message\": \"Prompt contextualization_to_saude_00962: \\u2713 Encontrado em prompts/contextualization_to_saude_00962.txt\"}"}
{"timestamp": "2025-05-15T21:21:13.552194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:13.552043\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_saude_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:13.732207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:13.732072\", \"message\": \"Prompt contextualization_to_direito: \\u2713 Encontrado em prompts/contextualization_to_direito.txt\"}"}
{"timestamp": "2025-05-15T21:21:14.475948", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:14.475769\", \"message\": \"\\u2713 Conte\\u00fado do prompt contextualization_to_direito lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:14.654989", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:14.654842\", \"message\": \"Prompt suavization_03024: \\u2713 Encontrado em prompts/suavization_03024.txt\"}"}
{"timestamp": "2025-05-15T21:21:14.896216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:14.895858\", \"message\": \"\\u2713 Conte\\u00fado do prompt suavization_03024 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:14.896484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:14.896408\", \"message\": \"\\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com\"}"}
{"timestamp": "2025-05-15T21:21:14.896924", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:14.896861\", \"message\": \"\\ud83d\\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt\"}"}
{"timestamp": "2025-05-15T21:21:15.814721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:15.814562\", \"message\": \"\\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:17.616031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.615888\", \"message\": \"\\u2705 Processing pipeline initialized successfully\"}"}
{"timestamp": "2025-05-15T21:21:17.616970", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.616521\", \"message\": \"\\ud83d\\udd04 Using process type: contextualization_to_engenharia_00221\"}"}
{"timestamp": "2025-05-15T21:21:17.619213", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.619045\", \"message\": \"\\n==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.619447", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.619389\", \"message\": \"\\u274c PIPELINE ERROR\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.619579", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.619532\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.619719", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.619673\", \"message\": \"Error occurred after 0.00 seconds\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.619875", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.619825\", \"message\": \"Error message: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.619996", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.619952\", \"message\": \"Full traceback:\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.620135", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.620090\", \"message\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.620252", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.620208\", \"message\": \"==================================================\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 2275, in process_parallel\\n    await f.write(pdf_content)\\nNameError: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.620596", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.620543\", \"message\": \"\\u274c Error processing content: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.620774", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.620723\", \"message\": \"Error processing file: Processing failed: name 'pdf_content' is not defined\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 4063, in process_single_nc\\n    result = await processor.process_file_async(json_content, tema_folder, json_parametros)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/utils/metrics.py\\\", line 106, in async_wrapper\\n    return await func(*args, **kwargs)\\n  File \\\"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\\\", line 3399, in process_file_async\\n    raise Exception(f\\\"Processing failed: {result.error}\\\")\\nException: Processing failed: name 'pdf_content' is not defined\\n\"}"}
{"timestamp": "2025-05-15T21:21:17.621954", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.621894\", \"message\": \"\\ud83d\\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao\"}"}
{"timestamp": "2025-05-15T21:21:17.623023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.622963\", \"message\": \"\\ud83d\\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json\"}"}
{"timestamp": "2025-05-15T21:21:17.671615", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:17.671519\", \"message\": \"\\ud83d\\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId\"}"}
{"timestamp": "2025-05-15T21:21:18.540139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:18.540042\", \"message\": \"\\ud83d\\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:21:20.231322", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:20.231220\", \"message\": \"\\ud83d\\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\"}"}
{"timestamp": "2025-05-15T21:21:20.231532", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:20.231444\", \"message\": \"\\ud83d\\ude80 Initializing CloudContentProcessor\\n\\ud83d\\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\\n\\ud83d\\udd04 Process Type: contextualization_to_engenharia_00221\\n\"}"}
{"timestamp": "2025-05-15T21:21:20.261778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:20.261378\", \"message\": \"\\u2705 Clients initialized successfully\"}"}
{"timestamp": "2025-05-15T21:21:20.262077", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:20.261982\", \"message\": \"\\ud83d\\udd0d Iniciando diagn\\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao\"}"}
{"timestamp": "2025-05-15T21:21:21.472317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:21.472165\", \"message\": \"\\u2713 Bucket existe: True\"}"}
{"timestamp": "2025-05-15T21:21:21.701821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:21.701629\", \"message\": \"\\u2713 Permiss\\u00f5es do bucket obtidas com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:22.341376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:22.341222\", \"message\": \"Prompt content_score_classification_00306: \\u2713 Encontrado em prompts/content_score_classification_00306.txt\"}"}
{"timestamp": "2025-05-15T21:21:22.578741", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:22.578593\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00306 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:21:23.209710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:23.209558\", \"message\": \"Prompt content_score_classification_00962: \\u2713 Encontrado em prompts/content_score_classification_00962.txt\"}"}
{"timestamp": "2025-05-15T21:21:23.464018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "{\"timestamp\": \"2025-05-15T21:21:23.463867\", \"message\": \"\\u2713 Conte\\u00fado do prompt content_score_classification_00962 lido com sucesso\"}"}
{"timestamp": "2025-05-15T21:23:22.280190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:23:22.280976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:23:22.317091", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:23:23.273989", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:23:25.081975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:23:25.082119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:23:25.112292", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:23:25.112461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:23:25.653555", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:23:26.396511", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:23:26.574873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:23:26.901601", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:27.261861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:23:27.783349", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:28.122533", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:23:28.655670", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:28.997899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:23:29.539613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:29.862821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:23:30.457823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:23:30.727755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:23:30.963563", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:31.585531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:23:31.880740", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:32.449558", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:23:32.793265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:33.316108", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:23:33.708842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:34.189799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:23:34.645879", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:35.503135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:23:35.743351", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:23:36.363901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:23:36.667289", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:36.667475", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:23:36.667632", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:23:37.605616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:23:39.412937", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:23:39.413241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:23:39.414402", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:23:39.414528", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-15T21:23:39.414619", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:23:39.414695", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 0.00 seconds"}
{"timestamp": "2025-05-15T21:23:39.414770", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: name 'pdf_content' is not defined"}
{"timestamp": "2025-05-15T21:23:39.414848", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-15T21:23:39.415826", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2275, in process_parallel\n    await f.write(pdf_content)\nNameError: name 'pdf_content' is not defined\n"}
{"timestamp": "2025-05-15T21:23:39.415925", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:23:39.416797", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: name 'pdf_content' is not defined"}
{"timestamp": "2025-05-15T21:23:39.416897", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: name 'pdf_content' is not defined"}
{"timestamp": "2025-05-15T21:23:39.417666", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:23:39.417778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:23:39.452290", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:23:40.448368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:23:42.352194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:23:42.352420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:23:42.389045", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:23:42.389243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:23:43.613705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:23:43.795059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:23:44.476339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:23:45.213229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:45.385835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:23:46.114529", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:46.288182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:23:46.997859", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:47.175202", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:23:47.886439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:48.059967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:23:48.804705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:23:48.979010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:23:49.746313", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:49.926282", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:23:50.666144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:50.840396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:23:51.673823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:51.855940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:23:52.612348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:52.784730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:23:53.539816", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:53.712879", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:23:54.749842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:23:54.926165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:23:55.665122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:23:55.665330", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:23:55.665485", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:23:56.608666", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:23:58.419730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:23:58.419869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:23:58.420639", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:23:58.420746", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-15T21:23:58.420836", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:23:58.420914", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 0.00 seconds"}
{"timestamp": "2025-05-15T21:23:58.421002", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: name 'pdf_content' is not defined"}
{"timestamp": "2025-05-15T21:23:58.421113", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-15T21:23:58.421243", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2275, in process_parallel\n    await f.write(pdf_content)\nNameError: name 'pdf_content' is not defined\n"}
{"timestamp": "2025-05-15T21:23:58.421325", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:23:58.421546", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: name 'pdf_content' is not defined"}
{"timestamp": "2025-05-15T21:23:58.421641", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: name 'pdf_content' is not defined"}
{"timestamp": "2025-05-15T21:23:58.422437", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:23:58.422569", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:23:58.456015", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:23:59.316179", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:24:01.070162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:24:01.070346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:24:01.100525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:24:01.100673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:24:02.317458", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:24:02.608454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:24:03.191902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:24:03.476915", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:24:04.063025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:24:04.378710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:24:04.923834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:24:05.276958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:25:59.899664", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:25:59.899849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:25:59.945842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:26:00.920857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:26:02.879815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:26:02.880002", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:26:02.909954", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:26:02.910180", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:26:03.502051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:26:03.895089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:26:04.183351", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:26:04.368704", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:05.048484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:26:05.250736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:05.912742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:26:06.118041", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:06.778821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:26:06.987573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:07.648635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:26:07.904602", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:26:08.086192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:26:08.837619", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:09.013519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:26:09.757705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:09.930503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:26:10.675854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:10.847614", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:26:11.576358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:11.755854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:26:12.812301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:13.679106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:26:13.919541", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:26:14.232852", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:26:14.484056", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:26:14.484334", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:26:14.484499", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:26:15.433364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:26:16.852544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:26:16.852705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:26:16.853039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /tmp/tmpm9ngdgvt.pdf"}
{"timestamp": "2025-05-15T21:26:16.853162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-15T21:26:16.853262", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:26:16.853343", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:26:16.853420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-15T21:26:17.024398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: /tmp/tmpm9ngdgvt.pdf"}
{"timestamp": "2025-05-15T21:26:17.024806", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T21:26:17.026005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T21:26:17.026143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:26:17.026549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-15T21:26:17.026680", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:26:17.026789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-15T21:26:17.026944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-15T21:26:17.718833", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747344377.7186844.pdf"}
{"timestamp": "2025-05-15T21:26:17.719068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-15T21:26:17.719236", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:26:17.719409", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:26:17.719544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-15T21:26:17.835760", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747344377.7186844.pdf"}
{"timestamp": "2025-05-15T21:26:17.836013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T21:26:17.836115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-15T21:26:17.836243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T21:26:17.836330", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-15T21:26:17.836415", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-15T21:26:17.836500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-15T21:26:17.836609", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T21:26:17.836692", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-15T21:26:52.194836", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-15T21:26:52.195007", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-15T21:26:52.195094", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um projeto de engenharia conc..."}
{"timestamp": "2025-05-15T21:26:52.195211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-15T21:26:52.195286", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-15T21:26:52.195413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-15T21:26:52.195494", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T21:26:53.827029", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-15T21:26:53.827215", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-15T21:26:53.827326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\n"}
{"timestamp": "2025-05-15T21:26:53.827708", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-15T21:26:53.827852", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'"}
{"timestamp": "2025-05-15T21:26:57.539778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-15T21:26:57.539916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1cOuYnjyMERPqrNBQr_ZmIfU5cYUTM8jM"}
{"timestamp": "2025-05-15T21:26:57.540070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1cOuYnjyMERPqrNBQr_ZmIfU5cYUTM8jM/view?usp=drivesdk"}
{"timestamp": "2025-05-15T21:26:57.540217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-15T21:26:57.540296", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-15T21:26:57.541447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-15T21:27:35.985099", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 32907"}
{"timestamp": "2025-05-15T21:27:35.985394", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-15T21:27:35.985522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-15T21:27:40.615944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 2851"}
{"timestamp": "2025-05-15T21:27:40.623578", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 223 column 2 (char 35730)"}
{"timestamp": "2025-05-15T21:27:40.626435", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 32899"}
{"timestamp": "2025-05-15T21:27:40.626706", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 168 column 6 (char 32698)"}
{"timestamp": "2025-05-15T21:27:40.626797", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-15T21:27:40.626992", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-15T21:27:40.627211", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 168 column 6 (char 32698)"}
{"timestamp": "2025-05-15T21:27:40.630355", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-15T21:27:40.630595", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 168 column 6 (char 32698)"}
{"timestamp": "2025-05-15T21:27:40.633612", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-15T21:27:40.633903", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Expecting ',' delimiter: line 168 column 6 (char 32698)"}
{"timestamp": "2025-05-15T21:27:40.633993", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2/3)"}
{"timestamp": "2025-05-15T21:28:18.525576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: Received initial JSON response of length: 22985"}
{"timestamp": "2025-05-15T21:28:18.525764", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-15T21:28:18.525853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-15T21:28:25.901685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 4405"}
{"timestamp": "2025-05-15T21:28:25.907522", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 285 column 1651 (char 22978)"}
{"timestamp": "2025-05-15T21:28:25.909447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 22977"}
{"timestamp": "2025-05-15T21:28:25.909696", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 278 column 6 (char 21173)"}
{"timestamp": "2025-05-15T21:28:25.909802", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-15T21:28:25.910002", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-15T21:28:25.910178", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 278 column 6 (char 21173)"}
{"timestamp": "2025-05-15T21:28:25.913020", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-15T21:28:25.913401", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 278 column 6 (char 21173)"}
{"timestamp": "2025-05-15T21:28:25.915995", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-15T21:28:25.916192", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: JSON validation failed - Expecting ',' delimiter: line 278 column 6 (char 21173)"}
{"timestamp": "2025-05-15T21:28:25.916272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 3/3)"}
{"timestamp": "2025-05-15T21:29:03.907611", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: Received initial JSON response of length: 32835"}
{"timestamp": "2025-05-15T21:29:03.907992", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-15T21:29:03.908113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-15T21:29:25.592061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 16045"}
{"timestamp": "2025-05-15T21:29:25.599772", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 145 column 36 (char 32828)"}
{"timestamp": "2025-05-15T21:29:25.602507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 32827"}
{"timestamp": "2025-05-15T21:29:25.602781", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 142 column 16 (char 32734)"}
{"timestamp": "2025-05-15T21:29:25.602889", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-15T21:29:25.603076", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-15T21:29:25.603287", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 142 column 16 (char 32734)"}
{"timestamp": "2025-05-15T21:29:25.606158", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-15T21:29:25.606416", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 142 column 16 (char 32734)"}
{"timestamp": "2025-05-15T21:29:25.609361", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-15T21:29:25.609595", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: JSON validation failed - Expecting ',' delimiter: line 142 column 16 (char 32734)"}
{"timestamp": "2025-05-15T21:29:25.609710", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Gemini API error: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 142 column 16 (char 32734)"}
{"timestamp": "2025-05-15T21:29:25.609827", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:29:25.609935", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-15T21:29:25.610048", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:29:25.610130", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 188.76 seconds"}
{"timestamp": "2025-05-15T21:29:25.610206", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 142 column 16 (char 32734)"}
{"timestamp": "2025-05-15T21:29:25.610281", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-15T21:29:25.611037", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2498, in process_parallel\n    raise Exception(f\"JSON reconstruction failed: {json_result.error}\")\nException: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 142 column 16 (char 32734)\n"}
{"timestamp": "2025-05-15T21:29:25.611139", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:29:25.612098", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 142 column 16 (char 32734)"}
{"timestamp": "2025-05-15T21:29:25.612211", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 142 column 16 (char 32734)"}
{"timestamp": "2025-05-15T21:29:25.613227", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:29:25.613385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:29:25.671017", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:29:26.579398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:29:28.562090", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:29:28.562261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:29:28.592804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:29:28.593016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:29:29.823447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:29:30.095661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:29:30.694984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:29:30.964466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:31.563845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:29:31.841258", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:32.428590", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:29:32.708757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:33.296612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:29:33.574672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:34.163073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:29:34.495740", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:29:35.037225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:29:35.415890", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:35.901863", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:29:36.331270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:36.819803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:29:37.253163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:37.676484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:29:38.158315", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:38.545872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:29:39.080024", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:39.407668", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:29:40.000656", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:29:40.265719", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:29:40.921021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:29:40.921214", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:29:40.921353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:29:41.840501", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:29:43.651527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:29:43.651741", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:29:43.652053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /tmp/tmpzt0_un6_.pdf"}
{"timestamp": "2025-05-15T21:29:45.029333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: /tmp/tmpzt0_un6_.pdf"}
{"timestamp": "2025-05-15T21:29:45.029477", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T21:29:45.030428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T21:29:45.030557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:29:45.030650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-15T21:29:45.030736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:29:45.030812", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-15T21:29:45.030890", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-15T21:29:45.701483", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747344585.7013516.pdf"}
{"timestamp": "2025-05-15T21:29:47.000600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747344585.7013516.pdf"}
{"timestamp": "2025-05-15T21:29:47.000810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T21:29:47.000901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-15T21:29:47.001115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T21:29:47.001221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-15T21:29:47.001311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-15T21:29:47.001394", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-15T21:29:47.001519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T21:29:47.001655", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-15T21:30:13.540082", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-15T21:30:13.540231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-15T21:30:13.540335", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um projeto de pesquisa concis..."}
{"timestamp": "2025-05-15T21:30:13.540454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-15T21:30:13.540537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-15T21:30:13.540635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-15T21:30:13.540723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T21:30:15.090336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-15T21:30:15.090504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-15T21:30:15.090731", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [7]\n"}
{"timestamp": "2025-05-15T21:30:15.090860", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 7"}
{"timestamp": "2025-05-15T21:30:15.090985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'"}
{"timestamp": "2025-05-15T21:30:19.011305", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-15T21:30:19.011412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1Dw-nH4Pc_f2OU0zTP41hEs-zUykEdID6"}
{"timestamp": "2025-05-15T21:30:19.011516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1Dw-nH4Pc_f2OU0zTP41hEs-zUykEdID6/view?usp=drivesdk"}
{"timestamp": "2025-05-15T21:30:19.011639", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-15T21:30:19.011716", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-15T21:30:19.011910", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-15T21:30:45.174011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 22740"}
{"timestamp": "2025-05-15T21:30:45.177976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-15T21:30:45.178206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-15T21:30:45.178392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-15T21:30:45.178577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'"}
{"timestamp": "2025-05-15T21:30:45.216574", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-15T21:30:49.219776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-15T21:30:49.219923", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 10ou-N6lYEEFfTcRYthHNGBkZPsrmeXau"}
{"timestamp": "2025-05-15T21:30:49.220031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/10ou-N6lYEEFfTcRYthHNGBkZPsrmeXau/view?usp=drivesdk"}
{"timestamp": "2025-05-15T21:30:49.220205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-15T21:30:49.220317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-15T21:30:49.220413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-15T21:30:49.220649", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: O que \u00e9 o Gerenciamento de Projetos?"}
{"timestamp": "2025-05-15T21:30:49.220737", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>O que \u00e9 o Gerenciamento de Projetos?</title>..."}
{"timestamp": "2025-05-15T21:30:49.220833", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-15T21:30:49.220910", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:30:49.220986", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-15T21:30:49.221059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:30:49.221178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 65.57 seconds"}
{"timestamp": "2025-05-15T21:30:49.221251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-15T21:30:49.221323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 47022"}
{"timestamp": "2025-05-15T21:30:49.221390", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 27580 characters"}
{"timestamp": "2025-05-15T21:30:49.221493", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:30:49.221687", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-15T21:30:49.222883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:30:49.223001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:30:49.258060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:30:50.173467", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:30:52.034484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:30:52.034683", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:30:52.065014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:30:52.065233", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:30:53.511115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:30:53.795048", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:30:54.395105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:30:54.665416", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:30:55.258331", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:30:55.538854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:30:56.122823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:30:56.412465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:30:56.988411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:30:57.284772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:30:57.859886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:30:58.202284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:30:58.726086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:30:59.116243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:30:59.590545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:31:00.039342", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:31:00.450692", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:46:29.780074", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:46:29.780233", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:46:29.814723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:46:30.902098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:46:32.693431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:46:32.693677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:46:32.723751", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:46:32.723898", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:46:33.342855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:46:34.092436", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:46:34.337490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:46:35.001539", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:35.295980", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:46:35.876254", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:36.158153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:46:36.753143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:37.018918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:46:37.626855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:37.891058", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:46:38.560446", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:46:38.768883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:46:39.477980", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:39.676595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:46:40.458893", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:40.690747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:46:41.389518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:41.571699", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:46:42.308261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:42.487471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:46:43.223246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:43.423451", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:46:44.174693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:46:44.352490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:46:45.122226", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:46:45.122367", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:46:45.122518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:46:46.059177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:46:47.868347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:46:47.868484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:46:47.911381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /tmp/tmpm_zwjskv.pdf"}
{"timestamp": "2025-05-15T21:46:47.911563", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-15T21:46:47.911669", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:46:47.911751", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:46:47.911854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-15T21:46:48.084582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: /tmp/tmpm_zwjskv.pdf"}
{"timestamp": "2025-05-15T21:46:48.084917", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T21:46:48.085793", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:46:48.085894", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-15T21:46:48.086002", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:46:48.086099", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 0.17 seconds"}
{"timestamp": "2025-05-15T21:46:48.086183", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: [Errno 2] No such file or directory: '/tmp/tmpm_zwjskv.pdf'"}
{"timestamp": "2025-05-15T21:46:48.086262", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-15T21:46:48.088688", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2283, in process_parallel\n    async with aiofiles.open(output_path, 'rb') as f:\n  File \"/home/rafael/.local/lib/python3.9/site-packages/aiofiles/base.py\", line 63, in __aenter__\n    return await self\n  File \"/home/rafael/.local/lib/python3.9/site-packages/aiofiles/base.py\", line 59, in __await__\n    self._obj = yield from self._coro.__await__()\n  File \"/home/rafael/.local/lib/python3.9/site-packages/aiofiles/threadpool/__init__.py\", line 92, in _open\n    f = await loop.run_in_executor(executor, cb)\n  File \"/usr/local/lib/python3.9/concurrent/futures/thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\nFileNotFoundError: [Errno 2] No such file or directory: '/tmp/tmpm_zwjskv.pdf'\n"}
{"timestamp": "2025-05-15T21:46:48.088871", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:46:48.089188", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: name 'start_time' is not defined"}
{"timestamp": "2025-05-15T21:46:48.090596", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:46:48.090761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:46:48.126444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:46:49.403771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:46:51.122301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:46:51.122537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:46:51.152604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:46:51.152760", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:46:51.787912", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:46:52.488545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:46:53.268528", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:46:53.466383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:50:48.722576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:50:48.723368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:50:48.762300", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:50:51.010355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T21:50:52.761694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T21:50:52.761908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:50:52.792344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:50:52.792512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:50:53.475164", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:50:54.197911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:50:54.421121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:50:55.137376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:50:55.335958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:50:56.039219", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:50:56.279394", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:50:56.914538", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:50:57.162307", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:50:57.933055", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:50:58.205628", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:50:58.888479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:50:59.087371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:50:59.823557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:00.016329", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:51:00.760695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:00.977940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:51:01.689078", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:01.864169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:51:02.590834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:02.793191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:51:03.514126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:03.721646", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:51:04.431736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:51:04.604514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:51:05.358221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:05.358456", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:51:05.358664", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:51:06.289648", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:51:08.112598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:51:08.112813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:51:08.156947", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:51:08.157114", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-15T21:51:08.157196", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:51:08.157275", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 0.00 seconds"}
{"timestamp": "2025-05-15T21:51:08.157349", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:08.157423", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-15T21:51:08.159175", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2285, in process_parallel\n    async with resource_manager.temp_file(suffix='.pdf', delete=False) as output_path:\n  File \"/usr/local/lib/python3.9/contextlib.py\", line 296, in helper\n    return _AsyncGeneratorContextManager(func, args, kwds)\n  File \"/usr/local/lib/python3.9/contextlib.py\", line 87, in __init__\n    self.gen = func(*args, **kwds)\nTypeError: temp_file() got an unexpected keyword argument 'delete'\n"}
{"timestamp": "2025-05-15T21:51:08.159286", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:51:08.160207", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:08.160313", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:08.160942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:51:08.161053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:51:08.205524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:51:09.286333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T21:51:11.243817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T21:51:11.244039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:51:11.277862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:51:11.278033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:51:11.926897", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:51:12.691708", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:51:12.867612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:51:13.560909", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:13.732246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:51:14.432451", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:14.639932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:51:15.326599", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:15.511731", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:51:16.202203", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:16.407875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:51:17.140291", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:51:17.316005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:51:18.060482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:18.251691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:51:18.987937", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:19.173812", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:51:19.910980", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:20.110094", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:51:20.840534", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:21.031871", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:51:21.764278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:21.959892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:51:22.691576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:51:22.888733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:51:23.619072", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:23.619294", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:51:23.619532", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:51:24.544738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:51:26.351785", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:51:26.351955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:51:26.352237", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:51:26.352353", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-15T21:51:26.352462", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:51:26.352591", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 0.00 seconds"}
{"timestamp": "2025-05-15T21:51:26.352695", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:26.352792", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-15T21:51:26.352979", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2285, in process_parallel\n    async with resource_manager.temp_file(suffix='.pdf', delete=False) as output_path:\n  File \"/usr/local/lib/python3.9/contextlib.py\", line 296, in helper\n    return _AsyncGeneratorContextManager(func, args, kwds)\n  File \"/usr/local/lib/python3.9/contextlib.py\", line 87, in __init__\n    self.gen = func(*args, **kwds)\nTypeError: temp_file() got an unexpected keyword argument 'delete'\n"}
{"timestamp": "2025-05-15T21:51:26.353157", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:51:26.353441", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:26.353656", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:26.354377", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:51:26.354526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:51:26.390389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:51:27.418328", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T21:51:29.297420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T21:51:29.297670", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:51:29.330303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:51:29.330463", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:51:29.983609", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:51:30.694654", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:51:30.876018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:51:31.568727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:31.753853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:51:32.434298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:32.629773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:51:33.308431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:33.508287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:51:34.188884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:34.423778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:51:35.146621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:51:35.322876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:51:36.072068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:36.254166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:51:36.992627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:37.196923", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:51:37.924300", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:38.103667", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:51:38.837565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:39.043757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:51:39.756378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:39.932748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:51:40.681402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:51:40.860902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:51:41.603553", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:51:41.603741", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:51:41.603933", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:51:42.519461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:51:44.346427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:51:44.346581", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:51:44.346812", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:51:44.346904", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-15T21:51:44.346983", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:51:44.347059", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 0.00 seconds"}
{"timestamp": "2025-05-15T21:51:44.347137", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:44.347229", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-15T21:51:44.347408", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2285, in process_parallel\n    async with resource_manager.temp_file(suffix='.pdf', delete=False) as output_path:\n  File \"/usr/local/lib/python3.9/contextlib.py\", line 296, in helper\n    return _AsyncGeneratorContextManager(func, args, kwds)\n  File \"/usr/local/lib/python3.9/contextlib.py\", line 87, in __init__\n    self.gen = func(*args, **kwds)\nTypeError: temp_file() got an unexpected keyword argument 'delete'\n"}
{"timestamp": "2025-05-15T21:51:44.347502", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:51:44.347911", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:44.348071", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: temp_file() got an unexpected keyword argument 'delete'"}
{"timestamp": "2025-05-15T21:51:44.348657", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:51:44.348791", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:51:44.382847", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:51:45.805454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T21:51:47.446198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T21:51:47.446346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:51:47.476345", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:51:47.476532", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:57:18.464832", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:57:18.465060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:57:18.565744", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:57:19.477401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:57:21.485650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:57:21.485845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:57:21.516950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:57:21.517156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:57:22.044253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:57:22.791628", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:57:22.966698", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:57:23.665607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:23.843742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:57:24.536098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:24.718037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:57:25.417700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:25.597483", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:57:26.284288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:26.467736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:57:27.202251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:57:27.375966", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:57:28.124174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:28.301199", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:57:29.048733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:29.220650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:57:29.964865", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:30.140454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:57:30.864178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:31.036774", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:57:31.777312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:31.950630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:57:32.713998", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:57:32.894119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:57:33.641826", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:57:33.641974", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:57:33.642107", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:57:34.562517", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:57:36.362978", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:57:36.363326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:57:36.406593", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /tmp/tmpliizhd2v.pdf"}
{"timestamp": "2025-05-15T21:57:36.406799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-15T21:57:36.406910", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:57:36.407187", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:57:36.407272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-15T21:57:36.581278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: /tmp/tmpliizhd2v.pdf"}
{"timestamp": "2025-05-15T21:57:36.581479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T21:57:36.582387", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T21:57:36.582506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:57:36.582604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-15T21:57:36.582729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:57:36.582829", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-15T21:57:36.582926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-15T21:57:37.303142", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747346257.3030117.pdf"}
{"timestamp": "2025-05-15T21:57:37.303333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-15T21:57:37.303466", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:57:37.303601", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-15T21:57:37.303710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-15T21:57:37.413987", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747346257.3030117.pdf"}
{"timestamp": "2025-05-15T21:57:37.414573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T21:57:37.415093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-15T21:57:37.415616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T21:57:37.416093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-15T21:57:37.416731", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-15T21:57:37.417184", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-15T21:57:37.417641", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T21:57:37.418119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-15T21:58:01.859274", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-15T21:58:01.859476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-15T21:58:01.859619", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Encontramos uma gama de qualidades que definem a abordagem e o comportamento do engenheiro:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um plano de projeto conciso ou..."}
{"timestamp": "2025-05-15T21:58:01.859766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-15T21:58:01.859890", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-15T21:58:01.860015", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-15T21:58:01.860159", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T21:58:03.578600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-15T21:58:03.578815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-15T21:58:03.579196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "VERS\u00c3O 3:\nN/A\n\nVers\u00e3o 1: [6]\nVers\u00e3o 2: [9]\nVers\u00e3o 3: [3]\n"}
{"timestamp": "2025-05-15T21:58:03.579674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 6"}
{"timestamp": "2025-05-15T21:58:03.579891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'"}
{"timestamp": "2025-05-15T21:58:07.249304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-15T21:58:07.249437", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1ZunVEmoNamhiepRVDzwFeyZwoAoFhhLr"}
{"timestamp": "2025-05-15T21:58:07.249543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1ZunVEmoNamhiepRVDzwFeyZwoAoFhhLr/view?usp=drivesdk"}
{"timestamp": "2025-05-15T21:58:07.249745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-15T21:58:07.249846", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-15T21:58:07.251293", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-15T21:58:45.826276", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 28975"}
{"timestamp": "2025-05-15T21:58:45.826520", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-15T21:58:45.826821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-15T21:59:03.891032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 12846"}
{"timestamp": "2025-05-15T21:59:03.899571", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting property name enclosed in double quotes: line 257 column 7 (char 29070)"}
{"timestamp": "2025-05-15T21:59:03.901821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 28967"}
{"timestamp": "2025-05-15T21:59:03.902093", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 250 column 14 (char 28837)"}
{"timestamp": "2025-05-15T21:59:03.902193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-15T21:59:03.902386", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-15T21:59:03.902565", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 250 column 14 (char 28837)"}
{"timestamp": "2025-05-15T21:59:03.905755", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-15T21:59:03.906183", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 250 column 14 (char 28837)"}
{"timestamp": "2025-05-15T21:59:03.910015", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-15T21:59:03.910244", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Expecting ',' delimiter: line 250 column 14 (char 28837)"}
{"timestamp": "2025-05-15T21:59:03.910329", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2/3)"}
{"timestamp": "2025-05-15T21:59:36.690444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: Received initial JSON response of length: 26943"}
{"timestamp": "2025-05-15T21:59:36.700033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-15T21:59:36.700402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-15T21:59:36.700761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 2"}
{"timestamp": "2025-05-15T21:59:36.700982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'"}
{"timestamp": "2025-05-15T21:59:36.744633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-15T21:59:40.371057", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-15T21:59:40.371175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1_vUR_2-EX0N4Rwxc4bXEs8NL_yR5k86V"}
{"timestamp": "2025-05-15T21:59:40.371256", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1_vUR_2-EX0N4Rwxc4bXEs8NL_yR5k86V/view?usp=drivesdk"}
{"timestamp": "2025-05-15T21:59:40.371371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-15T21:59:40.371444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-15T21:59:40.371535", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-15T21:59:40.371822", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: O que \u00e9 Projeto?"}
{"timestamp": "2025-05-15T21:59:40.371905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>O que \u00e9 Projeto?</title>\n    <link href=\"htt..."}
{"timestamp": "2025-05-15T21:59:40.372032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-15T21:59:40.372133", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:59:40.372209", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-15T21:59:40.372298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:59:40.372378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 123.97 seconds"}
{"timestamp": "2025-05-15T21:59:40.372451", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-15T21:59:40.372541", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 47014"}
{"timestamp": "2025-05-15T21:59:40.372622", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 26206 characters"}
{"timestamp": "2025-05-15T21:59:40.372692", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:59:40.372944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-15T21:59:40.374230", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T21:59:40.374380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T21:59:40.409482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T21:59:41.341505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:59:43.213376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T21:59:43.213512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T21:59:43.243600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T21:59:43.243764", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T21:59:44.505928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T21:59:44.792561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T21:59:45.374244", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T21:59:45.672644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:46.236434", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T21:59:46.540763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:47.110207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T21:59:47.415695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:47.970376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T21:59:48.296529", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:48.833001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T21:59:49.245673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T21:59:49.689440", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:59:50.162822", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:50.553582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T21:59:51.087841", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:51.413180", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T21:59:52.028098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:52.275936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T21:59:52.953084", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:53.133011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T21:59:53.921019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:54.109888", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T21:59:54.842399", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T21:59:55.026253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T21:59:55.773576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T21:59:55.773807", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T21:59:55.773973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T21:59:56.697850", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T21:59:58.499767", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T21:59:58.499958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T21:59:58.500163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /tmp/tmpm4fu8zd9.pdf"}
{"timestamp": "2025-05-15T21:59:59.922745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: /tmp/tmpm4fu8zd9.pdf"}
{"timestamp": "2025-05-15T21:59:59.923464", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T21:59:59.925107", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T21:59:59.925637", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T21:59:59.926411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-15T21:59:59.926880", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T21:59:59.927352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-15T21:59:59.928074", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-15T22:00:00.600367", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747346400.6002061.pdf"}
{"timestamp": "2025-05-15T22:00:02.012621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747346400.6002061.pdf"}
{"timestamp": "2025-05-15T22:00:02.012941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T22:00:02.013449", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-15T22:00:02.013989", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T22:00:02.014276", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-15T22:00:02.014531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-15T22:00:02.014804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-15T22:00:02.015056", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T22:00:02.015350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-15T22:37:36.742055", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:37:36.742381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:37:36.787402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:37:37.920505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:37:39.602186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:37:39.602436", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:37:39.632803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:37:39.632975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:37:40.185825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:37:40.890188", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:37:41.080157", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:37:41.761840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:41.945834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:37:42.631110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:42.818474", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:37:43.503530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:43.681763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:37:44.377652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:44.561783", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:37:45.307402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:37:45.490505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:37:46.231610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:46.411676", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:37:47.164901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:47.346502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:37:48.081982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:48.256417", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:37:48.988246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:49.165087", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:37:49.909047", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:50.083163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:37:50.825706", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:37:51.009246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:37:51.750790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:51.750918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:37:51.751052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:37:52.673013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T22:37:54.468120", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:37:54.468387", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T22:37:54.470312", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: No module named 'psutil'"}
{"timestamp": "2025-05-15T22:37:54.470447", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: No module named 'psutil'"}
{"timestamp": "2025-05-15T22:37:54.471447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:37:54.471579", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:37:54.513337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:37:55.459756", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:37:57.338996", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:37:57.339154", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:37:57.368758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:37:57.368914", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:37:57.964650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:37:58.690349", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:37:58.864284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:37:59.571674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:37:59.747398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:38:00.496506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:00.681876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:38:01.416198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:01.643652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:38:02.303840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:02.506135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:38:03.236542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:38:03.440593", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:38:04.168213", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:04.343886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:38:05.101759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:05.281347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:38:06.025247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:06.201729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:38:06.939682", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:07.589260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:38:07.873862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:08.449564", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:38:08.797160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:38:09.309823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:38:09.739201", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:09.739384", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:38:09.739542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:38:10.677527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T22:38:12.512640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:38:12.512811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T22:38:12.513374", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: No module named 'psutil'"}
{"timestamp": "2025-05-15T22:38:12.513520", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: No module named 'psutil'"}
{"timestamp": "2025-05-15T22:38:12.514458", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:38:12.514578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:38:12.549046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:38:13.518255", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:38:15.143412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:38:15.143599", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:38:15.176502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:38:15.176725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:38:16.397191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:38:16.587086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:38:17.264205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:38:17.461730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:18.129772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:38:18.350788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:18.693941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:38:19.009115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:19.556414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:38:19.905140", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:20.425366", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:38:20.841428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:38:21.291462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:38:21.755747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:22.158515", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:38:22.690516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:23.026349", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:38:23.616803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:23.885382", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:38:24.532080", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:24.750544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:38:25.451212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:38:25.626652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:38:26.383569", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:38:26.560872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:39:23.917199", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:39:23.917388", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:39:23.952598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:39:24.866509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:39:26.822238", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:39:26.822465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:39:26.856154", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:39:26.856372", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:39:27.406748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:39:28.196781", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:39:28.380542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:39:29.088523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:29.265837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:39:29.990065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:30.163717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:39:30.870444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:31.047994", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:39:31.764942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:31.946660", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:39:32.692196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:39:32.865967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:39:33.647999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:33.818131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:39:34.560034", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:34.742437", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:39:35.499804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:35.674359", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:39:36.422410", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:36.597288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:39:37.390473", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:37.571675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:39:38.328293", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:39:38.501796", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:39:39.269498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:39.269933", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:39:39.270092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:39:40.191808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T22:39:41.987021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:39:41.987198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T22:39:42.041470", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:39:42.041770", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:39:42.296941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:39:42.297081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:39:42.330147", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:39:43.362780", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:39:45.174876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:39:45.175018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:39:45.205506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:39:45.205756", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:39:46.417715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:39:46.692319", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:39:47.274770", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:39:47.557903", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:48.142418", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:39:48.459005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:49.005862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:39:49.340919", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:49.863436", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:39:50.240151", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:50.770766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:39:51.170605", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:39:51.636444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:39:52.097130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:52.552487", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:39:53.013559", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:53.419461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:39:53.931127", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:54.283764", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:39:54.833697", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:55.147658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:39:55.753051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:56.019344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:39:56.677844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:39:56.878696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:39:57.593560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:39:57.594233", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:39:57.594759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:39:58.518272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T22:40:00.350904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:40:00.351072", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T22:40:00.391449", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:40:00.391627", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:40:00.393763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:40:00.393915", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:40:00.428428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:40:01.489295", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:40:03.189016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:40:03.189153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:40:03.219013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:40:03.219159", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:40:03.758835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:42:11.854820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:42:11.855097", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:42:11.895069", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:42:12.970011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T22:42:14.816312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T22:42:14.816522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:42:14.847407", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:42:14.847580", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:42:16.205562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:42:16.491742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:42:17.070100", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:42:17.360388", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:17.949761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:42:18.232212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:18.810043", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:42:19.093869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:19.670157", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:42:19.962882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:20.536049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:42:20.880996", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:42:21.401505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:42:21.795163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:22.270795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:42:22.705879", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:23.132344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:42:23.623588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:23.997466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:42:24.526207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:24.855955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:42:25.455961", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:25.716827", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:42:26.392797", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:42:26.577654", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:42:27.310035", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:42:27.310232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:42:27.310365", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:42:28.235679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T22:42:30.041183", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:42:30.041339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T22:42:30.092557", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:42:30.092812", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:42:30.359428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:42:30.359575", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:42:30.392606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:42:31.459732", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T22:43:47.619176", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:43:47.619870", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:43:47.658491", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:43:48.683539", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:43:50.477339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:43:50.477526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:43:50.507674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:43:50.507893", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:43:51.051343", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:43:51.790144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:43:51.960884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:43:52.658721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:43:52.839397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:43:53.528540", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:43:53.711469", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:43:54.401503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:43:54.578526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:43:55.271514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:43:55.450026", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:43:56.193911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:43:56.368055", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:43:57.120647", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:43:57.294298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:43:58.049611", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:43:58.240977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:43:58.973471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:43:59.148820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:43:59.884697", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:44:00.068421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:44:00.804201", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:44:00.978507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:44:01.726020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:44:01.905178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:44:02.674707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:44:02.674848", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:44:02.674985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:44:03.727045", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T22:44:05.534262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:44:05.534498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T22:44:05.590594", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:44:05.590926", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:44:05.837308", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:44:05.837444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:44:05.871098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:44:06.832438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:47:00.550152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:47:00.551211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:47:00.589349", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:47:01.622215", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:47:03.236977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:47:03.237189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-15T22:47:03.267951", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:47:03.268178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:47:03.854104", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:47:04.089732", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:47:04.274564", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:47:04.472943", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:04.652780", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:47:04.845104", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:05.025927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:47:05.254559", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:05.435201", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:47:05.645935", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:05.819986", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:47:06.051440", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:47:06.229886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:47:06.591265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:06.767933", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:47:06.995825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:07.170812", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:47:07.538964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:07.789137", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:47:07.989894", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:08.172407", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:47:08.399496", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:08.575418", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:47:08.818162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:47:09.133060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:47:09.494891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:47:09.495040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:47:09.495168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:47:09.876904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_TI' carregado com sucesso"}
{"timestamp": "2025-05-15T22:47:11.166517", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:47:11.166691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_TI"}
{"timestamp": "2025-05-15T22:47:11.222956", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:47:11.223213", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:47:11.485527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:47:11.485690", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:47:11.519936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:47:12.564303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:48:35.774844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:48:35.775140", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:48:35.817281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:48:36.750921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:48:38.479474", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:48:38.479674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:48:38.509770", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:48:38.509932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:48:39.795124", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:48:39.987977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:48:40.662577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:48:40.912420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:41.526162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:48:41.787548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:42.395409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:48:42.659713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:43.262401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:48:43.530450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:44.124809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:48:44.454272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:48:44.988543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:48:45.377487", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:45.849076", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:48:46.291514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:46.713603", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:48:47.218657", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:47.575579", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:48:48.118646", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:48.437468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:48:49.027686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:49.298855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:48:49.945801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:48:50.155856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:48:50.861867", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:48:50.862014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:48:50.862155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:48:51.786257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T22:48:53.590441", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:48:53.590604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T22:48:53.646096", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:48:53.646261", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:48:53.900261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:48:53.900426", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:48:53.934410", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:48:54.918380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:54:10.906722", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:54:10.907733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:54:10.948729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:54:11.843631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:54:13.812644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:54:13.812809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:54:13.844360", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:54:13.844760", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:54:14.413373", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:54:15.188645", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:54:15.363061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:54:16.076377", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:16.257561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:54:16.947588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:17.121349", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:54:17.817052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:18.018596", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:54:18.695037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:18.882242", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:54:19.644616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:54:19.821002", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:54:20.565661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:20.737897", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:54:21.479186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:21.662748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:54:22.396621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:22.583760", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:54:23.298671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:23.473198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:54:24.219065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:24.392143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:54:25.140984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:54:25.314006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:54:26.061360", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:26.061554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:54:26.061696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:54:26.978211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T22:54:28.806716", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:54:28.806886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T22:54:28.862256", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:54:28.862434", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:54:29.120912", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:54:29.121047", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:54:29.154723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:54:30.039321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:54:31.873491", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:54:31.873728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T22:54:31.907925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:54:31.908076", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:54:33.142327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:54:33.392017", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:54:34.005490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:54:34.676525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:34.870528", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:54:35.539012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:35.734703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:54:36.416674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:36.605887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:54:37.282506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:37.522197", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:54:38.203338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:54:38.390757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:54:39.121065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:39.295826", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:54:40.032574", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:40.208492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:54:40.973018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:54:41.157021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:59:02.089858", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:59:02.090107", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:59:02.135847", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:59:03.253498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:59:05.107981", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:59:05.108519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-15T22:59:05.139992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:59:05.140245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T22:59:05.715264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T22:59:06.466721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T22:59:06.652287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T22:59:07.346466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:07.529009", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T22:59:08.220242", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:08.419684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T22:59:09.096888", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:09.288733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T22:59:09.966722", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:10.205640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:59:10.889525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T22:59:11.157042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T22:59:11.828677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:12.025929", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T22:59:12.769892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:12.961853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T22:59:13.684769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:13.867017", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T22:59:14.610681", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:14.878609", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T22:59:15.639049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:15.827808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T22:59:16.583859", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T22:59:16.764650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T22:59:17.521375", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T22:59:17.521594", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T22:59:17.521965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T22:59:18.493802", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_TI' carregado com sucesso"}
{"timestamp": "2025-05-15T22:59:20.360581", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T22:59:20.360803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_TI"}
{"timestamp": "2025-05-15T22:59:20.360982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747349960.3609192"}
{"timestamp": "2025-05-15T22:59:20.413420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f [Error] Calculating processing time - end: 1747349960.4132366, start: 1747349960.3609192, diff type: <class 'float'>, value: 0.05231738090515137"}
{"timestamp": "2025-05-15T22:59:20.413614", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 0.05231738090515137"}
{"timestamp": "2025-05-15T22:59:20.413710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state - total_time: <class 'int'>, value: 0"}
{"timestamp": "2025-05-15T22:59:20.413801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully - new total_time: 0.05231738090515137"}
{"timestamp": "2025-05-15T22:59:20.413905", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:59:20.414037", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T22:59:20.416446", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-15T22:59:20.416606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T22:59:20.450263", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T22:59:21.455317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:59:22.990324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T22:59:22.990605", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udcc1 Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-15T22:59:23.025520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T22:59:23.025680", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:04:15.238360", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:04:15.238853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:04:15.276328", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:04:16.364310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:04:18.096195", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:04:18.096371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T23:04:18.128865", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:04:18.129018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:04:18.696811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:04:19.450735", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:04:19.631582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T23:04:20.337486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:20.516299", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T23:04:21.211424", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:21.387962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T23:04:22.083493", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:22.260941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T23:04:22.951497", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:23.134491", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T23:04:23.871989", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T23:04:24.068727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:04:24.799373", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:24.979222", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T23:04:25.718627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:25.892946", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T23:04:26.636245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:26.816942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T23:04:27.547257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:27.718549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T23:04:27.951822", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:28.127816", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T23:04:28.746572", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T23:04:28.940585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T23:04:29.190633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:04:29.190758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T23:04:29.190891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:04:29.605951", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T23:04:30.420884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T23:04:30.421146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T23:04:30.421293", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747350270.4212303"}
{"timestamp": "2025-05-15T23:04:30.480112", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f [Error] Calculating processing time - end: 1747350270.4797082, start: 1747350270.4212303, diff type: <class 'float'>, value: 0.05847787857055664"}
{"timestamp": "2025-05-15T23:04:30.480423", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 0.05847787857055664"}
{"timestamp": "2025-05-15T23:04:30.480562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state - total_time: <class 'float'>, value: 0.0"}
{"timestamp": "2025-05-15T23:04:30.480655", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully - new total_time: 0.05847787857055664"}
{"timestamp": "2025-05-15T23:04:30.480772", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T23:04:30.480883", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T23:04:30.486513", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:04:30.486728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:04:30.521193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:04:31.533412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:04:33.279645", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:04:33.279794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T23:04:33.309611", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:04:33.309766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:04:34.527186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:04:34.764612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:06:29.502633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:06:29.502886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:06:29.538369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:06:30.485656", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:06:32.382916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:06:32.383082", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-15T23:06:32.412971", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:06:32.413139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:06:33.690947", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:06:33.964798", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:06:34.580236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T23:06:34.836232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:35.448320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T23:06:35.701262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:36.312922", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T23:06:36.572737", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:37.189344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T23:06:37.440418", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:38.047906", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T23:06:38.371482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T23:06:38.916408", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:06:39.285794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:39.781206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T23:06:40.215019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:40.666339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T23:06:41.136404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:41.535037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T23:06:42.044377", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:42.403983", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T23:06:42.976238", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:43.262217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T23:06:43.897591", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T23:06:44.130774", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T23:06:44.819956", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:44.820109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T23:06:44.820264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T23:06:45.729364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-15T23:06:47.518698", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T23:06:47.519115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-15T23:06:47.519563", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747350407.5194917"}
{"timestamp": "2025-05-15T23:06:47.577208", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f [Error] Calculating processing time - end: 1747350407.5769348, start: 1747350407.5194917, diff type: <class 'float'>, value: 0.05744314193725586"}
{"timestamp": "2025-05-15T23:06:47.577453", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 0.05744314193725586"}
{"timestamp": "2025-05-15T23:06:47.577575", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state - total_time: <class 'float'>, value: 0.0"}
{"timestamp": "2025-05-15T23:06:47.577682", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully - new total_time: 0.05744314193725586"}
{"timestamp": "2025-05-15T23:06:47.577800", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T23:06:47.577919", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T23:06:47.580944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:06:47.581085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:06:47.614937", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:06:48.574281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:06:50.494188", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:06:50.494383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-15T23:06:50.524010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:06:50.524172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:06:51.069419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:06:51.866922", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:06:52.046467", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T23:06:52.744352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:52.920638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T23:06:53.620423", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:53.801574", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T23:06:54.489306", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:06:54.670957", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T23:06:55.368454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:31.246297", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:09:31.246605", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:09:31.282859", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:09:32.267373", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T23:09:34.010839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T23:09:34.011010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00908\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/00908\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T23:09:34.040969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:09:34.041188", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:09:34.598468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:09:35.354970", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:09:35.534477", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T23:09:36.227163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:36.405336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T23:09:37.100726", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:37.285455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T23:09:37.974216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:38.148523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T23:09:38.845650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:39.019934", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T23:09:39.769279", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T23:09:39.947046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:09:40.700118", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:40.878839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T23:09:41.617580", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:41.800545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T23:09:42.561266", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:42.745539", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T23:09:43.465466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:43.636755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T23:09:44.380535", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:44.558002", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T23:09:45.306597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T23:09:45.486522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T23:09:46.222715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:09:46.222913", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T23:09:46.223076", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:09:47.198862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T23:09:49.001586", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T23:09:49.001920", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T23:09:49.002125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747350589.0020409"}
{"timestamp": "2025-05-15T23:09:49.058891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f [Error] Calculating processing time - end: 1747350589.058712, start: 1747350589.0020409, diff type: <class 'float'>, value: 0.056671142578125"}
{"timestamp": "2025-05-15T23:09:49.059086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 0.056671142578125"}
{"timestamp": "2025-05-15T23:09:49.059183", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state - total_time: <class 'float'>, value: 0.0"}
{"timestamp": "2025-05-15T23:09:49.059277", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully - new total_time: 0.056671142578125"}
{"timestamp": "2025-05-15T23:09:49.059381", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T23:09:49.059505", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T23:09:49.062561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:09:49.062777", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:09:49.100175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:09:50.092338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T23:12:50.668329", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:12:50.668664", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:12:50.705722", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:12:51.645971", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T23:12:53.386037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T23:12:53.386244", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-15T23:12:53.386346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747350773.3861847"}
{"timestamp": "2025-05-15T23:12:53.386425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:12:53.386500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:12:53.386610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00908\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/00908\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T23:12:53.417120", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:12:53.417441", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:12:54.634781", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:12:54.859218", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:12:55.494363", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T23:12:55.724949", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T23:12:56.355900", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T23:12:56.594357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:12:57.223838", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T23:12:57.464252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:12:58.091353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T23:12:58.334691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:12:58.955828", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T23:12:59.258583", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T23:12:59.817894", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:13:00.184335", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:00.666357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T23:13:01.090280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:01.525493", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T23:13:02.000084", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:02.391882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T23:13:02.906470", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:03.256489", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T23:13:03.819092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:04.119731", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T23:13:04.745657", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T23:13:04.984147", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T23:13:05.673718", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:05.673878", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T23:13:05.674014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:13:06.620443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T23:13:08.413160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T23:13:08.413993", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T23:13:08.414300", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747350788.4142377"}
{"timestamp": "2025-05-15T23:13:08.414540", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-15T23:13:08.415003", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-15T23:13:08.415400", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T23:13:08.415631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-15T23:13:08.415915", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-15T23:13:08.416361", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 612bf097-e108-43cc-b3ce-c94c8c99d740"}
{"timestamp": "2025-05-15T23:13:08.416715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Projeto e a Organiza\u00e7\u00e3o"}
{"timestamp": "2025-05-15T23:13:08.417213", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Engenharia"}
{"timestamp": "2025-05-15T23:13:08.417506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00908"}
{"timestamp": "2025-05-15T23:13:08.417942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-15T23:13:08.418174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 1.json"}
{"timestamp": "2025-05-15T23:13:08.418477", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-15T23:13:08.418732", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que \u00e9 Projeto?"}
{"timestamp": "2025-05-15T23:13:08.491843", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f [Error] Calculating processing time - end: 1747350788.4916756, start: 1747350788.4142377, diff type: <class 'float'>, value: 0.0774378776550293"}
{"timestamp": "2025-05-15T23:13:08.492770", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: an integer is required (got type str)"}
{"timestamp": "2025-05-15T23:13:08.500719", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error traceback:\nTraceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 3509, in process_file_async\n    async with resource_manager.http_session() as session:\n  File \"/usr/local/lib/python3.9/contextlib.py\", line 181, in __aenter__\n    return await self.gen.__anext__()\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/core/resource_manager.py\", line 196, in http_session\n    ssl=ssl_builder.create_context(),\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/utils/ssl_config.py\", line 37, in create_context\n    context.minimum_version = self.config.minimum_version\n  File \"/usr/local/lib/python3.9/ssl.py\", line 587, in minimum_version\n    super(SSLContext, SSLContext).minimum_version.__set__(self, value)\nTypeError: an integer is required (got type str)\n"}
{"timestamp": "2025-05-15T23:13:08.501217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 0.0774378776550293"}
{"timestamp": "2025-05-15T23:13:08.501486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-15T23:13:08.501748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:13:08.501978", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-15T23:13:08.502236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-15T23:13:08.502471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:13:08.502725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 0.0774378776550293 = 0.0774378776550293"}
{"timestamp": "2025-05-15T23:13:08.502973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-15T23:13:08.503243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 0.0774378776550293"}
{"timestamp": "2025-05-15T23:13:08.503630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 0.0774378776550293"}
{"timestamp": "2025-05-15T23:13:08.504149", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-15T23:13:08.504467", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: an integer is required (got type str)"}
{"timestamp": "2025-05-15T23:13:08.510327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:13:08.511085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:13:08.550244", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:13:09.481164", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T23:13:11.244341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE"}
{"timestamp": "2025-05-15T23:13:11.244547", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-15T23:13:11.244650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747350791.2444909"}
{"timestamp": "2025-05-15T23:13:11.244745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:13:11.244825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:13:11.244908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00908\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/00908\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T23:13:11.277101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:13:11.277447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:13:11.849194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:13:12.557645", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:13:12.728459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T23:13:13.428191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:13.602923", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T23:13:14.298963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:14.471904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T23:13:15.167257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:15.340539", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T23:13:16.039722", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:16.214887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T23:13:16.978747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T23:13:17.154403", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:13:17.892803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:13:18.069154", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T23:15:04.338978", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:15:04.339200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:15:04.377287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:15:05.251018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:15:07.214189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:15:07.214454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-15T23:15:07.214637", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747350907.2143579"}
{"timestamp": "2025-05-15T23:15:07.214798", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:15:07.214905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:15:07.215052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/03570\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T23:15:07.247073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:15:07.247247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:15:07.826438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:15:08.553509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:15:08.742442", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T23:15:09.434531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:09.614621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T23:15:10.307685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:10.490674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T23:15:11.185091", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:11.361272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-15T23:15:12.064451", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:12.250190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-15T23:15:12.993013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-15T23:15:13.164449", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:15:13.925946", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:14.112613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-15T23:15:14.861271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:15.035899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-15T23:15:15.780974", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:15.959950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-15T23:15:16.698694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:16.878341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-15T23:15:17.620253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:17.793749", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-15T23:15:18.533835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-15T23:15:18.707196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-15T23:15:19.459079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-15T23:15:19.459289", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-15T23:15:19.459527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-15T23:15:20.420312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-15T23:15:22.246679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-15T23:15:22.247427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-15T23:15:22.247759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747350922.2476356"}
{"timestamp": "2025-05-15T23:15:22.248110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-15T23:15:22.248465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-15T23:15:22.248716", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:15:22.249045", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-15T23:15:22.249959", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-15T23:15:22.250566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-15T23:15:22.250782", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-15T23:15:22.250953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Engenharia"}
{"timestamp": "2025-05-15T23:15:22.251101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-15T23:15:22.251421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-15T23:15:22.251651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-15T23:15:22.251900", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-15T23:15:22.252092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-15T23:15:22.305876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8885"}
{"timestamp": "2025-05-15T23:15:22.306203", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-15T23:15:22.306623", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/21vhwos_.pdf"}
{"timestamp": "2025-05-15T23:15:22.306967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-15T23:15:22.307364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-15T23:15:24.781896", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/21vhwos_.pdf"}
{"timestamp": "2025-05-15T23:15:24.782050", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T23:15:24.783221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T23:15:24.783311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T23:15:24.783425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-15T23:15:24.783515", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T23:15:24.783595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-15T23:15:24.783680", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-15T23:15:26.325031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747350926.3249164.pdf"}
{"timestamp": "2025-05-15T23:15:26.325199", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-15T23:15:26.325364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-15T23:15:28.892156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747350926.3249164.pdf"}
{"timestamp": "2025-05-15T23:15:28.892376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-15T23:15:28.892467", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-15T23:15:28.892653", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-15T23:15:28.892741", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-15T23:15:28.892856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-15T23:15:28.892946", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-15T23:15:28.893031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T23:15:28.893115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-15T23:15:40.657936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-15T23:15:40.658230", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-15T23:15:40.658372", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Aqui est\u00e1 o conte\u00fado adaptado para a \u00e1rea de Engenharia:\n\n**Cotidiano do Engenheiro**\n\nA rotina de um profissional da Engenharia \u00e9 repleta de desafios e tomada de decis\u00f5es. Para compreend\u00ea-la melhor, ..."}
{"timestamp": "2025-05-15T23:15:40.658484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-15T23:15:40.658582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-15T23:15:40.658728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-15T23:15:40.658844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-15T23:15:42.117730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-15T23:15:42.118477", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-15T23:15:42.119024", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "VERS\u00c3O 1: [7]\nVERS\u00c3O 2: [1]\n"}
{"timestamp": "2025-05-15T23:15:42.120036", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Could not parse scores from review result, using first contextualization"}
{"timestamp": "2025-05-15T23:15:42.120367", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-15T23:15:45.842928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-15T23:15:45.843079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 110-5dKkMY6EjY-0fb0C2717yJMzI0aze"}
{"timestamp": "2025-05-15T23:15:45.843166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/110-5dKkMY6EjY-0fb0C2717yJMzI0aze/view?usp=drivesdk"}
{"timestamp": "2025-05-15T23:15:45.843289", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-15T23:15:45.843414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-15T23:15:45.844091", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-15T23:16:14.786624", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 21632"}
{"timestamp": "2025-05-15T23:16:14.792165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-15T23:16:14.792530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-15T23:16:14.792901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-15T23:16:14.793165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-15T23:16:14.828458", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-15T23:16:20.125207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-15T23:16:20.125352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1kfrbuf-9LuGEEmWHUmjzT1ODJkjXb6PS"}
{"timestamp": "2025-05-15T23:16:20.125728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1kfrbuf-9LuGEEmWHUmjzT1ODJkjXb6PS/view?usp=drivesdk"}
{"timestamp": "2025-05-15T23:16:20.126104", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-15T23:16:20.126228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-15T23:16:20.126337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-15T23:16:20.126725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-15T23:16:20.126885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-15T23:16:20.127211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>O que s\u00e3o transtornos de ansiedade?</title>\n..."}
{"timestamp": "2025-05-15T23:16:20.127464", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-15T23:16:20.127598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-15T23:16:20.127705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-15T23:16:20.127807", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T23:16:20.127921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 57.82 seconds"}
{"timestamp": "2025-05-15T23:16:20.128053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-15T23:16:20.128156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25550"}
{"timestamp": "2025-05-15T23:16:20.128257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 16568 characters"}
{"timestamp": "2025-05-15T23:16:20.128351", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-15T23:16:20.128617", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-15T23:16:20.128779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747350980.1287196, start: 1747350922.2476356, diff type: <class 'float'>, value: 57.881083965301514"}
{"timestamp": "2025-05-15T23:16:20.128900", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 57.881083965301514"}
{"timestamp": "2025-05-15T23:16:20.129060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-15T23:16:20.129173", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:16:20.129274", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-15T23:16:20.129376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-15T23:16:20.129507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:16:20.129642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 57.881083965301514 = 57.881083965301514"}
{"timestamp": "2025-05-15T23:16:20.129750", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-15T23:16:20.129858", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 57.881083965301514"}
{"timestamp": "2025-05-15T23:16:20.130003", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 57.881083965301514"}
{"timestamp": "2025-05-15T23:16:20.130136", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-15T23:16:20.130268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-15T23:16:20.132430", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-15T23:16:20.132637", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-15T23:16:20.179501", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-15T23:16:21.257006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:16:23.369175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-15T23:16:23.369347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-15T23:16:23.369445", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747350983.3692932"}
{"timestamp": "2025-05-15T23:16:23.369565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:16:23.369661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-15T23:16:23.369748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/03570\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-15T23:16:23.400373", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-15T23:16:23.400571", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-15T23:16:24.616537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-15T23:16:24.854445", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-15T23:16:25.479190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-15T23:16:25.732823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-15T23:16:26.348826", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-15T23:16:26.614791", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-15T23:16:27.214202", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-15T23:16:27.483154", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:11.726634", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:17:11.730212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:17:11.774771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:17:12.816905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:17:14.502465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:17:14.502849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:17:14.502951", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747401434.5027897"}
{"timestamp": "2025-05-16T13:17:14.503034", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:17:14.503109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:17:14.503194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:17:14.533936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:17:14.534095", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:17:15.756063", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:17:15.975980", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:17:16.625758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:17:16.869682", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:17.503940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:17:17.764172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:18.370375", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:17:18.648589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:19.300638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:17:19.530225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:20.191189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:17:20.489663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:17:21.064930", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:17:21.428051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:21.940550", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:17:22.366356", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:22.812556", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:17:23.300139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:23.678839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:17:24.222867", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:24.543054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:17:25.165014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:25.417842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:17:26.108347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:17:26.288113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:17:27.197046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:17:27.197198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:17:27.197337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:17:28.259565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:17:30.136312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:17:30.136455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:17:30.136558", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747401450.1365116"}
{"timestamp": "2025-05-16T13:17:30.136641", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:17:30.136785", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:17:30.136900", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:17:30.136997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:17:30.137098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:17:30.137218", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:17:30.137329", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:17:30.137416", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:17:30.137494", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:17:30.137568", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:17:30.137644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 1.json"}
{"timestamp": "2025-05-16T13:17:30.137738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T13:17:30.137837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Equa\u00e7\u00e3o fundamental"}
{"timestamp": "2025-05-16T13:17:30.202374", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 12776"}
{"timestamp": "2025-05-16T13:17:30.202551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:17:30.202844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/y6t4us21.pdf"}
{"timestamp": "2025-05-16T13:17:32.772135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/y6t4us21.pdf"}
{"timestamp": "2025-05-16T13:17:32.772474", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:17:32.774591", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:17:32.775054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:17:32.775385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:17:32.775727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:17:32.776046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:17:32.776376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:17:33.788060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747401453.7879677.pdf"}
{"timestamp": "2025-05-16T13:17:35.503185", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747401453.7879677.pdf"}
{"timestamp": "2025-05-16T13:17:35.503385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:17:35.503488", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:17:35.503751", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:17:35.503862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:17:35.503951", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:17:35.504040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:17:35.504150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:17:35.504261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:17:46.672421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:17:46.672700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:17:46.672875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Aqui est\u00e1 o conte\u00fado adaptado, com foco na contextualiza\u00e7\u00e3o para a \u00e1rea de Humanidades e respeito \u00e0s restri\u00e7\u00f5es e crit\u00e9rios estabelecidos.\n\n**Projeto e Organiza\u00e7\u00e3o**\n\nO que \u00e9 um projeto?\n\nUm projeto \u00e9..."}
{"timestamp": "2025-05-16T13:17:46.672996", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:17:46.673094", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:17:46.673198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:17:46.673321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:17:48.068460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:17:48.068654", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:17:48.068787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [3]\n"}
{"timestamp": "2025-05-16T13:17:48.069182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:17:48.069325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:17:52.261508", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:17:52.261632", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1eJBKP8H_7t7G16sKvLXQZtEIpUPyBASU"}
{"timestamp": "2025-05-16T13:17:52.261755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1eJBKP8H_7t7G16sKvLXQZtEIpUPyBASU/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:17:52.261916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:17:52.262003", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:17:52.262720", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:18:14.977719", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 16373"}
{"timestamp": "2025-05-16T13:18:14.981219", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:18:14.981455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:18:14.981737", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:18:14.981942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:18:15.017713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:18:19.928999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:18:19.929115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1qmM6LNv1CepDw7K0N0wabpABwF-lcucz"}
{"timestamp": "2025-05-16T13:18:19.929198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1qmM6LNv1CepDw7K0N0wabpABwF-lcucz/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:18:19.929350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:18:19.929472", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:18:19.929558", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:18:19.929798", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Equa\u00e7\u00e3o fundamental"}
{"timestamp": "2025-05-16T13:18:19.929905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Equa\u00e7\u00e3o fundamental</title>\n    <link href=\"..."}
{"timestamp": "2025-05-16T13:18:19.930039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:18:19.930119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:18:19.930194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:18:19.930270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:18:19.930350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 49.73 seconds"}
{"timestamp": "2025-05-16T13:18:19.930462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:18:19.930548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94117"}
{"timestamp": "2025-05-16T13:18:19.930625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 12765 characters"}
{"timestamp": "2025-05-16T13:18:19.930694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:18:19.930911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:18:19.931037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747401499.9309902, start: 1747401450.1365116, diff type: <class 'float'>, value: 49.79447865486145"}
{"timestamp": "2025-05-16T13:18:19.931130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 49.79447865486145"}
{"timestamp": "2025-05-16T13:18:19.931212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:18:19.931305", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:18:19.931422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:18:19.931520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:18:19.931600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:18:19.931685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 49.79447865486145 = 49.79447865486145"}
{"timestamp": "2025-05-16T13:18:19.931794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:18:19.931895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 49.79447865486145"}
{"timestamp": "2025-05-16T13:18:19.931998", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 49.79447865486145"}
{"timestamp": "2025-05-16T13:18:19.932076", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:18:19.932156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:18:19.933914", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:18:19.934087", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:18:19.982427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:18:21.204963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:18:23.227294", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:18:23.227752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:18:23.227917", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747401503.2276447"}
{"timestamp": "2025-05-16T13:18:23.228033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:18:23.228142", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:18:23.228255", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:18:23.259510", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:18:23.259669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:18:24.501666", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:18:24.774397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:18:25.368743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:18:25.664074", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:26.232673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:18:26.564642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:27.096239", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:18:27.444604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:27.957409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:18:28.355696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:28.822400", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:18:29.295605", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:18:29.686870", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:18:30.233835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:30.549520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:18:31.156074", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:31.412409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:18:32.084549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:32.279607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:18:33.003497", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:33.178447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:18:33.929052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:34.107376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:18:34.859105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:18:35.031037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:18:35.804503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:18:35.804795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:18:35.805016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:18:36.723874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:18:38.521156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:18:38.521320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:18:38.521433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747401518.5213883"}
{"timestamp": "2025-05-16T13:18:38.521514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:18:38.521591", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:18:38.521669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:18:38.521775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:18:38.521851", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:18:38.521926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:18:38.522013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:18:38.522093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:18:38.522168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:18:38.522643", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:18:38.522840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 2.json"}
{"timestamp": "2025-05-16T13:18:38.523035", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T13:18:38.523218", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 1"}
{"timestamp": "2025-05-16T13:18:38.523497", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 1884"}
{"timestamp": "2025-05-16T13:18:38.523717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:18:38.523948", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/ckwsengt.pdf"}
{"timestamp": "2025-05-16T13:18:38.524082", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:18:38.524276", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:18:38.524518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:18:38.641794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/ckwsengt.pdf"}
{"timestamp": "2025-05-16T13:18:38.642186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:18:38.645361", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:18:38.645948", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:18:38.646208", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:18:38.646477", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:18:38.646715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:18:38.647033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:18:39.340446", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747401519.3403504.pdf"}
{"timestamp": "2025-05-16T13:18:39.340625", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:18:39.340734", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:18:39.340817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:18:39.485544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747401519.3403504.pdf"}
{"timestamp": "2025-05-16T13:18:39.486234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:18:39.486711", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:18:39.487211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:18:39.488155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:18:39.488892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:18:39.489386", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:18:39.490453", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:18:39.491479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:18:52.556057", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:18:52.556261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:18:52.556339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Projeto e Organiza\u00e7\u00e3o s\u00e3o habilidades essenciais, independentemente da \u00e1rea de atua\u00e7\u00e3o. Compreender como estruturar e conduzir projetos de forma eficaz pode ser um diferencial, inclusive para profissi..."}
{"timestamp": "2025-05-16T13:18:52.556486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:18:52.556615", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:18:52.556765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:18:52.556983", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:18:53.976373", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:18:53.976538", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:18:53.976668", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [2]\n"}
{"timestamp": "2025-05-16T13:18:53.976816", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:18:53.976942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:18:58.092003", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:18:58.092143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1VETEha8ancWOzXUwOQr3xY3jXRmF9BNG"}
{"timestamp": "2025-05-16T13:18:58.092230", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1VETEha8ancWOzXUwOQr3xY3jXRmF9BNG/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:18:58.092348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:18:58.092430", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:18:58.092680", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:19:04.773414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 4465"}
{"timestamp": "2025-05-16T13:19:04.774724", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:19:04.774927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:19:04.775081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:19:04.775225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:19:04.811028", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:19:09.427846", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:19:09.428014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 19tIK_JoRUM9ShH5bBuuo-uTNmv6UCiKu"}
{"timestamp": "2025-05-16T13:19:09.428117", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/19tIK_JoRUM9ShH5bBuuo-uTNmv6UCiKu/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:19:09.428293", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:19:09.428417", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:19:09.428513", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:19:09.428664", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Atividade 1"}
{"timestamp": "2025-05-16T13:19:09.428776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Atividade 1</title>\n    <link href=\"https://..."}
{"timestamp": "2025-05-16T13:19:09.428895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:19:09.428979", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:19:09.429054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:19:09.429130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:19:09.429208", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 30.91 seconds"}
{"timestamp": "2025-05-16T13:19:09.429311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:19:09.429397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94118"}
{"timestamp": "2025-05-16T13:19:09.429470", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6322 characters"}
{"timestamp": "2025-05-16T13:19:09.429542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:19:09.429673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:19:09.429803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747401549.4297416, start: 1747401518.5213883, diff type: <class 'float'>, value: 30.908353328704834"}
{"timestamp": "2025-05-16T13:19:09.429931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 30.908353328704834"}
{"timestamp": "2025-05-16T13:19:09.430014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:19:09.430095", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:19:09.430174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:19:09.430251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:19:09.430365", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:19:09.430453", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 30.908353328704834 = 30.908353328704834"}
{"timestamp": "2025-05-16T13:19:09.430535", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:19:09.430613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 30.908353328704834"}
{"timestamp": "2025-05-16T13:19:09.430689", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 30.908353328704834"}
{"timestamp": "2025-05-16T13:19:09.430764", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:19:09.430881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:19:09.432432", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:19:09.432562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:19:09.479380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:19:10.379825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:19:12.200352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:19:12.200556", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:19:12.200673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747401552.2004898"}
{"timestamp": "2025-05-16T13:19:12.200779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:19:12.200928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:19:12.201037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:19:12.232975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:19:12.233123", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:19:12.780754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:19:13.579582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:19:13.765706", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:19:14.479312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:14.658172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:19:15.382105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:15.556829", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:19:16.279378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:16.470138", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:19:17.196772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:17.380527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:19:18.144554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:19:18.328947", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:19:19.128701", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:19.325342", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:19:20.055975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:20.271559", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:19:21.010356", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:21.204610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:19:21.963354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:22.141285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:19:22.961755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:23.142804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:19:23.916079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:19:24.094973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:19:24.844191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:19:24.844404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:19:24.844546", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:19:25.783234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:19:27.583791", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:19:27.583985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:19:27.584092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747401567.5840468"}
{"timestamp": "2025-05-16T13:19:27.584180", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:19:27.584259", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:19:27.584353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:19:27.584439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:19:27.584514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:19:27.584590", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:19:27.584669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:19:27.584748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:19:27.584843", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:19:27.584944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:19:27.585122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 3.json"}
{"timestamp": "2025-05-16T13:19:27.585238", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T13:19:27.585367", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Humano versus m\u00e1quina"}
{"timestamp": "2025-05-16T13:19:27.585518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 9443"}
{"timestamp": "2025-05-16T13:19:27.585640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:19:27.586291", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/uvl5mlq8.pdf"}
{"timestamp": "2025-05-16T13:19:29.163174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/uvl5mlq8.pdf"}
{"timestamp": "2025-05-16T13:19:29.163454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:19:29.166059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:19:29.166285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:19:29.166380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:19:29.166468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:19:29.166549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:19:29.166633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:19:30.036716", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747401570.036581.pdf"}
{"timestamp": "2025-05-16T13:19:31.704535", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747401570.036581.pdf"}
{"timestamp": "2025-05-16T13:19:31.704720", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:19:31.704819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:19:31.705145", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:19:31.705250", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:19:31.705358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:19:31.705475", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:19:31.705577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:19:31.705670", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:19:45.028321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:19:45.028520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:19:45.028725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Aqui est\u00e1 uma vers\u00e3o adaptada do texto, com foco na contextualiza\u00e7\u00e3o para a \u00e1rea de Humanidades e preserva\u00e7\u00e3o da precis\u00e3o factual:\n\n**Projeto e Organiza\u00e7\u00e3o**\n\nOs conceitos de projeto e organiza\u00e7\u00e3o s\u00e3o..."}
{"timestamp": "2025-05-16T13:19:45.028860", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:19:45.028984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:19:45.029078", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:19:45.029212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:19:46.389527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:19:46.389718", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:19:46.389809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\n"}
{"timestamp": "2025-05-16T13:19:46.389904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:19:46.389994", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:19:50.580583", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:19:50.580795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1o6A9CHqePSfxlfRjy9eFaBZpicLYB28B"}
{"timestamp": "2025-05-16T13:19:50.580997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1o6A9CHqePSfxlfRjy9eFaBZpicLYB28B/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:19:50.581190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:19:50.581336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:19:50.582154", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:20:07.567393", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 11124"}
{"timestamp": "2025-05-16T13:20:07.570223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:20:07.570509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:20:07.570833", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:20:07.571139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:20:07.609984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:20:11.872185", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:20:11.872303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1R_-Uf5ptUexiJxkEaa6xBndNe2LqEfLX"}
{"timestamp": "2025-05-16T13:20:11.872383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1R_-Uf5ptUexiJxkEaa6xBndNe2LqEfLX/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:20:11.872498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:20:11.872577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:20:11.872675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:20:11.872897", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Humano versus m\u00e1quina"}
{"timestamp": "2025-05-16T13:20:11.872982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Humano versus m\u00e1quina</title>\n    <link href..."}
{"timestamp": "2025-05-16T13:20:11.873089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:20:11.873198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:20:11.873278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:20:11.873355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:20:11.873434", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 44.29 seconds"}
{"timestamp": "2025-05-16T13:20:11.873506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:20:11.873580", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94119"}
{"timestamp": "2025-05-16T13:20:11.873669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 9630 characters"}
{"timestamp": "2025-05-16T13:20:11.873768", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:20:11.873963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:20:11.874064", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747401611.8740232, start: 1747401567.5840468, diff type: <class 'float'>, value: 44.289976358413696"}
{"timestamp": "2025-05-16T13:20:11.874199", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 44.289976358413696"}
{"timestamp": "2025-05-16T13:20:11.874324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:20:11.874412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:20:11.874492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:20:11.874566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:20:11.874640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:20:11.874759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 44.289976358413696 = 44.289976358413696"}
{"timestamp": "2025-05-16T13:20:11.874843", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:20:11.874920", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 44.289976358413696"}
{"timestamp": "2025-05-16T13:20:11.874996", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 44.289976358413696"}
{"timestamp": "2025-05-16T13:20:11.875073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:20:11.875152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:20:11.876820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:20:11.876956", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:20:11.911712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:20:12.895038", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:20:14.846024", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:20:14.846218", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:20:14.846312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747401614.846163"}
{"timestamp": "2025-05-16T13:20:14.846416", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:20:14.846520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:20:14.846606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:20:14.877751", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:20:14.877904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:20:15.429854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:20:16.174468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:20:16.352658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:20:17.068397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:17.245131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:20:17.953790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:18.132138", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:20:18.849311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:19.031535", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:20:19.738168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:19.913053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:20:20.680302", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:20:20.856752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:20:21.616018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:21.794003", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:20:22.538857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:22.709806", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:20:23.463786", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:23.636804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:20:24.387327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:24.603384", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:20:25.323008", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:25.500924", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:20:26.252486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:20:26.421685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:20:27.196307", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:20:27.196643", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:20:27.196815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:20:28.118480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:20:29.911115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:20:29.911262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:20:29.911387", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747401629.9113407"}
{"timestamp": "2025-05-16T13:20:29.911607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:20:29.911741", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:20:29.911852", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:20:29.911963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:20:29.912102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:20:29.912199", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:20:29.912277", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:20:29.912383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:20:29.912463", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:20:29.912564", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:20:29.912645", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 4.json"}
{"timestamp": "2025-05-16T13:20:29.912719", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T13:20:29.912792", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 2"}
{"timestamp": "2025-05-16T13:20:29.912899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 3212"}
{"timestamp": "2025-05-16T13:20:29.912980", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:20:29.913167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/97ac3j2i.pdf"}
{"timestamp": "2025-05-16T13:20:29.913279", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:20:29.913364", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:20:29.913442", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:20:30.343811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/97ac3j2i.pdf"}
{"timestamp": "2025-05-16T13:20:30.344025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:20:30.344982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:20:30.345312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:20:30.346036", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:20:30.346537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:20:30.347014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:20:30.347769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:20:31.085877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747401631.0857584.pdf"}
{"timestamp": "2025-05-16T13:20:31.086095", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:20:31.086256", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:20:31.086389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:20:31.208945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747401631.0857584.pdf"}
{"timestamp": "2025-05-16T13:20:31.209312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:20:31.209560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:20:31.209862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:20:31.210101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:20:31.210370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:20:31.210603", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:20:31.210850", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:20:31.211089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:20:44.759574", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:20:44.759729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:20:44.759910", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o\n\n### O que \u00e9 um projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado \u00fanico. Pense em um projeto como algo com um come\u00e7o e um fi..."}
{"timestamp": "2025-05-16T13:20:44.760043", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:20:44.760129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:20:44.760221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:20:44.760320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:20:46.322707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:20:46.322991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:20:46.323134", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T13:20:46.323253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T13:20:46.323409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:20:50.309667", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:20:50.309788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1GH_7-58eYpZOf3X-nnwapWTeHU8q2a9i"}
{"timestamp": "2025-05-16T13:20:50.309872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1GH_7-58eYpZOf3X-nnwapWTeHU8q2a9i/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:20:50.310010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:20:50.310092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:20:50.310332", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:21:11.941344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 13813"}
{"timestamp": "2025-05-16T13:21:11.941707", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Invalid JSON: Invalid \\uXXXX escape: line 69 column 8229 (char 10854)"}
{"timestamp": "2025-05-16T13:21:11.941856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T13:21:49.708450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 28948"}
{"timestamp": "2025-05-16T13:21:49.712243", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid \\uXXXX escape: line 69 column 8229 (char 10854)"}
{"timestamp": "2025-05-16T13:21:49.713548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 28932"}
{"timestamp": "2025-05-16T13:21:49.713727", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 11 column 10 (char 309)"}
{"timestamp": "2025-05-16T13:21:49.713833", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 11 column 10 (char 309)"}
{"timestamp": "2025-05-16T13:21:49.720041", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T13:21:49.720207", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 11 column 10 (char 309)"}
{"timestamp": "2025-05-16T13:21:49.726375", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T13:21:49.726569", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Extra data: line 11 column 10 (char 309)"}
{"timestamp": "2025-05-16T13:21:49.726655", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2/3)"}
{"timestamp": "2025-05-16T13:21:55.953787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: Received initial JSON response of length: 4027"}
{"timestamp": "2025-05-16T13:21:55.954816", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:21:55.954992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:21:55.955144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 2"}
{"timestamp": "2025-05-16T13:21:55.955280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:21:55.994364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:22:00.161170", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:22:00.161347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1xqJF70K0jRsTKjs_A7sIzw51CPjuVs4g"}
{"timestamp": "2025-05-16T13:22:00.161463", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1xqJF70K0jRsTKjs_A7sIzw51CPjuVs4g/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:22:00.161607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:22:00.161709", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:22:00.161787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:22:00.161924", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Projeto e Organiza\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:22:00.162005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Projeto e Organiza\u00e7\u00e3o</title>\n    <link href..."}
{"timestamp": "2025-05-16T13:22:00.162128", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:22:00.162216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:22:00.162294", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:22:00.162368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:22:00.162445", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 90.25 seconds"}
{"timestamp": "2025-05-16T13:22:00.162512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:22:00.162579", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94120"}
{"timestamp": "2025-05-16T13:22:00.162687", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6332 characters"}
{"timestamp": "2025-05-16T13:22:00.162763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:22:00.162897", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:22:00.163000", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747401720.1629593, start: 1747401629.9113407, diff type: <class 'float'>, value: 90.25161862373352"}
{"timestamp": "2025-05-16T13:22:00.163102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 90.25161862373352"}
{"timestamp": "2025-05-16T13:22:00.163205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:22:00.163292", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:22:00.163369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:22:00.163476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:22:00.163552", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:22:00.163680", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 90.25161862373352 = 90.25161862373352"}
{"timestamp": "2025-05-16T13:22:00.163796", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:22:00.163873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 90.25161862373352"}
{"timestamp": "2025-05-16T13:22:00.163942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 90.25161862373352"}
{"timestamp": "2025-05-16T13:22:00.164017", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:22:00.164119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:22:00.165679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:22:00.165830", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:22:00.210396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:22:01.148997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:22:03.018927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:22:03.019426", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:22:03.019642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747401723.0191548"}
{"timestamp": "2025-05-16T13:22:03.019733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:22:03.019809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:22:03.019905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:22:03.049652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:22:03.049836", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:22:04.286480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:22:04.474346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:22:05.156371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:22:05.352992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:06.034460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:22:06.230223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:06.906067", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:22:07.126125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:07.306126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:22:07.998274", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:08.174243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:22:08.919600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:22:09.098285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:22:09.845679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:10.024012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:22:10.646534", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:10.826582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:22:11.568869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:11.741239", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:22:12.475848", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:12.652824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:22:13.389497", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:13.572338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:22:14.309699", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:22:14.493074", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:22:15.230266", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:22:15.230422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:22:15.230571", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:22:16.155779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:22:17.960028", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:22:17.960992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:22:17.961530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747401737.9614289"}
{"timestamp": "2025-05-16T13:22:17.962007", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:22:17.962469", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:22:17.962696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:22:17.963054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:22:17.963403", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:22:17.963681", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:22:17.964054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:22:17.964291", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:22:17.964507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:22:17.964755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:22:17.964839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 1.json"}
{"timestamp": "2025-05-16T13:22:17.964927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T13:22:17.965202", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Entre c\u00f3digos e algoritmos: aprendendo a l\u00f3gica do computador"}
{"timestamp": "2025-05-16T13:22:17.965556", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 6065"}
{"timestamp": "2025-05-16T13:22:17.965813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:22:17.966270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/5m9m6ow4.pdf"}
{"timestamp": "2025-05-16T13:22:18.245354", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Failed to render formula: 404"}
{"timestamp": "2025-05-16T13:22:19.688363", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/5m9m6ow4.pdf"}
{"timestamp": "2025-05-16T13:22:19.688906", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:22:19.691562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:22:19.691830", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:22:19.692124", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:22:19.692355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:22:19.692601", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:22:19.692825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:22:21.200537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747401741.200432.pdf"}
{"timestamp": "2025-05-16T13:22:21.481650", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Failed to render formula: 404"}
{"timestamp": "2025-05-16T13:22:22.911681", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747401741.200432.pdf"}
{"timestamp": "2025-05-16T13:22:22.912338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:22:22.912833", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:22:22.913453", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:22:22.913938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:22:22.915230", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:22:22.915931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:22:22.916510", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:22:22.917552", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:22:31.916950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:22:31.917134", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:22:31.917225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Aqui est\u00e1 a adapta\u00e7\u00e3o do conte\u00fado sobre Projeto e Organiza\u00e7\u00e3o, contextualizado para a \u00e1rea de Humanidades, mantendo a precis\u00e3o factual e seguindo as diretrizes fornecidas:\n\n**Projeto e Organiza\u00e7\u00e3o**\n\n..."}
{"timestamp": "2025-05-16T13:22:31.917313", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:22:31.917397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:22:31.917486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:22:31.917603", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:22:33.282426", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:22:33.283067", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:22:33.283320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\n"}
{"timestamp": "2025-05-16T13:22:33.283466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T13:22:33.283725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:22:36.943267", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:22:36.943438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 17-_02GS-f-mecFykInnPTBxdIvFkxjeJ"}
{"timestamp": "2025-05-16T13:22:36.943548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/17-_02GS-f-mecFykInnPTBxdIvFkxjeJ/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:22:36.943693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:22:36.943837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:22:36.944298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:22:49.406769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 8269"}
{"timestamp": "2025-05-16T13:22:49.408623", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:22:49.408846", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:22:49.409040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:22:49.409250", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:22:49.445930", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:22:54.447561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:22:54.447763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 16M7ap2e3-77o-30pL1B0Zgpv_hWUrtx3"}
{"timestamp": "2025-05-16T13:22:54.448018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/16M7ap2e3-77o-30pL1B0Zgpv_hWUrtx3/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:22:54.448206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:22:54.448336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:22:54.448486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:22:54.448767", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Entre c\u00f3digos e algoritmos: aprendendo a l\u00f3gica do computador"}
{"timestamp": "2025-05-16T13:22:54.448882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Entre c\u00f3digos e algoritmos: aprendendo a l\u00f3g..."}
{"timestamp": "2025-05-16T13:22:54.449004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:22:54.449101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:22:54.449358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:22:54.449449", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:22:54.449535", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 36.48 seconds"}
{"timestamp": "2025-05-16T13:22:54.449612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:22:54.449728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94125"}
{"timestamp": "2025-05-16T13:22:54.449810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 9526 characters"}
{"timestamp": "2025-05-16T13:22:54.449884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:22:54.450068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:22:54.450204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747401774.4501522, start: 1747401737.9614289, diff type: <class 'float'>, value: 36.488723278045654"}
{"timestamp": "2025-05-16T13:22:54.450319", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 36.488723278045654"}
{"timestamp": "2025-05-16T13:22:54.450406", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:22:54.450495", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:22:54.450575", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:22:54.450698", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:22:54.450813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:22:54.450909", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 36.488723278045654 = 36.488723278045654"}
{"timestamp": "2025-05-16T13:22:54.450992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:22:54.451071", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 36.488723278045654"}
{"timestamp": "2025-05-16T13:22:54.451150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 36.488723278045654"}
{"timestamp": "2025-05-16T13:22:54.451282", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:22:54.451367", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:22:54.454153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:22:54.454347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:22:54.504341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:22:55.455986", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:22:57.601794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:22:57.601960", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:22:57.602066", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747401777.6019075"}
{"timestamp": "2025-05-16T13:22:57.602165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:22:57.602306", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:22:57.602424", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:22:57.633573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:22:57.633753", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:22:58.190231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:22:58.974924", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:22:59.175471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:22:59.847391", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:00.042411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:23:00.722902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:00.906043", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:23:01.593135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:01.767413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:23:02.466409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:02.641244", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:23:03.399999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:23:03.571757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:23:04.323958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:04.497342", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:23:05.245348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:05.427644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:23:06.164838", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:06.339387", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:23:07.078432", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:07.258004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:23:07.997696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:08.175384", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:23:08.929597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:23:09.106320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:23:09.902992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:23:09.903193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:23:09.903430", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:23:10.820837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:23:12.669860", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:23:12.670226", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:23:12.670511", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747401792.6704528"}
{"timestamp": "2025-05-16T13:23:12.670620", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:23:12.670714", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:23:12.670803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:23:12.670910", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:23:12.671008", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:23:12.671096", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:23:12.671184", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:23:12.671273", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:23:12.671360", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:23:12.671528", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:23:12.671625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 2.json"}
{"timestamp": "2025-05-16T13:23:12.671714", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T13:23:12.671805", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 1 "}
{"timestamp": "2025-05-16T13:23:12.671975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 2492"}
{"timestamp": "2025-05-16T13:23:12.672085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:23:12.672277", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/kacs8odl.pdf"}
{"timestamp": "2025-05-16T13:23:12.672403", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:23:12.672534", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:23:12.672616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:23:12.793734", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/kacs8odl.pdf"}
{"timestamp": "2025-05-16T13:23:12.794068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:23:12.795073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:23:12.795480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:23:12.796188", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:23:12.796599", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:23:12.797117", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:23:12.797860", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:23:13.509742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747401793.5096357.pdf"}
{"timestamp": "2025-05-16T13:23:13.510170", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:23:13.510330", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:23:13.510496", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:23:13.622093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747401793.5096357.pdf"}
{"timestamp": "2025-05-16T13:23:13.622562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:23:13.622808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:23:13.623108", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:23:13.623348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:23:13.623587", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:23:13.623881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:23:13.624120", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:23:13.624357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:23:27.665723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:23:27.666019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:23:27.666548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o\n\n### Conceitos B\u00e1sicos\n\n**Projeto:** Um projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado exclusivo. Projetos t\u00eam um in\u00edcio e um fim defi..."}
{"timestamp": "2025-05-16T13:23:27.666981", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:23:27.667094", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:23:27.667192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:23:27.667281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:23:29.137436", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:23:29.137697", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:23:29.137876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "VERS\u00c3O 1: [9]\nVERS\u00c3O 2: [2]\n"}
{"timestamp": "2025-05-16T13:23:29.138466", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Could not parse scores from review result, using first contextualization"}
{"timestamp": "2025-05-16T13:23:29.138971", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:23:32.829422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:23:32.829538", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1Vev0OJrctbptOdZ5figGb5tSACKdSSn9"}
{"timestamp": "2025-05-16T13:23:32.829624", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1Vev0OJrctbptOdZ5figGb5tSACKdSSn9/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:23:32.829738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:23:32.829817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:23:32.830070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:24:03.258545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 27222"}
{"timestamp": "2025-05-16T13:24:03.259008", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Invalid JSON: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:03.259146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T13:24:18.053052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 10700"}
{"timestamp": "2025-05-16T13:24:18.062405", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:18.064446", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 27210"}
{"timestamp": "2025-05-16T13:24:18.064621", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:18.064741", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:18.068367", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T13:24:18.068534", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:18.072159", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T13:24:18.072301", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:18.072383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2/3)"}
{"timestamp": "2025-05-16T13:24:49.185255", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: Received initial JSON response of length: 27915"}
{"timestamp": "2025-05-16T13:24:49.186146", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Invalid JSON: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:49.186812", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T13:24:53.585194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 2606"}
{"timestamp": "2025-05-16T13:24:53.594877", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:53.597113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 27903"}
{"timestamp": "2025-05-16T13:24:53.597303", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:53.597430", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:53.601157", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T13:24:53.601332", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:53.605167", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T13:24:53.605489", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: JSON validation failed - Invalid \\uXXXX escape: line 64 column 622 (char 2778)"}
{"timestamp": "2025-05-16T13:24:53.605654", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 3/3)"}
{"timestamp": "2025-05-16T13:25:11.218617", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: Received initial JSON response of length: 14599"}
{"timestamp": "2025-05-16T13:25:11.223373", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:25:11.223714", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:25:11.224001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 3"}
{"timestamp": "2025-05-16T13:25:11.224809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:25:11.270254", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:25:15.493673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:25:15.493831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1oL0HvVTTdjHYwWfXbPQg01GslCcn0MLN"}
{"timestamp": "2025-05-16T13:25:15.493931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1oL0HvVTTdjHYwWfXbPQg01GslCcn0MLN/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:25:15.494053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:25:15.494132", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:25:15.494265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:25:15.494438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Projeto e Organiza\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:25:15.494526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Projeto e Organiza\u00e7\u00e3o</title>\n    <link href..."}
{"timestamp": "2025-05-16T13:25:15.494630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:25:15.494740", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:25:15.494835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:25:15.494929", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:25:15.495012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 122.82 seconds"}
{"timestamp": "2025-05-16T13:25:15.495088", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:25:15.495163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94131"}
{"timestamp": "2025-05-16T13:25:15.495268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6332 characters"}
{"timestamp": "2025-05-16T13:25:15.495345", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:25:15.495490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:25:15.495627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747401915.4955761, start: 1747401792.6704528, diff type: <class 'float'>, value: 122.82512331008911"}
{"timestamp": "2025-05-16T13:25:15.495747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 122.82512331008911"}
{"timestamp": "2025-05-16T13:25:15.495831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:25:15.495914", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:25:15.495995", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:25:15.496073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:25:15.496152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:25:15.496264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 122.82512331008911 = 122.82512331008911"}
{"timestamp": "2025-05-16T13:25:15.496348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:25:15.496428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 122.82512331008911"}
{"timestamp": "2025-05-16T13:25:15.496504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 122.82512331008911"}
{"timestamp": "2025-05-16T13:25:15.496573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:25:15.496651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:25:15.498197", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:25:15.498347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:25:15.532805", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:25:16.510209", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:25:18.287199", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:25:18.287370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:25:18.287468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747401918.287317"}
{"timestamp": "2025-05-16T13:25:18.287576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:25:18.287686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:25:18.287810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:25:18.317595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:25:18.318158", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:25:18.846166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:25:19.576060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:25:19.760638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:25:20.485402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:20.716757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:25:21.394418", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:21.595876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:25:22.289020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:22.464707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:25:23.169129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:23.404578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:25:24.112978", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:25:24.312412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:25:25.053089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:25.233086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:25:25.978737", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:26.150440", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:25:26.908374", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:27.090988", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:25:27.813700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:27.996609", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:25:28.759463", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:28.933840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:25:29.699025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:25:29.949821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:25:30.623772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:25:30.624025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:25:30.624233", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:25:31.542919", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:25:33.326721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:25:33.326991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:25:33.327337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747401933.3272789"}
{"timestamp": "2025-05-16T13:25:33.327588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:25:33.327728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:25:33.327813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:25:33.327902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:25:33.327970", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:25:33.328061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:25:33.328140", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:25:33.328240", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:25:33.328343", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:25:33.328420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:25:33.328496", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 3.json"}
{"timestamp": "2025-05-16T13:25:33.328570", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T13:25:33.328646", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O conceito de c\u00f3digo"}
{"timestamp": "2025-05-16T13:25:33.328779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 9297"}
{"timestamp": "2025-05-16T13:25:33.328885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:25:33.329099", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/1ysp1e80.pdf"}
{"timestamp": "2025-05-16T13:25:34.939400", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/1ysp1e80.pdf"}
{"timestamp": "2025-05-16T13:25:34.939554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:25:34.941176", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:25:34.941468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:25:34.941724", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:25:34.941835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:25:34.941974", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:25:34.942125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:25:35.660055", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747401935.6598575.pdf"}
{"timestamp": "2025-05-16T13:25:37.349991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747401935.6598575.pdf"}
{"timestamp": "2025-05-16T13:25:37.350825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:25:37.351365", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:25:37.352164", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:25:37.352679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:25:37.353457", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:25:37.353984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:25:37.354502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:25:37.355335", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:25:49.127194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:25:49.127662", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:25:49.127820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Aqui est\u00e1 o conte\u00fado adaptado, seguindo as suas instru\u00e7\u00f5es e mantendo o limite de palavras:\n\n### Projeto e Organiza\u00e7\u00e3o\n\n#### Introdu\u00e7\u00e3o\n\nProjeto e organiza\u00e7\u00e3o s\u00e3o elementos essenciais para alcan\u00e7ar ob..."}
{"timestamp": "2025-05-16T13:25:49.127935", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:25:49.128021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:25:49.128107", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:25:49.128187", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:25:50.510439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:25:50.511258", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:25:50.511981", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "VERS\u00c3O 1: [8]\nVERS\u00c3O 2: [1]\n"}
{"timestamp": "2025-05-16T13:25:50.512164", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Could not parse scores from review result, using first contextualization"}
{"timestamp": "2025-05-16T13:25:50.512290", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:25:54.160020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:25:54.160187", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1Ymbo_Fn85Xs9pbxP1vWr5ZQqNZphOV3g"}
{"timestamp": "2025-05-16T13:25:54.160303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1Ymbo_Fn85Xs9pbxP1vWr5ZQqNZphOV3g/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:25:54.160433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:25:54.160516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:25:54.161039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:26:12.827611", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 12977"}
{"timestamp": "2025-05-16T13:26:12.830578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:26:12.831608", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:26:12.831927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:26:12.832174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:26:12.867746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:26:17.528784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:26:17.528975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1miKrJEYoLHRQihc0kGFXuFj8Noh1TsQX"}
{"timestamp": "2025-05-16T13:26:17.529086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1miKrJEYoLHRQihc0kGFXuFj8Noh1TsQX/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:26:17.529238", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:26:17.529340", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:26:17.529465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:26:17.529723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: O conceito de c\u00f3digo"}
{"timestamp": "2025-05-16T13:26:17.529854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>O conceito de c\u00f3digo</title>\n    <link href=..."}
{"timestamp": "2025-05-16T13:26:17.530021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:26:17.530128", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:26:17.530252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:26:17.530354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:26:17.530500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 44.20 seconds"}
{"timestamp": "2025-05-16T13:26:17.530594", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:26:17.530690", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94146"}
{"timestamp": "2025-05-16T13:26:17.530783", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 10381 characters"}
{"timestamp": "2025-05-16T13:26:17.530881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:26:17.531144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:26:17.531271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747401977.531217, start: 1747401933.3272789, diff type: <class 'float'>, value: 44.203938245773315"}
{"timestamp": "2025-05-16T13:26:17.531387", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 44.203938245773315"}
{"timestamp": "2025-05-16T13:26:17.531526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:26:17.531623", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:26:17.531743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:26:17.531841", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:26:17.531962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:26:17.532072", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 44.203938245773315 = 44.203938245773315"}
{"timestamp": "2025-05-16T13:26:17.532170", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:26:17.532333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 44.203938245773315"}
{"timestamp": "2025-05-16T13:26:17.532453", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 44.203938245773315"}
{"timestamp": "2025-05-16T13:26:17.532562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:26:17.532661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:26:17.534608", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:26:17.534903", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:26:17.570482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:26:18.564040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:26:20.420087", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:26:20.420238", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:26:20.420353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747401980.4201863"}
{"timestamp": "2025-05-16T13:26:20.420456", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:26:20.420534", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:26:20.420615", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:26:20.450918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:26:20.451065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:26:21.683009", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:26:21.875001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:26:22.547932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:26:22.750649", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:23.417174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:26:23.618422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:24.293284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:26:24.504010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:25.160535", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:26:25.376602", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:26.031647", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:26:26.304203", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:26:26.892549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:26:27.229220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:27.756448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:26:28.152919", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:28.623706", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:26:29.072463", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:29.490749", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:26:29.984259", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:30.358362", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:26:30.899528", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:31.224573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:26:31.815720", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:26:32.100001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:26:32.740264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:26:32.740438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:26:32.740566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:26:33.670892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:26:35.467990", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:26:35.469365", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:26:35.469669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747401995.469578"}
{"timestamp": "2025-05-16T13:26:35.469863", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:26:35.469978", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:26:35.470085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:26:35.470217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:26:35.470351", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:26:35.470459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:26:35.470565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:26:35.470694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:26:35.470828", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:26:35.470931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:26:35.471032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 4.json"}
{"timestamp": "2025-05-16T13:26:35.471129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T13:26:35.471265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 2"}
{"timestamp": "2025-05-16T13:26:35.471411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 2395"}
{"timestamp": "2025-05-16T13:26:35.471520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:26:35.471803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/qhbhonsn.pdf"}
{"timestamp": "2025-05-16T13:26:35.471980", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:26:35.472100", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:26:35.472229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:26:35.621452", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/qhbhonsn.pdf"}
{"timestamp": "2025-05-16T13:26:35.621729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:26:35.639831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:26:35.639977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:26:35.640251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:26:35.640369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:26:35.640492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:26:35.640674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:26:36.306221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747401996.3060653.pdf"}
{"timestamp": "2025-05-16T13:26:36.306409", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:26:36.306490", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:26:36.306567", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:26:36.417221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747401996.3060653.pdf"}
{"timestamp": "2025-05-16T13:26:36.417454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:26:36.417686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:26:36.417975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:26:36.418070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:26:36.418160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:26:36.418250", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:26:36.418383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:26:36.418471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:26:47.865726", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:26:47.866008", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:26:47.866170", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o\n\n### O que \u00e9 um projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado \u00fanico. Essa defini\u00e7\u00e3o, embora simples, abrange uma vasta g..."}
{"timestamp": "2025-05-16T13:26:47.866326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:26:47.866443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:26:47.866551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:26:47.866691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:26:49.391236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:26:49.392112", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:26:49.392369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "VERS\u00c3O 1: [8]\nVERS\u00c3O 2: [1]\n"}
{"timestamp": "2025-05-16T13:26:49.392495", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Could not parse scores from review result, using first contextualization"}
{"timestamp": "2025-05-16T13:26:49.392607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:26:53.209358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:26:53.209551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1a42n7H8IGbB-bq7gokJEBj8bSzFf_NkQ"}
{"timestamp": "2025-05-16T13:26:53.209746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1a42n7H8IGbB-bq7gokJEBj8bSzFf_NkQ/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:26:53.209950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:26:53.210102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:26:53.210419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:26:59.258452", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 3320"}
{"timestamp": "2025-05-16T13:26:59.260037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:26:59.260216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:26:59.260369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:26:59.260504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:26:59.295788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:27:03.189866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:27:03.190012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 18ZSpqhTnUR9qYf27_gKd_ldQYbCeAg_d"}
{"timestamp": "2025-05-16T13:27:03.190109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/18ZSpqhTnUR9qYf27_gKd_ldQYbCeAg_d/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:27:03.190244", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:27:03.190346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:27:03.190424", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:27:03.190550", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Projeto e Organiza\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:27:03.190631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Projeto e Organiza\u00e7\u00e3o</title>\n    <link href..."}
{"timestamp": "2025-05-16T13:27:03.190772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:27:03.190849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:27:03.190944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:27:03.191020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:27:03.191099", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 27.72 seconds"}
{"timestamp": "2025-05-16T13:27:03.191192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:27:03.191286", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 98018"}
{"timestamp": "2025-05-16T13:27:03.191379", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6332 characters"}
{"timestamp": "2025-05-16T13:27:03.191454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:27:03.191606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:27:03.191711", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402023.1916678, start: 1747401995.469578, diff type: <class 'float'>, value: 27.722089767456055"}
{"timestamp": "2025-05-16T13:27:03.191834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 27.722089767456055"}
{"timestamp": "2025-05-16T13:27:03.191918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:27:03.191997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:27:03.192071", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:27:03.192151", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:27:03.192241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:27:03.192346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 27.722089767456055 = 27.722089767456055"}
{"timestamp": "2025-05-16T13:27:03.192426", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:27:03.192503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 27.722089767456055"}
{"timestamp": "2025-05-16T13:27:03.192581", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 27.722089767456055"}
{"timestamp": "2025-05-16T13:27:03.192652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:27:03.192730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:27:03.194358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:27:03.194502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:27:03.229093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:27:04.122163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:27:05.580000", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:27:05.580177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:27:05.580270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402025.5801265"}
{"timestamp": "2025-05-16T13:27:05.580362", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:27:05.580439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:27:05.580555", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:27:05.611103", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:27:05.611251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:27:06.856685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:27:07.073547", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:27:07.730042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:27:07.958885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:08.598644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:27:08.834212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:09.472225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:27:09.706369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:10.337866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:27:10.614652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:11.232136", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:27:11.535584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:27:12.096042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:27:12.449818", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:12.965724", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:27:13.369909", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:13.826498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:27:14.280874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:14.689442", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:27:15.186623", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:15.548372", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:27:16.099786", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:16.410770", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:27:17.026183", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:27:17.274862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:27:17.952524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:27:17.952688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:27:17.952832", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:27:18.869562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:27:20.777293", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:27:20.777438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:27:20.777578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402040.7775273"}
{"timestamp": "2025-05-16T13:27:20.777668", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:27:20.777753", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:27:20.777830", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:27:20.777908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:27:20.778016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:27:20.778103", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:27:20.778179", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:27:20.778259", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:27:20.778338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:27:20.778427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:27:20.778530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 5.json"}
{"timestamp": "2025-05-16T13:27:20.778631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T13:27:20.778707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Algoritmo"}
{"timestamp": "2025-05-16T13:27:20.778817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 7044"}
{"timestamp": "2025-05-16T13:27:20.778897", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:27:20.779112", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/kbewd4z9.pdf"}
{"timestamp": "2025-05-16T13:27:22.388810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/kbewd4z9.pdf"}
{"timestamp": "2025-05-16T13:27:22.389036", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:27:22.390573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:27:22.390723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:27:22.390811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:27:22.390913", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:27:22.391020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:27:22.391106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:27:23.071425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402043.071141.pdf"}
{"timestamp": "2025-05-16T13:27:25.081190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747402043.071141.pdf"}
{"timestamp": "2025-05-16T13:27:25.081332", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:27:25.081427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:27:25.081625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:27:25.081720", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:27:25.081804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:27:25.081892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:27:25.081978", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:27:25.082054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:27:37.179514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:27:37.179965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:27:37.180393", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Projeto e Organiza\u00e7\u00e3o: Uma Abordagem Contextualizada para as Humanidades\n\nGerenciar projetos e organizar tarefas de maneira eficaz s\u00e3o habilidades cruciais em qualquer campo, e nas Humanidades n\u00e3o \u00e9 d..."}
{"timestamp": "2025-05-16T13:27:37.180563", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:27:37.180788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:27:37.181101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:27:37.181390", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:27:38.678415", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:27:38.678989", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:27:38.679133", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [2]\n"}
{"timestamp": "2025-05-16T13:27:38.679269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:27:38.679393", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:27:42.566991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:27:42.567138", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 12XL0CPXddbQTyyBBiSkzObNrNeY-TyQG"}
{"timestamp": "2025-05-16T13:27:42.567279", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/12XL0CPXddbQTyyBBiSkzObNrNeY-TyQG/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:27:42.567410", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:27:42.567514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:27:42.568020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:27:54.992360", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 8071"}
{"timestamp": "2025-05-16T13:27:54.994350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:27:54.994550", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:27:54.994765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:27:54.994926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:27:55.031825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:27:59.139647", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:27:59.139781", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1zQC370IGJVceogzLZgJ90RMHN8PVWSmF"}
{"timestamp": "2025-05-16T13:27:59.139886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1zQC370IGJVceogzLZgJ90RMHN8PVWSmF/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:27:59.140009", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:27:59.140091", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:27:59.140200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:27:59.140396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Projeto e Organiza\u00e7\u00e3o: Uma Abordagem Contextualizada para as Humanidades"}
{"timestamp": "2025-05-16T13:27:59.140481", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Projeto e Organiza\u00e7\u00e3o: Uma Abordagem Context..."}
{"timestamp": "2025-05-16T13:27:59.140585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:27:59.140688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:27:59.140767", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:27:59.140847", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:27:59.140927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 38.36 seconds"}
{"timestamp": "2025-05-16T13:27:59.141003", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:27:59.141100", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94163"}
{"timestamp": "2025-05-16T13:27:59.141195", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 8750 characters"}
{"timestamp": "2025-05-16T13:27:59.141281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:27:59.141464", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:27:59.141600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402079.1415572, start: 1747402040.7775273, diff type: <class 'float'>, value: 38.36402988433838"}
{"timestamp": "2025-05-16T13:27:59.141856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 38.36402988433838"}
{"timestamp": "2025-05-16T13:27:59.141941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:27:59.142021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:27:59.142097", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:27:59.142174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:27:59.142280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:27:59.142366", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 38.36402988433838 = 38.36402988433838"}
{"timestamp": "2025-05-16T13:27:59.142443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:27:59.142527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 38.36402988433838"}
{"timestamp": "2025-05-16T13:27:59.142603", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 38.36402988433838"}
{"timestamp": "2025-05-16T13:27:59.142679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:27:59.142792", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:27:59.144493", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:27:59.144621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:27:59.190723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:28:00.105358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:28:01.852653", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:28:01.852820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:28:01.852965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402081.8527644"}
{"timestamp": "2025-05-16T13:28:01.853058", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:28:01.853135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:28:01.853227", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:28:01.883414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:28:01.883588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:28:02.420401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:28:03.174337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:28:03.362936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:28:04.050755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:04.239034", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:28:04.920838", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:05.104318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:28:05.800904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:05.987155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:28:06.684725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:06.863651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:28:07.608557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:28:07.788785", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:28:08.541772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:08.724604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:28:09.461200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:09.635313", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:28:10.374901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:10.561772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:28:11.286611", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:11.465327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:28:12.214930", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:12.389158", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:28:13.138887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:28:13.314703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:28:14.060500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:14.060750", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:28:14.060936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:28:15.002085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:28:16.804157", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:28:16.804551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:28:16.804711", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402096.804649"}
{"timestamp": "2025-05-16T13:28:16.804849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:28:16.804949", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:28:16.805040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:28:16.805129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:28:16.805196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:28:16.805294", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:28:16.805376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:28:16.805451", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:28:16.805526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:28:16.805598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:28:16.805671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 6.json"}
{"timestamp": "2025-05-16T13:28:16.805743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T13:28:16.805853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 3"}
{"timestamp": "2025-05-16T13:28:16.805964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 2230"}
{"timestamp": "2025-05-16T13:28:16.806045", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:28:16.806206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/5fr9glod.pdf"}
{"timestamp": "2025-05-16T13:28:16.806337", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:28:16.806443", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:28:16.806524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:28:17.008862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/5fr9glod.pdf"}
{"timestamp": "2025-05-16T13:28:17.009322", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:28:17.014327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:28:17.014626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:28:17.014779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:28:17.014868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:28:17.014947", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:28:17.015038", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:28:17.727050", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402097.7268856.pdf"}
{"timestamp": "2025-05-16T13:28:17.727700", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:28:17.727800", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:28:17.727881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:28:17.863049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747402097.7268856.pdf"}
{"timestamp": "2025-05-16T13:28:17.863382", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:28:17.863519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:28:17.863681", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:28:17.863802", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:28:17.863956", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:28:17.864065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:28:17.864169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:28:17.864273", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:28:26.655103", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:28:26.655282", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:28:26.655429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Compreendo a necessidade de adaptar o conte\u00fado sobre Projeto e Organiza\u00e7\u00e3o para o contexto espec\u00edfico de Humanidades, mantendo a precis\u00e3o factual e a estrutura original. Abaixo est\u00e1 a adapta\u00e7\u00e3o solici..."}
{"timestamp": "2025-05-16T13:28:26.655539", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:28:26.655640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:28:26.655747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:28:26.655844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:28:28.155652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:28:28.155904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:28:28.156101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\n"}
{"timestamp": "2025-05-16T13:28:28.156288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:28:28.156905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:28:32.009225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:28:32.009407", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1bJYhANwyH5gkxkeFaorywFb-eUsSSNVU"}
{"timestamp": "2025-05-16T13:28:32.009524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1bJYhANwyH5gkxkeFaorywFb-eUsSSNVU/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:28:32.009673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:28:32.009776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:28:32.010101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:28:38.080786", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 3170"}
{"timestamp": "2025-05-16T13:28:38.081979", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:28:38.082152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:28:38.082288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:28:38.082419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:28:38.117894", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:28:42.081346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:28:42.081491", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1VPkdSFjuTFjF5vksv1oC0Kwyn8QVzsnr"}
{"timestamp": "2025-05-16T13:28:42.081596", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1VPkdSFjuTFjF5vksv1oC0Kwyn8QVzsnr/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:28:42.081716", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:28:42.081814", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:28:42.081916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:28:42.082126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Atividade 3"}
{"timestamp": "2025-05-16T13:28:42.082368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Atividade 3</title>\n    <link href=\"https://..."}
{"timestamp": "2025-05-16T13:28:42.082581", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:28:42.082932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:28:42.083204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:28:42.083660", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:28:42.083778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 25.28 seconds"}
{"timestamp": "2025-05-16T13:28:42.083901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:28:42.083994", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94168"}
{"timestamp": "2025-05-16T13:28:42.084083", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6322 characters"}
{"timestamp": "2025-05-16T13:28:42.084175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:28:42.084392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:28:42.084512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402122.084468, start: 1747402096.804649, diff type: <class 'float'>, value: 25.279818773269653"}
{"timestamp": "2025-05-16T13:28:42.084606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 25.279818773269653"}
{"timestamp": "2025-05-16T13:28:42.084685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:28:42.084765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:28:42.084840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:28:42.084940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:28:42.085015", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:28:42.085093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 25.279818773269653 = 25.279818773269653"}
{"timestamp": "2025-05-16T13:28:42.085169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:28:42.085247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 25.279818773269653"}
{"timestamp": "2025-05-16T13:28:42.085316", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 25.279818773269653"}
{"timestamp": "2025-05-16T13:28:42.085405", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:28:42.085514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:28:42.087612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:28:42.087791", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:28:42.121658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:28:43.112306", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:28:44.950025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:28:44.950204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:28:44.950316", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402124.9501495"}
{"timestamp": "2025-05-16T13:28:44.950414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:28:44.950512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:28:44.950598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:28:44.980657", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:28:44.980830", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:28:45.517412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:28:46.272273", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:28:46.465439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:28:47.144993", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:47.357638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:28:48.016318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:48.229660", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:28:48.890520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:49.104888", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:28:49.763285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:49.969163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:28:50.681315", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:28:50.855177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:28:51.599551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:51.777007", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:28:52.519806", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:52.716269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:28:53.430121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:53.607738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:28:54.338379", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:54.524073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:28:55.256905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:55.433180", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:28:56.180468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:28:56.363462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:28:57.099754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:28:57.100054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:28:57.100186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:28:58.013946", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:28:59.812051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:28:59.812228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:28:59.812390", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402139.8123226"}
{"timestamp": "2025-05-16T13:28:59.812505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:28:59.812608", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:28:59.812726", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:28:59.812851", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:28:59.812953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:28:59.813050", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:28:59.813148", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:28:59.813247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:28:59.813416", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:28:59.813574", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:28:59.813683", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 7.json"}
{"timestamp": "2025-05-16T13:28:59.813787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T13:28:59.813938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Como os computadores evoluem"}
{"timestamp": "2025-05-16T13:28:59.814096", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 11988"}
{"timestamp": "2025-05-16T13:28:59.814208", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:28:59.814592", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/763wq38n.pdf"}
{"timestamp": "2025-05-16T13:29:01.705037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/763wq38n.pdf"}
{"timestamp": "2025-05-16T13:29:01.705208", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:29:01.706745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:29:01.706936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:29:01.707241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:29:01.707584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:29:01.707925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:29:01.708176", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:29:02.396255", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402142.3958237.pdf"}
{"timestamp": "2025-05-16T13:29:04.012407", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747402142.3958237.pdf"}
{"timestamp": "2025-05-16T13:29:04.012831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:29:04.013168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:29:04.013597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:29:04.013913", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:29:04.014212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:29:04.014533", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:29:04.014840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:29:04.015133", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:29:14.976819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:29:14.976997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:29:14.977109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Aqui est\u00e1 o conte\u00fado adaptado conforme suas orienta\u00e7\u00f5es:\n\n### Projeto e Organiza\u00e7\u00e3o\n\n#### Conceitos B\u00e1sicos de Projeto\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou..."}
{"timestamp": "2025-05-16T13:29:14.977261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:29:14.977348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:29:14.977429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:29:14.977507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:29:16.443371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:29:16.443719", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:29:16.443824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T13:29:16.443946", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T13:29:16.444069", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:29:19.926717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:29:19.927182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 160AkAqVIQ8FdjGbfBBqCykWQcO2Qbnkg"}
{"timestamp": "2025-05-16T13:29:19.927696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/160AkAqVIQ8FdjGbfBBqCykWQcO2Qbnkg/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:29:19.928286", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:29:19.928584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:29:19.929814", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:29:55.742111", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 26605"}
{"timestamp": "2025-05-16T13:29:55.748140", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:29:55.748502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:29:55.748918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:29:55.749251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:29:55.789921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:30:00.013039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:30:00.013380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1x8UZgZZr56DXQ353fJlIf4xdchxJ08pG"}
{"timestamp": "2025-05-16T13:30:00.013919", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1x8UZgZZr56DXQ353fJlIf4xdchxJ08pG/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:30:00.014094", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:30:00.014237", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:30:00.014460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:30:00.015035", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Como os computadores evoluem"}
{"timestamp": "2025-05-16T13:30:00.015181", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Como os computadores evoluem</title>\n    <li..."}
{"timestamp": "2025-05-16T13:30:00.015327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:30:00.015430", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:30:00.015542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:30:00.015692", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:30:00.015819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 60.20 seconds"}
{"timestamp": "2025-05-16T13:30:00.015902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:30:00.015975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94237"}
{"timestamp": "2025-05-16T13:30:00.016050", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 18625 characters"}
{"timestamp": "2025-05-16T13:30:00.016122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:30:00.016358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:30:00.016482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402200.0164359, start: 1747402139.8123226, diff type: <class 'float'>, value: 60.204113245010376"}
{"timestamp": "2025-05-16T13:30:00.016577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 60.204113245010376"}
{"timestamp": "2025-05-16T13:30:00.016661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:30:00.016779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:30:00.016858", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:30:00.016935", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:30:00.017020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:30:00.017098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 60.204113245010376 = 60.204113245010376"}
{"timestamp": "2025-05-16T13:30:00.017168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:30:00.017284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 60.204113245010376"}
{"timestamp": "2025-05-16T13:30:00.017357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 60.204113245010376"}
{"timestamp": "2025-05-16T13:30:00.017421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:30:00.017482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:30:00.018998", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:30:00.019130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:30:00.052581", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:30:01.002011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:30:02.759826", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:30:02.760005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:30:02.760121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402202.7599316"}
{"timestamp": "2025-05-16T13:30:02.760206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:30:02.760299", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:30:02.760389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:30:02.790008", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:30:02.790198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:30:03.397109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:30:04.174700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:30:04.358001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:30:05.077250", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:05.263835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:30:05.971866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:06.148071", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:30:06.851121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:07.039835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:30:07.714217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:07.909109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:30:08.633488", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:30:08.811615", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:30:09.558051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:09.738016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:30:10.542253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:10.737729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:30:11.473081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:11.642522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:30:12.381996", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:12.555977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:30:13.292861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:13.472410", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:30:14.219522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:30:14.396162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:30:15.150159", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:15.150344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:30:15.150495", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:30:16.062278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:30:17.854014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:30:17.854190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:30:17.854292", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402217.854248"}
{"timestamp": "2025-05-16T13:30:17.854374", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:30:17.854453", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:30:17.854530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:30:17.854626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:30:17.854709", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:30:17.854784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:30:17.854862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:30:17.854938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:30:17.855013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:30:17.855089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:30:17.855208", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 8.json"}
{"timestamp": "2025-05-16T13:30:17.855279", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T13:30:17.855355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 4"}
{"timestamp": "2025-05-16T13:30:17.855458", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 2146"}
{"timestamp": "2025-05-16T13:30:17.855537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:30:17.855712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/ks5tp8cr.pdf"}
{"timestamp": "2025-05-16T13:30:17.855822", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:30:17.855903", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:30:17.855979", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:30:17.969036", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/ks5tp8cr.pdf"}
{"timestamp": "2025-05-16T13:30:17.969262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:30:17.970043", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:30:17.970126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:30:17.970239", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:30:17.970324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:30:17.970405", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:30:17.970485", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:30:18.677852", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402218.6777306.pdf"}
{"timestamp": "2025-05-16T13:30:18.678985", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:30:18.679249", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:30:18.679450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:30:18.790911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747402218.6777306.pdf"}
{"timestamp": "2025-05-16T13:30:18.791445", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:30:18.791705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:30:18.792031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:30:18.792249", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:30:18.792498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:30:18.792719", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:30:18.792959", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:30:18.793176", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:30:31.132256", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:30:31.132409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:30:31.132503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o\n\n### O que \u00e9 um Projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio, \u00fanico e progressivo para criar um produto, servi\u00e7o ou resultado. A natureza tempor\u00e1ria de um projeto indica um co..."}
{"timestamp": "2025-05-16T13:30:31.132595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:30:31.132720", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:30:31.132812", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:30:31.132892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:30:32.546551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:30:32.546745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:30:32.546875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 9\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T13:30:32.547029", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T13:30:32.547150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:30:36.252672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:30:36.252821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1TdDn1WfXrUikvFMUO8mt8XWHOX0zg773"}
{"timestamp": "2025-05-16T13:30:36.253014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1TdDn1WfXrUikvFMUO8mt8XWHOX0zg773/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:30:36.253168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:30:36.253262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:30:36.253512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:30:42.242801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 3141"}
{"timestamp": "2025-05-16T13:30:42.243886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:30:42.244069", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:30:42.244272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:30:42.244462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:30:42.286612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:30:46.151207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:30:46.151444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 18jCDIcqpJ3by2yqctCEG-Qj6dDUdyHPp"}
{"timestamp": "2025-05-16T13:30:46.151554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/18jCDIcqpJ3by2yqctCEG-Qj6dDUdyHPp/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:30:46.151676", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:30:46.151757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:30:46.151849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:30:46.152064", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Projeto e Organiza\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:30:46.152197", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Projeto e Organiza\u00e7\u00e3o</title>\n    <link href..."}
{"timestamp": "2025-05-16T13:30:46.152312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:30:46.152395", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:30:46.152499", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:30:46.152579", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:30:46.152661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 28.30 seconds"}
{"timestamp": "2025-05-16T13:30:46.152746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:30:46.152822", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94243"}
{"timestamp": "2025-05-16T13:30:46.152919", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6332 characters"}
{"timestamp": "2025-05-16T13:30:46.153223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:30:46.153385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:30:46.154950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402246.1544228, start: 1747402217.854248, diff type: <class 'float'>, value: 28.300174713134766"}
{"timestamp": "2025-05-16T13:30:46.155109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 28.300174713134766"}
{"timestamp": "2025-05-16T13:30:46.155658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:30:46.155781", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:30:46.155864", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:30:46.155943", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:30:46.156048", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:30:46.156134", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 28.300174713134766 = 28.300174713134766"}
{"timestamp": "2025-05-16T13:30:46.156215", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:30:46.156296", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 28.300174713134766"}
{"timestamp": "2025-05-16T13:30:46.156372", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 28.300174713134766"}
{"timestamp": "2025-05-16T13:30:46.156462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:30:46.156583", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:30:46.158546", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:30:46.158721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:30:46.194821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:30:47.130702", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:30:49.496431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:30:49.496803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:30:49.497024", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402249.4967103"}
{"timestamp": "2025-05-16T13:30:49.497508", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:30:49.497640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:30:49.497758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:30:49.527584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:30:49.527743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:30:50.792567", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:30:51.076795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:30:51.659763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:30:51.962260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:52.523662", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:30:52.850745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:53.385625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:30:53.738776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:54.248443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:30:54.610586", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:55.116728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:30:55.535153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:30:55.981482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:30:56.450903", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:56.839051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:30:57.371136", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:57.699397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:30:58.282544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:58.565019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:30:59.211585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:30:59.433794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:31:00.174474", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:00.353593", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:31:01.096499", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:31:01.281582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:31:02.018178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:02.018370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:31:02.018497", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:31:02.953954", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:31:04.766862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:31:04.767155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:31:04.767340", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402264.7672737"}
{"timestamp": "2025-05-16T13:31:04.767520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:31:04.767672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:31:04.767795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:31:04.767895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:31:04.768017", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:31:04.768142", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:31:04.768245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:31:04.768348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:31:04.768448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:31:04.768568", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:31:04.768685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 1.json"}
{"timestamp": "2025-05-16T13:31:04.768789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 3"}
{"timestamp": "2025-05-16T13:31:04.768883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Contextualiza\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:31:04.769072", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 1838"}
{"timestamp": "2025-05-16T13:31:04.769205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:31:04.769401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/h_vh2vyz.pdf"}
{"timestamp": "2025-05-16T13:31:06.181589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/h_vh2vyz.pdf"}
{"timestamp": "2025-05-16T13:31:06.182298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:31:06.188516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:31:06.188652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:31:06.188762", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:31:06.188857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:31:06.188936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:31:06.189016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:31:07.592613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402267.59249.pdf"}
{"timestamp": "2025-05-16T13:31:08.890232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747402267.59249.pdf"}
{"timestamp": "2025-05-16T13:31:08.890504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:31:08.890687", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:31:08.890875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:31:08.890981", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:31:08.891101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:31:08.891217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:31:08.891303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:31:08.891388", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:31:21.924715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:31:21.924891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:31:21.925001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o\n\n### O que \u00e9 um Projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado \u00fanico. Projetos s\u00e3o diferentes de opera\u00e7\u00f5es, que s\u00e3o ativi..."}
{"timestamp": "2025-05-16T13:31:21.925112", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:31:21.925241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:31:21.925364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:31:21.925468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:31:23.433746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:31:23.434239", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:31:23.434522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T13:31:23.434652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:31:23.434750", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:31:26.872621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:31:26.872752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1LAgtaAfKgN3iwIJj0LLiIoMSd47EWtGB"}
{"timestamp": "2025-05-16T13:31:26.872872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1LAgtaAfKgN3iwIJj0LLiIoMSd47EWtGB/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:31:26.873048", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:31:26.873148", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:31:26.873377", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:31:38.727387", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 10206"}
{"timestamp": "2025-05-16T13:31:38.729523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:31:38.730209", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:31:38.730664", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:31:38.731010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:31:38.775636", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:31:43.258035", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:31:43.258218", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1IKIfl67TMGN-QZ8XLafrwsEjvvMJjsAc"}
{"timestamp": "2025-05-16T13:31:43.258323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1IKIfl67TMGN-QZ8XLafrwsEjvvMJjsAc/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:31:43.258443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:31:43.258527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:31:43.258607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:31:43.258800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Contextualiza\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:31:43.258891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Contextualiza\u00e7\u00e3o</title>\n    <link href=\"htt..."}
{"timestamp": "2025-05-16T13:31:43.259014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:31:43.259094", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:31:43.259171", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:31:43.259278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:31:43.259360", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 38.49 seconds"}
{"timestamp": "2025-05-16T13:31:43.259433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:31:43.259504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94263"}
{"timestamp": "2025-05-16T13:31:43.259606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 15917 characters"}
{"timestamp": "2025-05-16T13:31:43.259689", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:31:43.259861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:31:43.259969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402303.259926, start: 1747402264.7672737, diff type: <class 'float'>, value: 38.49265241622925"}
{"timestamp": "2025-05-16T13:31:43.260059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 38.49265241622925"}
{"timestamp": "2025-05-16T13:31:43.260144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:31:43.260252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:31:43.260339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:31:43.260416", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:31:43.260491", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:31:43.260569", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 38.49265241622925 = 38.49265241622925"}
{"timestamp": "2025-05-16T13:31:43.260647", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:31:43.260722", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 38.49265241622925"}
{"timestamp": "2025-05-16T13:31:43.260832", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 38.49265241622925"}
{"timestamp": "2025-05-16T13:31:43.260906", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:31:43.260993", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:31:43.262776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:31:43.262958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:31:43.297583", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:31:44.256141", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:31:45.934231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:31:45.934447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:31:45.934585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402305.9343548"}
{"timestamp": "2025-05-16T13:31:45.934693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:31:45.934789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:31:45.934928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:31:45.965855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:31:45.966413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:31:46.517912", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:31:47.273784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:31:47.452609", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:31:48.151113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:48.342265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:31:49.042182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:49.225745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:31:49.938746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:50.125992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:31:50.817710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:51.035287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:31:51.744715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:31:51.916518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:31:52.667569", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:52.843077", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:31:53.590434", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:53.769417", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:31:54.509121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:54.681720", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:31:55.416500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:55.602620", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:31:56.331385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:56.503800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:31:57.258425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:31:57.435198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:31:58.189635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:31:58.189879", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:31:58.190079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:31:59.110339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:32:00.916747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:32:00.916893", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:32:00.916995", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402320.9169502"}
{"timestamp": "2025-05-16T13:32:00.917121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:32:00.917205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:32:00.917281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:32:00.917355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:32:00.917444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:32:00.917531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:32:00.917630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:32:00.917704", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:32:00.917778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:32:00.917868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:32:00.917953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 2.json"}
{"timestamp": "2025-05-16T13:32:00.918039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 3"}
{"timestamp": "2025-05-16T13:32:00.918145", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 1"}
{"timestamp": "2025-05-16T13:32:00.918272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 2238"}
{"timestamp": "2025-05-16T13:32:00.918364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:32:00.918527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/wxwqm4r4.pdf"}
{"timestamp": "2025-05-16T13:32:00.918692", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:32:00.918924", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:32:00.919006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:32:01.030162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/wxwqm4r4.pdf"}
{"timestamp": "2025-05-16T13:32:01.030374", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:32:01.031475", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:32:01.031758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:32:01.032004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:32:01.032227", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:32:01.032459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:32:01.032687", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:32:01.721112", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402321.721006.pdf"}
{"timestamp": "2025-05-16T13:32:01.721459", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:32:01.721671", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:32:01.721888", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:32:01.831171", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747402321.721006.pdf"}
{"timestamp": "2025-05-16T13:32:01.831439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:32:01.831554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:32:01.831821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:32:01.832003", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:32:01.832113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:32:01.832207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:32:01.832296", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:32:01.832394", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:32:13.848075", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:32:13.848217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:32:13.848300", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o\n\n### O que \u00e9 um Projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado \u00fanico. Ele possui um in\u00edcio e um fim definidos, e busca al..."}
{"timestamp": "2025-05-16T13:32:13.848419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:32:13.848516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:32:13.848601", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:32:13.848676", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:32:15.414393", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:32:15.414568", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:32:15.414680", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "N\u00e3o \u00e9 poss\u00edvel dar uma nota \u00e0 Vers\u00e3o 2, pois ela est\u00e1 vazia. Concentrando na Vers\u00e3o 1:\n\nVers\u00e3o 1: 8\n"}
{"timestamp": "2025-05-16T13:32:15.414847", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:32:15.414983", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:32:19.284898", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:32:19.285047", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1Ds6s2u9apSV_5Qbb8b17OzVCWsqkypkk"}
{"timestamp": "2025-05-16T13:32:19.285151", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1Ds6s2u9apSV_5Qbb8b17OzVCWsqkypkk/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:32:19.285285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:32:19.285364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:32:19.285635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:32:24.413027", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 2787"}
{"timestamp": "2025-05-16T13:32:24.414783", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:32:24.415025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:32:24.415233", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:32:24.416058", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:32:24.453930", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:32:28.371338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:32:28.371544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1R4eJOGUnvB4Sl1Xn-w4YUdePzhMexZNx"}
{"timestamp": "2025-05-16T13:32:28.371672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1R4eJOGUnvB4Sl1Xn-w4YUdePzhMexZNx/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:32:28.371827", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:32:28.371963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:32:28.372114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:32:28.372295", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Projeto e Organiza\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:32:28.372413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Projeto e Organiza\u00e7\u00e3o</title>\n    <link href..."}
{"timestamp": "2025-05-16T13:32:28.372599", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:32:28.372718", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:32:28.372842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:32:28.372976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:32:28.373131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 27.45 seconds"}
{"timestamp": "2025-05-16T13:32:28.373241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:32:28.373352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94271"}
{"timestamp": "2025-05-16T13:32:28.373452", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6332 characters"}
{"timestamp": "2025-05-16T13:32:28.373617", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:32:28.373803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:32:28.373946", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402348.3738852, start: 1747402320.9169502, diff type: <class 'float'>, value: 27.456934928894043"}
{"timestamp": "2025-05-16T13:32:28.374143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 27.456934928894043"}
{"timestamp": "2025-05-16T13:32:28.374260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:32:28.374378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:32:28.374510", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:32:28.374657", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:32:28.374773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:32:28.374889", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 27.456934928894043 = 27.456934928894043"}
{"timestamp": "2025-05-16T13:32:28.375013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:32:28.375162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 27.456934928894043"}
{"timestamp": "2025-05-16T13:32:28.375281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 27.456934928894043"}
{"timestamp": "2025-05-16T13:32:28.375389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:32:28.375522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:32:28.377907", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:32:28.378150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:32:28.414035", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:32:29.388845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:32:31.050607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:32:31.050794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:32:31.050892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402351.050741"}
{"timestamp": "2025-05-16T13:32:31.050977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:32:31.051063", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:32:31.051169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:32:31.080950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:32:31.081136", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:32:32.300587", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:32:32.577168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:32:33.164705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:32:33.449392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:34.025896", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:32:34.325229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:34.898617", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:32:35.203622", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:35.762097", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:32:36.080279", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:36.623827", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:32:36.999511", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:32:37.487101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:32:37.933704", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:38.353888", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:32:38.843702", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:39.219319", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:32:39.767425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:40.118590", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:32:40.684224", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:41.014729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:32:41.604325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:41.888781", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:32:42.530834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:32:42.753991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:32:43.458438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:32:43.458620", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:32:43.458794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:32:44.410973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:32:46.210322", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:32:46.210585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:32:46.210783", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402366.210703"}
{"timestamp": "2025-05-16T13:32:46.210932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:32:46.211111", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:32:46.211269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:32:46.211408", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:32:46.211554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:32:46.211767", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:32:46.211900", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:32:46.212037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:32:46.212226", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:32:46.212361", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:32:46.212492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 3.json"}
{"timestamp": "2025-05-16T13:32:46.212671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 3"}
{"timestamp": "2025-05-16T13:32:46.212820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Intera\u00e7\u00e3o entre c\u00f3digo-fonte, computador e programador"}
{"timestamp": "2025-05-16T13:32:46.213001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 4798"}
{"timestamp": "2025-05-16T13:32:46.213186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:32:46.213484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/vqmjutju.pdf"}
{"timestamp": "2025-05-16T13:32:46.213732", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:32:46.213887", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:32:46.214028", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:32:46.333080", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/vqmjutju.pdf"}
{"timestamp": "2025-05-16T13:32:46.333480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:32:46.334459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:32:46.334823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:32:46.335100", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:32:46.335344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:32:46.335611", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:32:46.335894", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:32:47.044305", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402367.0441976.pdf"}
{"timestamp": "2025-05-16T13:32:47.044549", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:32:47.044816", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:32:47.045052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:32:47.513853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747402367.0441976.pdf"}
{"timestamp": "2025-05-16T13:32:47.514144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:32:47.514247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:32:47.514405", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:32:47.514494", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:32:47.514615", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:32:47.514726", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:32:47.514806", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:32:47.514888", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:33:06.544098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:33:06.544287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:33:06.544698", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o\n\n### O que \u00e9 um projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado \u00fanico. Pense em projetos como a constru\u00e7\u00e3o de um novo hosp..."}
{"timestamp": "2025-05-16T13:33:06.545284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:33:06.545391", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:33:06.545487", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:33:06.545604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:33:08.113213", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:33:08.113381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:33:08.113468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T13:33:08.113616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:33:08.113935", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:33:12.273566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:33:12.273730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1mZVEhH0GWUXVoZ31TL0SmFzcAwRKRMyc"}
{"timestamp": "2025-05-16T13:33:12.273853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1mZVEhH0GWUXVoZ31TL0SmFzcAwRKRMyc/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:33:12.273990", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:33:12.274125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:33:12.274506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:33:32.648890", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 17033"}
{"timestamp": "2025-05-16T13:33:32.652271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:33:32.652565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:33:32.652790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:33:32.652995", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:33:32.688573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:33:36.678527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:33:36.678720", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1tZNg1ZIW8nbVvRlYvUO40Cu5g5y2JuvK"}
{"timestamp": "2025-05-16T13:33:36.678925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1tZNg1ZIW8nbVvRlYvUO40Cu5g5y2JuvK/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:33:36.679105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:33:36.679239", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:33:36.679396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:33:36.679751", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Intera\u00e7\u00e3o entre c\u00f3digo-fonte, computador e programador"}
{"timestamp": "2025-05-16T13:33:36.679972", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Intera\u00e7\u00e3o entre c\u00f3digo-fonte, computador e p..."}
{"timestamp": "2025-05-16T13:33:36.680144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:33:36.680270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:33:36.680433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:33:36.680552", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:33:36.680673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 50.47 seconds"}
{"timestamp": "2025-05-16T13:33:36.680788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:33:36.680960", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94293"}
{"timestamp": "2025-05-16T13:33:36.681075", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 16991 characters"}
{"timestamp": "2025-05-16T13:33:36.681191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:33:36.681439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:33:36.681645", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402416.6815736, start: 1747402366.210703, diff type: <class 'float'>, value: 50.47087073326111"}
{"timestamp": "2025-05-16T13:33:36.681790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 50.47087073326111"}
{"timestamp": "2025-05-16T13:33:36.681977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:33:36.682103", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:33:36.682220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:33:36.682358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:33:36.682512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:33:36.682634", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 50.47087073326111 = 50.47087073326111"}
{"timestamp": "2025-05-16T13:33:36.682753", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:33:36.682921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 50.47087073326111"}
{"timestamp": "2025-05-16T13:33:36.683071", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 50.47087073326111"}
{"timestamp": "2025-05-16T13:33:36.683205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:33:36.683330", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:33:36.685881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:33:36.686136", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:33:36.733858", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:33:37.837794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:33:39.564438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:33:39.564613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:33:39.564725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402419.5645583"}
{"timestamp": "2025-05-16T13:33:39.564944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:33:39.565028", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:33:39.565143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:33:39.595229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:33:39.595416", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:33:40.827479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:33:41.080120", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:33:41.698113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:33:41.966696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:42.574307", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:33:42.836620", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:43.438954", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:33:43.709819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:44.317856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:33:44.592636", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:45.180245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:33:45.513206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:33:46.049462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:33:46.429707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:46.910230", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:33:47.350326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:47.781009", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:33:48.263935", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:48.645382", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:33:49.168320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:49.518743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:33:50.079070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:50.381010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:33:50.999963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:33:51.241373", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:33:51.935566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:33:51.935805", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:33:51.935993", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:33:52.855282", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:33:54.656141", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:33:54.656312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:33:54.656419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402434.6563733"}
{"timestamp": "2025-05-16T13:33:54.656495", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:33:54.656572", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:33:54.656659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:33:54.656730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:33:54.656817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:33:54.656901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:33:54.657224", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:33:54.657363", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:33:54.657550", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:33:54.657766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:33:54.657902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 4.json"}
{"timestamp": "2025-05-16T13:33:54.658006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 3"}
{"timestamp": "2025-05-16T13:33:54.658083", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 2"}
{"timestamp": "2025-05-16T13:33:54.658191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 2435"}
{"timestamp": "2025-05-16T13:33:54.658271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:33:54.658470", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/d4ost692.pdf"}
{"timestamp": "2025-05-16T13:33:54.658580", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:33:54.658670", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:33:54.658750", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:33:54.772476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/d4ost692.pdf"}
{"timestamp": "2025-05-16T13:33:54.772706", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:33:54.773578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:33:54.773677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:33:54.773762", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:33:54.773846", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:33:54.773955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:33:54.774042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:33:55.451712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402435.4515016.pdf"}
{"timestamp": "2025-05-16T13:33:55.451885", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:33:55.451994", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T13:33:55.452071", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:33:55.565337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747402435.4515016.pdf"}
{"timestamp": "2025-05-16T13:33:55.565542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:33:55.565635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:33:55.565782", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:33:55.565881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:33:55.565963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:33:55.566046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:33:55.566132", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:33:55.566210", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:34:16.715551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:34:16.715712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:34:16.715820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o: Uma Abordagem Contextualizada para a Humanidades\n\n### O que \u00e9 um Projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado \u00fanico. E..."}
{"timestamp": "2025-05-16T13:34:16.715927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:34:16.716048", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:34:16.716160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:34:16.716247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:34:17.517245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:34:17.517509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:34:17.517624", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\n"}
{"timestamp": "2025-05-16T13:34:17.517722", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T13:34:17.517819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:34:21.092486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:34:21.092619", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1CAD9yy0b-GDMpXTr7ty0wcmy_joxK6j0"}
{"timestamp": "2025-05-16T13:34:21.092811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1CAD9yy0b-GDMpXTr7ty0wcmy_joxK6j0/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:34:21.092950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:34:21.093036", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:34:21.093569", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:34:28.367493", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 3906"}
{"timestamp": "2025-05-16T13:34:28.368729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:34:28.368909", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:34:28.369047", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:34:28.369182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:34:28.405075", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:34:37.829210", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:34:37.829790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1k543EkzJp3E_sLDQIS_g_ZRD8iLkmW9V"}
{"timestamp": "2025-05-16T13:34:37.830245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1k543EkzJp3E_sLDQIS_g_ZRD8iLkmW9V/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:34:37.831496", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:34:37.831761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:34:37.831863", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:34:37.832042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Atividade 2"}
{"timestamp": "2025-05-16T13:34:37.832190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Atividade 2</title>\n    <link href=\"https://..."}
{"timestamp": "2025-05-16T13:34:37.832323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:34:37.832429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:34:37.832523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:34:37.832653", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:34:37.832769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 43.17 seconds"}
{"timestamp": "2025-05-16T13:34:37.832866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:34:37.832961", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 98021"}
{"timestamp": "2025-05-16T13:34:37.833059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6322 characters"}
{"timestamp": "2025-05-16T13:34:37.833189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:34:37.833364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:34:37.833514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402477.8334587, start: 1747402434.6563733, diff type: <class 'float'>, value: 43.177085399627686"}
{"timestamp": "2025-05-16T13:34:37.833659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 43.177085399627686"}
{"timestamp": "2025-05-16T13:34:37.833798", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:34:37.833908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:34:37.834026", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:34:37.834126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:34:37.834260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:34:37.834362", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 43.177085399627686 = 43.177085399627686"}
{"timestamp": "2025-05-16T13:34:37.834466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:34:37.834567", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 43.177085399627686"}
{"timestamp": "2025-05-16T13:34:37.834685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 43.177085399627686"}
{"timestamp": "2025-05-16T13:34:37.834812", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:34:37.834916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:34:37.837110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:34:37.837320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:34:37.875145", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:34:38.604419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:34:40.174713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:34:40.175241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:34:40.175411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402480.1749227"}
{"timestamp": "2025-05-16T13:34:40.175517", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:34:40.175656", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:34:40.175752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:34:40.205448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:34:40.205594", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:34:41.546204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:34:41.778788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:34:42.420481", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:34:42.687530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:43.294247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:34:43.576385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:44.165808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:34:44.463389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:45.401337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:34:45.599768", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:46.275617", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:34:46.531899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:34:47.137301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:34:47.500018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:48.016235", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:34:48.467916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:48.884015", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:34:49.459334", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:49.744027", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:34:50.371988", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:50.614263", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:34:51.298270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:51.478545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:34:52.227272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:34:52.400320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:34:53.169096", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:34:53.169265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:34:53.169410", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:34:54.101705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:34:55.911287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:34:55.911634", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:34:55.911772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402495.9117215"}
{"timestamp": "2025-05-16T13:34:55.911862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:34:55.911940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:34:55.912010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:34:55.912095", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:34:55.912188", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:34:55.912271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:34:55.912345", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:34:55.912424", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:34:55.912501", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:34:55.912576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:34:55.912654", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 5.json"}
{"timestamp": "2025-05-16T13:34:55.912765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 3"}
{"timestamp": "2025-05-16T13:34:55.912842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Lidando com erros de sintaxe"}
{"timestamp": "2025-05-16T13:34:55.912951", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 6544"}
{"timestamp": "2025-05-16T13:34:55.913032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:34:55.913235", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/jcgwyzs2.pdf"}
{"timestamp": "2025-05-16T13:34:55.913373", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:34:55.913459", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:34:55.913540", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:34:56.025718", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/jcgwyzs2.pdf"}
{"timestamp": "2025-05-16T13:34:56.025964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:34:56.026866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:34:56.026983", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:34:56.027068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:34:56.027155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:34:56.027236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:34:56.027317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:34:56.748047", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402496.747788.pdf"}
{"timestamp": "2025-05-16T13:34:56.748242", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:34:56.748350", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:34:56.748472", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:34:56.878301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747402496.747788.pdf"}
{"timestamp": "2025-05-16T13:34:56.879023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:34:56.879498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:34:56.880051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:34:56.880523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:34:56.881175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:34:56.881651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:34:56.882114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:34:56.882592", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:35:07.883162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:35:07.883321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:35:07.883404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Aqui est\u00e1 o conte\u00fado adaptado conforme suas instru\u00e7\u00f5es:\n\n**Projeto e Organiza\u00e7\u00e3o**\n\nA capacidade de planejar e organizar \u00e9 fundamental em diversas \u00e1reas, desde a gest\u00e3o de empresas at\u00e9 a vida pessoal...."}
{"timestamp": "2025-05-16T13:35:07.883530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:35:07.883608", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:35:07.883751", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:35:07.883830", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:35:09.373304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:35:09.373695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:35:09.373814", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "VERS\u00c3O 1: [8]\nVERS\u00c3O 2: [1]\n"}
{"timestamp": "2025-05-16T13:35:09.373934", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Could not parse scores from review result, using first contextualization"}
{"timestamp": "2025-05-16T13:35:09.374172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:35:13.007916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:35:13.008054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 14siPItFsYA-IC3ebA2BhmAts3qcbTGIq"}
{"timestamp": "2025-05-16T13:35:13.008152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/14siPItFsYA-IC3ebA2BhmAts3qcbTGIq/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:35:13.008273", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:35:13.008353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:35:13.008765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:35:26.219477", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 10015"}
{"timestamp": "2025-05-16T13:35:26.222189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:35:26.222520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:35:26.222809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:35:26.223276", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:35:26.263419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:35:30.201247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:35:30.201414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1rGnSXHzpnGU8cIroPCXTlzFVUU1zxbWD"}
{"timestamp": "2025-05-16T13:35:30.201510", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1rGnSXHzpnGU8cIroPCXTlzFVUU1zxbWD/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:35:30.201652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:35:30.201731", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:35:30.201808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:35:30.201990", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Lidando com erros de sintaxe"}
{"timestamp": "2025-05-16T13:35:30.202117", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Lidando com erros de sintaxe</title>\n    <li..."}
{"timestamp": "2025-05-16T13:35:30.202219", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:35:30.202298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:35:30.202372", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:35:30.202446", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:35:30.202525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 34.29 seconds"}
{"timestamp": "2025-05-16T13:35:30.202629", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:35:30.202699", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94323"}
{"timestamp": "2025-05-16T13:35:30.202785", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 11412 characters"}
{"timestamp": "2025-05-16T13:35:30.202857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:35:30.203036", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:35:30.203163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402530.2031174, start: 1747402495.9117215, diff type: <class 'float'>, value: 34.29139590263367"}
{"timestamp": "2025-05-16T13:35:30.203255", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 34.29139590263367"}
{"timestamp": "2025-05-16T13:35:30.203337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:35:30.203418", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:35:30.203493", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:35:30.203604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:35:30.203694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:35:30.203771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 34.29139590263367 = 34.29139590263367"}
{"timestamp": "2025-05-16T13:35:30.203849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:35:30.203926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 34.29139590263367"}
{"timestamp": "2025-05-16T13:35:30.204002", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 34.29139590263367"}
{"timestamp": "2025-05-16T13:35:30.204101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:35:30.204187", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:35:30.206039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:35:30.206225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:35:30.241191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:35:31.077401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:35:32.868033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:35:32.868237", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:35:32.868411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402532.8681698"}
{"timestamp": "2025-05-16T13:35:32.868525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:35:32.868638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:35:32.868745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:35:32.902656", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:35:32.902821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:35:34.122973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:35:34.376198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:35:34.991808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:35:35.255715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:35.869999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:35:36.122199", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:36.757178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:35:37.000949", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:37.621799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:35:37.867702", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:38.487227", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:35:38.790602", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:35:39.353631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:35:39.705803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:40.224049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:35:40.633710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:41.087340", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:35:41.545767", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:41.952967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:35:42.446779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:42.812311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:35:43.367530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:43.673206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:35:44.294746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:35:44.536962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:35:45.212653", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:35:45.212829", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:35:45.212982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:35:46.129046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:35:47.921935", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:35:47.922177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:35:47.922289", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402547.922243"}
{"timestamp": "2025-05-16T13:35:47.922472", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:35:47.922625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:35:47.922753", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:35:47.922858", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:35:47.922957", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:35:47.923050", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:35:47.923129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:35:47.923207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:35:47.923284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:35:47.923383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:35:47.923481", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 6.json"}
{"timestamp": "2025-05-16T13:35:47.923630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 3"}
{"timestamp": "2025-05-16T13:35:47.923705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade 3"}
{"timestamp": "2025-05-16T13:35:47.923813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 3200"}
{"timestamp": "2025-05-16T13:35:47.923917", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:35:47.924110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/horh2517.pdf"}
{"timestamp": "2025-05-16T13:35:49.173531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/horh2517.pdf"}
{"timestamp": "2025-05-16T13:35:49.173846", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:35:49.192412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:35:49.192837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:35:49.193110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:35:49.193367", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:35:49.193618", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:35:49.193877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:35:49.865848", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402549.8655138.pdf"}
{"timestamp": "2025-05-16T13:35:51.088318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747402549.8655138.pdf"}
{"timestamp": "2025-05-16T13:35:51.088479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:35:51.088570", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:35:51.088684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:35:51.088765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:35:51.088850", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:35:51.088944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:35:51.089041", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:35:51.089119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:36:02.854628", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:36:02.855276", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:36:02.855725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "**Projeto e Organiza\u00e7\u00e3o**\n\n**Defini\u00e7\u00e3o de Projeto**\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado exclusivo. Projetos s\u00e3o diferentes de opera\u00e7\u00f5es, que s\u00e3o..."}
{"timestamp": "2025-05-16T13:36:02.855902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:36:02.856016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:36:02.856105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:36:02.856182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:36:04.243285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:36:04.243691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:36:04.243784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\n"}
{"timestamp": "2025-05-16T13:36:04.243883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:36:04.243976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:36:07.852950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:36:07.853079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1f3f1mDoa188jPkGnyVCTvEaLhbl5daf0"}
{"timestamp": "2025-05-16T13:36:07.853215", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1f3f1mDoa188jPkGnyVCTvEaLhbl5daf0/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:36:07.853336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:36:07.853420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:36:07.853703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:36:23.833292", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 13943"}
{"timestamp": "2025-05-16T13:36:23.833630", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Invalid JSON: Invalid \\uXXXX escape: line 84 column 152 (char 13272)"}
{"timestamp": "2025-05-16T13:36:23.833808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T13:36:29.823081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3539"}
{"timestamp": "2025-05-16T13:36:29.826526", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid \\uXXXX escape: line 84 column 152 (char 13272)"}
{"timestamp": "2025-05-16T13:36:29.827703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 13931"}
{"timestamp": "2025-05-16T13:36:29.827888", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Invalid \\uXXXX escape: line 84 column 152 (char 13272)"}
{"timestamp": "2025-05-16T13:36:29.828059", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 84 column 152 (char 13272)"}
{"timestamp": "2025-05-16T13:36:29.829766", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T13:36:29.829931", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 84 column 152 (char 13272)"}
{"timestamp": "2025-05-16T13:36:29.831349", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T13:36:29.831552", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Invalid \\uXXXX escape: line 84 column 152 (char 13272)"}
{"timestamp": "2025-05-16T13:36:29.831667", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2/3)"}
{"timestamp": "2025-05-16T13:36:46.668131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: Received initial JSON response of length: 14007"}
{"timestamp": "2025-05-16T13:36:46.670950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:36:46.671413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:36:46.672214", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 2"}
{"timestamp": "2025-05-16T13:36:46.672465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:36:46.716650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:36:50.661110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:36:50.661239", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 14VI5mn_nN0ynYNE_2tnUNRht1g_RYbRE"}
{"timestamp": "2025-05-16T13:36:50.661344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/14VI5mn_nN0ynYNE_2tnUNRht1g_RYbRE/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:36:50.661514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:36:50.661696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:36:50.661829", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:36:50.662033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Atividade 3"}
{"timestamp": "2025-05-16T13:36:50.662121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Atividade 3</title>\n    <link href=\"https://..."}
{"timestamp": "2025-05-16T13:36:50.662225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:36:50.662305", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:36:50.662397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:36:50.662521", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:36:50.662632", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 62.74 seconds"}
{"timestamp": "2025-05-16T13:36:50.662730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:36:50.662861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94331"}
{"timestamp": "2025-05-16T13:36:50.663320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 15976 characters"}
{"timestamp": "2025-05-16T13:36:50.663775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:36:50.664070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:36:50.664192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402610.6641433, start: 1747402547.922243, diff type: <class 'float'>, value: 62.74190020561218"}
{"timestamp": "2025-05-16T13:36:50.664311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 62.74190020561218"}
{"timestamp": "2025-05-16T13:36:50.664415", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:36:50.664499", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:36:50.664617", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:36:50.664700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:36:50.664817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:36:50.664931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 62.74190020561218 = 62.74190020561218"}
{"timestamp": "2025-05-16T13:36:50.665032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:36:50.665152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 62.74190020561218"}
{"timestamp": "2025-05-16T13:36:50.665228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 62.74190020561218"}
{"timestamp": "2025-05-16T13:36:50.665327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:36:50.665406", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:36:50.667426", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:36:50.667723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:36:50.701206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:36:52.060429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:36:53.835544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:36:53.835748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:36:53.835862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402613.835686"}
{"timestamp": "2025-05-16T13:36:53.835958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:36:53.836035", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:36:53.836169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:36:53.866223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:36:53.866409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:36:55.084314", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:36:55.278425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:36:55.952000", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:36:56.148923", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:36:56.825324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:36:57.054864", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:36:57.692252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:36:57.973347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:36:58.558062", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:36:58.870651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:36:59.435194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:36:59.803224", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:37:00.300635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:37:00.732766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:01.164826", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:37:01.661354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:02.029833", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:37:02.610553", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:02.895568", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:37:03.527942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:03.752622", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:37:04.452339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:04.629749", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:37:05.403829", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:37:05.576757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:37:06.350968", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:06.351163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:37:06.351301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:37:07.280774", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:37:09.091727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:37:09.091961", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:37:09.092070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402629.0920243"}
{"timestamp": "2025-05-16T13:37:09.092153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:37:09.092236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:37:09.092314", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:37:09.092409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:37:09.092492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:37:09.092567", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:37:09.092642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:37:09.092720", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:37:09.092795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:37:09.092870", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:37:09.092984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 7.json"}
{"timestamp": "2025-05-16T13:37:09.093073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 3"}
{"timestamp": "2025-05-16T13:37:09.093149", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Demonstrando o uso de vari\u00e1veis"}
{"timestamp": "2025-05-16T13:37:09.093261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 4518"}
{"timestamp": "2025-05-16T13:37:09.093341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:37:09.093538", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/0gy0klla.pdf"}
{"timestamp": "2025-05-16T13:37:09.093665", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:37:09.093769", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:37:09.093859", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:37:09.210887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/0gy0klla.pdf"}
{"timestamp": "2025-05-16T13:37:09.211111", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:37:09.212237", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:37:09.212502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:37:09.212753", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:37:09.212977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:37:09.213221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:37:09.213444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:37:09.904187", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402629.9040852.pdf"}
{"timestamp": "2025-05-16T13:37:09.904361", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:37:09.904462", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: 'NoneType' object has no attribute 'get'"}
{"timestamp": "2025-05-16T13:37:09.904579", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T13:37:10.014296", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747402629.9040852.pdf"}
{"timestamp": "2025-05-16T13:37:10.014771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:37:10.015006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:37:10.015312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:37:10.015800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:37:10.016505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:37:10.016970", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:37:10.017476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:37:10.017940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:37:22.162353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:37:22.162865", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:37:22.163302", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o\n\n### O que \u00e9 um Projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado \u00fanico. Essa defini\u00e7\u00e3o, embora concisa, abrange uma vasta g..."}
{"timestamp": "2025-05-16T13:37:22.163701", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:37:22.163834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:37:22.163928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:37:22.164006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:37:23.606679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:37:23.606897", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:37:23.607049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 9\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T13:37:23.607168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T13:37:23.607302", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:37:27.249196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:37:27.249370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1rL0M_zrhrEvo3IGh1a5_RKNg8ipUuLtC"}
{"timestamp": "2025-05-16T13:37:27.249502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1rL0M_zrhrEvo3IGh1a5_RKNg8ipUuLtC/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:37:27.249691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:37:27.250211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:37:27.250598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:37:37.283844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 7202"}
{"timestamp": "2025-05-16T13:37:37.285644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:37:37.285882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:37:37.286080", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:37:37.286284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:37:37.323105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:37:41.612106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:37:41.612260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1KzD3ScMLr152tLjFxgHQpTsvnbkVEtes"}
{"timestamp": "2025-05-16T13:37:41.612437", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1KzD3ScMLr152tLjFxgHQpTsvnbkVEtes/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:37:41.612750", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:37:41.612913", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:37:41.613031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:37:41.613324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Demonstrando o uso de vari\u00e1veis"}
{"timestamp": "2025-05-16T13:37:41.613475", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Demonstrando o uso de vari\u00e1veis</title>\n    ..."}
{"timestamp": "2025-05-16T13:37:41.613757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:37:41.614130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:37:41.614261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:37:41.614365", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:37:41.614451", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 32.52 seconds"}
{"timestamp": "2025-05-16T13:37:41.614526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:37:41.614602", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94350"}
{"timestamp": "2025-05-16T13:37:41.614675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 8892 characters"}
{"timestamp": "2025-05-16T13:37:41.614767", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:37:41.614945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:37:41.615051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402661.6150084, start: 1747402629.0920243, diff type: <class 'float'>, value: 32.52298402786255"}
{"timestamp": "2025-05-16T13:37:41.615143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 32.52298402786255"}
{"timestamp": "2025-05-16T13:37:41.615227", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:37:41.615337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:37:41.615429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:37:41.615505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:37:41.615607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:37:41.615699", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 32.52298402786255 = 32.52298402786255"}
{"timestamp": "2025-05-16T13:37:41.615797", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:37:41.615899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 32.52298402786255"}
{"timestamp": "2025-05-16T13:37:41.615975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 32.52298402786255"}
{"timestamp": "2025-05-16T13:37:41.616050", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:37:41.616128", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T13:37:41.617940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Humanas and context_type: contextualizacao"}
{"timestamp": "2025-05-16T13:37:41.618075", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T13:37:41.652713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T13:37:42.541391", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:37:44.515586", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:37:44.515818", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T13:37:44.515927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747402664.515763"}
{"timestamp": "2025-05-16T13:37:44.516008", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:37:44.516112", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:37:44.516217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00023\n\ud83d\udcc1 Target: target/contextualization_to_humanidades_00908/00023\n\ud83d\udd04 Process Type: contextualization_to_humanidades_00908\n"}
{"timestamp": "2025-05-16T13:37:44.546054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T13:37:44.546206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T13:37:45.091269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T13:37:45.775520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T13:37:45.959294", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T13:37:46.649520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:46.825922", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T13:37:47.525712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:47.701923", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T13:37:48.399269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:48.573543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T13:37:49.274525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:49.459817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T13:37:50.203557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T13:37:50.381868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T13:37:51.142369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:51.330618", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T13:37:52.066931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:52.253298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:37:53.000209", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:53.183167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T13:37:53.909708", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:54.365808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T13:37:54.831296", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:55.575107", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T13:37:55.811122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T13:37:56.443505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T13:37:56.729964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T13:37:56.730156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T13:37:56.730291", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_humanidades_00908' em: prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T13:37:57.653440", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_humanidades_00908' carregado com sucesso"}
{"timestamp": "2025-05-16T13:37:59.447028", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T13:37:59.447428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_humanidades_00908"}
{"timestamp": "2025-05-16T13:37:59.448177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747402679.4478314"}
{"timestamp": "2025-05-16T13:37:59.448370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T13:37:59.448525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T13:37:59.448632", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1Jf1Z-0nmfT2yIfZnT9LaNhdSrKCrQ6ju"}
{"timestamp": "2025-05-16T13:37:59.448729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T13:37:59.448823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T13:37:59.448938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) e357d2e6-f174-436e-97ee-3645308c6684"}
{"timestamp": "2025-05-16T13:37:59.449015", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Introdu\u00e7\u00e3o aos princ\u00edpios fundamentais da computa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T13:37:59.449103", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Humanas"}
{"timestamp": "2025-05-16T13:37:59.449177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00023"}
{"timestamp": "2025-05-16T13:37:59.449252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T13:37:59.449326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc 8.json"}
{"timestamp": "2025-05-16T13:37:59.449432", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 3"}
{"timestamp": "2025-05-16T13:37:59.449509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Atividade pr\u00e1tica"}
{"timestamp": "2025-05-16T13:37:59.449616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 1254"}
{"timestamp": "2025-05-16T13:37:59.449696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T13:37:59.449846", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/b156c0rg.pdf"}
{"timestamp": "2025-05-16T13:38:00.658885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/b156c0rg.pdf"}
{"timestamp": "2025-05-16T13:38:00.659039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:38:00.659871", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:38:00.659959", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:38:00.660069", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T13:38:00.660155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:38:00.660234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T13:38:00.660316", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T13:38:01.346718", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747402681.346213.pdf"}
{"timestamp": "2025-05-16T13:38:02.533488", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747402681.346213.pdf"}
{"timestamp": "2025-05-16T13:38:02.533626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T13:38:02.533708", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T13:38:02.533855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T13:38:02.533976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T13:38:02.534057", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T13:38:02.534153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T13:38:02.534230", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:38:02.534310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T13:38:17.486157", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T13:38:17.486347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T13:38:17.486500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## Projeto e Organiza\u00e7\u00e3o: Uma Abordagem para Humanidades\n\n### O que \u00e9 um Projeto?\n\nUm projeto \u00e9 um esfor\u00e7o tempor\u00e1rio empreendido para criar um produto, servi\u00e7o ou resultado \u00fanico. Projetos s\u00e3o difere..."}
{"timestamp": "2025-05-16T13:38:17.486592", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T13:38:17.486689", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T13:38:17.486777", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T13:38:17.486856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T13:38:18.868205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T13:38:18.868730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T13:38:18.868857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [2]\n"}
{"timestamp": "2025-05-16T13:38:18.869020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T13:38:18.869140", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00023'"}
{"timestamp": "2025-05-16T13:38:22.511017", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T13:38:22.511299", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1qUMiPzSG34-TRmzDDQzSwH4_sh55a6Ls"}
{"timestamp": "2025-05-16T13:38:22.511679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1qUMiPzSG34-TRmzDDQzSwH4_sh55a6Ls/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:38:22.511957", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T13:38:22.512070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T13:38:22.512341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T13:38:37.191405", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 13838"}
{"timestamp": "2025-05-16T13:38:37.195267", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T13:38:37.195534", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T13:38:37.195759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T13:38:37.196032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00023'"}
{"timestamp": "2025-05-16T13:38:37.234150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T13:38:41.137287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T13:38:41.137455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1etQlCp3PjEyOfeEP80J-xVyn00OJNoBE"}
{"timestamp": "2025-05-16T13:38:41.137590", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1etQlCp3PjEyOfeEP80J-xVyn00OJNoBE/view?usp=drivesdk"}
{"timestamp": "2025-05-16T13:38:41.137761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T13:38:41.137872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T13:38:41.137982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T13:38:41.138146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Atividade pr\u00e1tica"}
{"timestamp": "2025-05-16T13:38:41.138228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Atividade pr\u00e1tica</title>\n    <link href=\"ht..."}
{"timestamp": "2025-05-16T13:38:41.138323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T13:38:41.138412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T13:38:41.138533", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T13:38:41.138655", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:38:41.138847", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 41.69 seconds"}
{"timestamp": "2025-05-16T13:38:41.139268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T13:38:41.139752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 94361"}
{"timestamp": "2025-05-16T13:38:41.140136", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 18431 characters"}
{"timestamp": "2025-05-16T13:38:41.140231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T13:38:41.140378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T13:38:41.140483", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747402721.1404405, start: 1747402679.4478314, diff type: <class 'float'>, value: 41.69260907173157"}
{"timestamp": "2025-05-16T13:38:41.140607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 41.69260907173157"}
{"timestamp": "2025-05-16T13:38:41.140689", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T13:38:41.140769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:38:41.140846", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:38:41.140920", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T13:38:41.140996", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T13:38:41.141101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 41.69260907173157 = 41.69260907173157"}
{"timestamp": "2025-05-16T13:38:41.141193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T13:38:41.141272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 41.69260907173157"}
{"timestamp": "2025-05-16T13:38:41.141348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 41.69260907173157"}
{"timestamp": "2025-05-16T13:38:41.141420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T13:38:41.141500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:07:58.075562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:07:58.079700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:07:58.165519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:07:59.122326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:08:00.838579", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:08:00.838750", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:08:00.838887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747418880.8386865"}
{"timestamp": "2025-05-16T18:08:00.838972", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:08:00.839065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:08:00.839149", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/03570\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-16T18:08:00.869293", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:08:00.869537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:08:01.534417", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:08:02.280444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:08:02.463078", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:08:03.217997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:03.395167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:08:04.144011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:04.327875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:08:05.039249", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:05.220397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:08:05.995396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:06.172194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:08:06.940504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:08:07.124551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:08:07.870096", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:08.052200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:08:08.788089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:08.972182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:08:09.702261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:09.892843", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:08:10.606799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:10.784256", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:08:11.182516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:11.502608", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:08:12.110889", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:08:12.365728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:08:13.076690", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:13.076827", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:08:13.076955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:08:14.010869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-16T18:08:15.330411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:08:15.330549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-16T18:08:15.330682", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747418895.3306332"}
{"timestamp": "2025-05-16T18:08:15.330764", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:08:15.330840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:08:15.330917", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:08:15.330985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:08:15.331058", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:08:15.331166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:08:15.331251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:08:15.331325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Engenharia"}
{"timestamp": "2025-05-16T18:08:15.331398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:08:15.331465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:08:15.331537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-16T18:08:15.331643", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:08:15.331768", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-16T18:08:15.394099", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8885"}
{"timestamp": "2025-05-16T18:08:15.394240", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:08:15.394509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/p0jfffvo.pdf"}
{"timestamp": "2025-05-16T18:08:15.394637", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:08:15.394887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T18:08:17.970677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/p0jfffvo.pdf"}
{"timestamp": "2025-05-16T18:08:17.971055", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:08:18.243006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:08:18.243150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:08:18.243267", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:08:18.243345", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:08:18.243441", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:08:18.243597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:08:19.030077", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747418899.0299847.pdf"}
{"timestamp": "2025-05-16T18:08:19.030216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:08:19.030347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T18:08:21.444405", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747418899.0299847.pdf"}
{"timestamp": "2025-05-16T18:08:21.444568", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:08:21.444661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:08:21.444866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:08:21.444957", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:08:21.445042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:08:21.445125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:08:21.445204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:08:21.445310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:08:36.267815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:08:36.268098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:08:36.268241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Cotidiano do Engenheiro\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do engenheiro:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um pr..."}
{"timestamp": "2025-05-16T18:08:36.268334", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:08:36.268454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:08:36.268548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:08:36.268627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:08:37.829785", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:08:37.829989", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:08:37.830087", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 2\n"}
{"timestamp": "2025-05-16T18:08:37.830454", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:08:37.830544", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-16T18:08:37.830627", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:08:37.830709", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 22.44 seconds"}
{"timestamp": "2025-05-16T18:08:37.830791", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: 1"}
{"timestamp": "2025-05-16T18:08:37.830889", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-16T18:08:37.831946", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2456, in process_parallel\n    contextualization_results[version_idx][1][\"score\"] = int(score)\nKeyError: 1\n"}
{"timestamp": "2025-05-16T18:08:37.832085", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:08:37.832173", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Processing error - error_time type: <class 'float'>, value: 22.436094999313354"}
{"timestamp": "2025-05-16T18:08:37.838391", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: False, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:08:37.838745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f [Error] Calculating processing time - end: 1747418917.838684, start: 1747418895.3306332, diff type: <class 'float'>, value: 22.5080509185791"}
{"timestamp": "2025-05-16T18:08:37.838854", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: 1"}
{"timestamp": "2025-05-16T18:08:37.839013", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error traceback:\nTraceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 3484, in process_file_async\n    raise Exception(f\"Processing failed: {result.error}\")\nException: Processing failed: 1\n"}
{"timestamp": "2025-05-16T18:08:37.839164", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 22.5080509185791"}
{"timestamp": "2025-05-16T18:08:37.839251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:08:37.839338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:08:37.839415", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:08:37.839492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:08:37.839600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:08:37.839688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 22.5080509185791 = 22.5080509185791"}
{"timestamp": "2025-05-16T18:08:37.839779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:08:37.839857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 22.5080509185791"}
{"timestamp": "2025-05-16T18:08:37.839933", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 22.5080509185791"}
{"timestamp": "2025-05-16T18:08:37.840007", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:08:37.840142", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: 1"}
{"timestamp": "2025-05-16T18:08:37.842598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:08:37.842791", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:08:37.886049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:08:38.638072", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:08:40.087903", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:08:40.088081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:08:40.088210", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747418920.0880263"}
{"timestamp": "2025-05-16T18:08:40.088289", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:08:40.088361", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:08:40.088440", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/03570\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-16T18:08:40.123844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:08:40.125323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:08:40.891894", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:08:41.278215", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:08:41.483577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:08:41.695712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:42.018220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:08:42.378090", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:42.705916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:08:42.914966", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:43.572406", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:08:43.811450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:43.996145", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:08:44.372463", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:08:44.690272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:08:44.959268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:45.137346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:08:45.482690", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:45.657937", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:08:45.921648", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:46.255843", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:08:46.565590", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:46.746049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:08:47.501743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:47.685070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:08:48.229281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:08:48.405053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:08:48.839953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:08:48.840172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:08:48.840320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:08:49.273006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-16T18:08:50.171266", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:08:50.171425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-16T18:08:50.171589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747418930.171529"}
{"timestamp": "2025-05-16T18:08:50.171684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:08:50.171765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:08:50.171843", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:08:50.171918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:08:50.172033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:08:50.172114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:08:50.172214", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:08:50.172311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Engenharia"}
{"timestamp": "2025-05-16T18:08:50.172406", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:08:50.172525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:08:50.172598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-2.json"}
{"timestamp": "2025-05-16T18:08:50.172693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:08:50.172780", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de ansiedade de separa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T18:08:50.172900", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8042"}
{"timestamp": "2025-05-16T18:08:50.173006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:08:50.173230", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/31a86ogr.pdf"}
{"timestamp": "2025-05-16T18:08:52.777019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/31a86ogr.pdf"}
{"timestamp": "2025-05-16T18:08:52.777656", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:08:52.785908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:08:52.786377", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:08:52.786745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:08:52.787069", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:08:52.787452", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:08:52.787821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:08:53.493095", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747418933.4929307.pdf"}
{"timestamp": "2025-05-16T18:08:55.962911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747418933.4929307.pdf"}
{"timestamp": "2025-05-16T18:08:55.963234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:08:55.963457", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:08:55.963769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:08:55.963990", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:08:55.964243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:08:55.964462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:08:55.964723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:08:55.964949", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:09:16.424807", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:09:16.424997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:09:16.425102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Para garantir a m\u00e1xima relev\u00e2ncia e aplicabilidade para alunos de Engenharia, o conte\u00fado sobre o cotidiano do Engenheiro ser\u00e1 adaptado com foco na precis\u00e3o factual e na integra\u00e7\u00e3o suave de conceitos e..."}
{"timestamp": "2025-05-16T18:09:16.425190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:09:16.425271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:09:16.425404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:09:16.425486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:09:18.029973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:09:18.030195", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:09:18.030315", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T18:09:18.030439", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:09:18.030519", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-16T18:09:18.030624", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:09:18.030729", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 27.86 seconds"}
{"timestamp": "2025-05-16T18:09:18.030804", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: 1"}
{"timestamp": "2025-05-16T18:09:18.030878", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-16T18:09:18.031022", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2456, in process_parallel\n    contextualization_results[version_idx][1][\"score\"] = int(score)\nKeyError: 1\n"}
{"timestamp": "2025-05-16T18:09:18.031131", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:09:18.031240", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Processing error - error_time type: <class 'float'>, value: 27.857317447662354"}
{"timestamp": "2025-05-16T18:09:18.031499", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: False, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:09:18.031648", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f [Error] Calculating processing time - end: 1747418958.031581, start: 1747418930.171529, diff type: <class 'float'>, value: 27.86005187034607"}
{"timestamp": "2025-05-16T18:09:18.031766", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: 1"}
{"timestamp": "2025-05-16T18:09:18.031932", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error traceback:\nTraceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 3484, in process_file_async\n    raise Exception(f\"Processing failed: {result.error}\")\nException: Processing failed: 1\n"}
{"timestamp": "2025-05-16T18:09:18.032072", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 27.86005187034607"}
{"timestamp": "2025-05-16T18:09:18.032204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:09:18.032303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:09:18.032382", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:09:18.032461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:09:18.032533", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:09:18.032627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 27.86005187034607 = 27.86005187034607"}
{"timestamp": "2025-05-16T18:09:18.032730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:09:18.032808", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 27.86005187034607"}
{"timestamp": "2025-05-16T18:09:18.032883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 27.86005187034607"}
{"timestamp": "2025-05-16T18:09:18.032956", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:09:18.033050", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: 1"}
{"timestamp": "2025-05-16T18:09:18.034449", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:09:18.034582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:09:18.071752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:09:19.128677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:09:20.915371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:09:20.915576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:09:20.915679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747418960.9155188"}
{"timestamp": "2025-05-16T18:09:20.915772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:09:20.915887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:09:20.916013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/03570\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-16T18:09:20.946424", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:09:20.946663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:09:21.631742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:09:22.386174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:09:22.575401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:09:23.336582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:09:23.588817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:09:24.294953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:09:24.484090", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:12:10.320262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:12:10.326968", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:12:10.376712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:12:11.351011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:12:13.363843", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:12:13.364548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:12:13.364986", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747419133.3644514"}
{"timestamp": "2025-05-16T18:12:13.365114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:12:13.365241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:12:13.365327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:12:13.395484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:12:13.395930", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:12:14.658857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:12:14.880644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:12:15.524746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:12:15.797219", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:16.390384", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:12:16.688839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:17.258694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:12:17.565223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:18.127712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:12:18.447014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:19.029359", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:12:19.365495", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:12:19.898039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:12:20.288061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:20.763430", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:12:21.216840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:21.636045", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:12:22.133622", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:22.516778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:12:23.041631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:23.380737", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:12:23.954905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:24.246378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:12:24.879231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:12:25.111492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:12:25.801831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:12:25.802023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:12:25.802178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:12:26.716628", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:12:28.516696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:12:28.516856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:12:28.516962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747419148.516918"}
{"timestamp": "2025-05-16T18:12:28.517040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:12:28.517114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:12:28.517190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:12:28.517299", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:12:28.517371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:12:28.517444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:12:28.517517", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:12:28.517592", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:12:28.517665", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:12:28.517772", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:12:28.517869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-16T18:12:28.517945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:12:28.518019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-16T18:12:28.569087", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8885"}
{"timestamp": "2025-05-16T18:12:28.569280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:12:28.569893", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/9_dx1xeb.pdf"}
{"timestamp": "2025-05-16T18:12:28.570031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:12:28.570531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T18:12:30.958711", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/9_dx1xeb.pdf"}
{"timestamp": "2025-05-16T18:12:30.958865", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:12:31.228813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:12:31.228961", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:12:31.229047", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:12:31.229124", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:12:31.229227", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:12:31.229305", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:12:31.938545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747419151.9384415.pdf"}
{"timestamp": "2025-05-16T18:12:31.938745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:12:31.938925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T18:12:34.339063", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747419151.9384415.pdf"}
{"timestamp": "2025-05-16T18:12:34.339238", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:12:34.339324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:12:34.339480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:12:34.339563", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:12:34.339668", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:12:34.339760", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:12:34.339840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:12:34.339921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:12:53.193879", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:12:53.194134", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:12:53.194289", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Com certeza! Vamos adaptar este conte\u00fado sobre T\u00e9cnicas de Pesquisa para que ele seja ainda mais \u00fatil e interessante para voc\u00ea, que est\u00e1 come\u00e7ando sua jornada em Gest\u00e3o. O objetivo \u00e9 tornar os conceit..."}
{"timestamp": "2025-05-16T18:12:53.194490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:12:53.194621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:12:53.194759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:12:53.194931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:12:54.864953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:12:54.865121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:12:54.865243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T18:12:54.865585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T18:12:54.865740", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:12:58.770886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:12:58.771018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 18-t867A7s3LyNTLdBFuTPRlzZLnzmMsW"}
{"timestamp": "2025-05-16T18:12:58.771108", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/18-t867A7s3LyNTLdBFuTPRlzZLnzmMsW/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:12:58.771218", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:12:58.771296", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:12:58.771934", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:13:33.585775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 25552"}
{"timestamp": "2025-05-16T18:13:33.586093", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:13:33.586254", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:13:39.090725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3449"}
{"timestamp": "2025-05-16T18:13:39.098732", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 663 column 101 (char 25546)"}
{"timestamp": "2025-05-16T18:13:39.100602", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Alternative merge successful"}
{"timestamp": "2025-05-16T18:13:39.100758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 28873"}
{"timestamp": "2025-05-16T18:13:39.101036", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:13:39.101426", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:13:39.101711", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:13:39.144845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:13:43.557616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:13:43.557765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1G-5PiMzHLRYfBmOic0U_F9lgtiGhZxLa"}
{"timestamp": "2025-05-16T18:13:43.557864", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1G-5PiMzHLRYfBmOic0U_F9lgtiGhZxLa/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:13:43.558018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:13:43.558099", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:13:43.558186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:13:43.558784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:13:43.558978", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: No title"}
{"timestamp": "2025-05-16T18:13:43.559060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Documento</title>\n    <link href=\"https://fo..."}
{"timestamp": "2025-05-16T18:13:43.559191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:13:43.559268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:13:43.559343", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:13:43.559441", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:13:43.559545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 74.99 seconds"}
{"timestamp": "2025-05-16T18:13:43.559618", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:13:43.559688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25550"}
{"timestamp": "2025-05-16T18:13:43.559758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 14427 characters"}
{"timestamp": "2025-05-16T18:13:43.559828", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:13:43.560093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:13:43.560200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747419223.5601585, start: 1747419148.516918, diff type: <class 'float'>, value: 75.04324054718018"}
{"timestamp": "2025-05-16T18:13:43.560291", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 75.04324054718018"}
{"timestamp": "2025-05-16T18:13:43.560370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:13:43.560475", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:13:43.560559", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:13:43.560634", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:13:43.560708", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:13:43.560785", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 75.04324054718018 = 75.04324054718018"}
{"timestamp": "2025-05-16T18:13:43.560871", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:13:43.560972", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 75.04324054718018"}
{"timestamp": "2025-05-16T18:13:43.561058", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 75.04324054718018"}
{"timestamp": "2025-05-16T18:13:43.561129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:13:43.561206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:13:43.562920", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:13:43.563220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:13:43.596762", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:13:44.484626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:13:45.968778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:13:45.969013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:13:45.969195", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747419225.9689047"}
{"timestamp": "2025-05-16T18:13:45.969310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:13:45.969395", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:13:45.969502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:13:45.999819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:13:46.000026", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:13:46.592288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:13:47.384985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:13:47.581406", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:13:48.257695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:48.443606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:13:49.127675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:49.302960", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:13:50.002059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:50.189507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:13:50.878755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:51.091328", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:13:51.806268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:13:51.989304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:13:52.732213", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:52.906634", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:13:53.651129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:53.829465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:13:54.570361", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:54.751271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:13:55.474588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:55.649769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:13:56.400931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:56.574910", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:13:57.322787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:13:57.507129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:13:58.256196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:13:58.256421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:13:58.256592", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:13:59.193172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:14:00.999085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:14:00.999249", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:14:00.999520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747419240.999456"}
{"timestamp": "2025-05-16T18:14:00.999612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:14:00.999692", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:14:00.999784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:14:00.999901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:14:00.999973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:14:01.000082", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:14:01.000158", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:14:01.000236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:14:01.000308", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:14:01.000421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:14:01.000497", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-2.json"}
{"timestamp": "2025-05-16T18:14:01.000584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:14:01.000657", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de ansiedade de separa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T18:14:01.000765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8042"}
{"timestamp": "2025-05-16T18:14:01.000881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:14:01.001100", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/j8tt70tp.pdf"}
{"timestamp": "2025-05-16T18:14:03.744080", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/j8tt70tp.pdf"}
{"timestamp": "2025-05-16T18:14:03.744470", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:14:03.752301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:14:03.752436", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:14:03.752543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:14:03.752644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:14:03.752732", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:14:03.752817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:14:04.503567", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747419244.5034297.pdf"}
{"timestamp": "2025-05-16T18:14:06.984749", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747419244.5034297.pdf"}
{"timestamp": "2025-05-16T18:14:06.985161", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:14:06.985492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:14:06.986178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:14:06.986325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:14:06.986560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:14:06.986884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:14:06.987145", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:14:06.987257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:14:32.742257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:14:32.742473", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:14:32.742650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "OK. Aqui est\u00e1 o conte\u00fado adaptado e contextualizado para a \u00e1rea de Gest\u00e3o, seguindo todas as instru\u00e7\u00f5es e restri\u00e7\u00f5es fornecidas.\n\n# T\u00e9cnicas de Pesquisa\n\nEncontramos uma gama de qualidades que definem..."}
{"timestamp": "2025-05-16T18:14:32.742761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:14:32.742855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:14:32.742958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:14:32.743068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:14:34.322222", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:14:34.322520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:14:34.322700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T18:14:34.322861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T18:14:34.323040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:14:38.211561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:14:38.211696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1J3mWcWL2447MX9JvsirwqqBZZvvLYCjO"}
{"timestamp": "2025-05-16T18:14:38.211799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1J3mWcWL2447MX9JvsirwqqBZZvvLYCjO/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:14:38.211926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:14:38.212061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:14:38.212626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:15:13.267183", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 28602"}
{"timestamp": "2025-05-16T18:15:13.267574", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:15:13.267814", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:15:34.660782", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 18697"}
{"timestamp": "2025-05-16T18:15:34.667787", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 181 column 1974 (char 28594)"}
{"timestamp": "2025-05-16T18:15:34.670557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 28593"}
{"timestamp": "2025-05-16T18:15:34.670903", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 174 column 6 (char 26465)"}
{"timestamp": "2025-05-16T18:15:34.671020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T18:15:34.671227", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T18:15:34.671428", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 174 column 6 (char 26465)"}
{"timestamp": "2025-05-16T18:15:34.674632", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:15:34.674885", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 174 column 6 (char 26465)"}
{"timestamp": "2025-05-16T18:15:34.677594", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:15:34.677823", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Expecting ',' delimiter: line 174 column 6 (char 26465)"}
{"timestamp": "2025-05-16T18:15:34.677906", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2/3)"}
{"timestamp": "2025-05-16T18:16:10.775569", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: Received initial JSON response of length: 29125"}
{"timestamp": "2025-05-16T18:16:10.775890", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:16:10.776109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:16:14.640745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 1395"}
{"timestamp": "2025-05-16T18:16:14.647442", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 147 column 31 (char 29130)"}
{"timestamp": "2025-05-16T18:16:14.650058", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 29116"}
{"timestamp": "2025-05-16T18:16:14.650298", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 135 column 10 (char 28690)"}
{"timestamp": "2025-05-16T18:16:14.650400", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T18:16:14.650599", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T18:16:14.650784", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 135 column 10 (char 28690)"}
{"timestamp": "2025-05-16T18:16:14.653396", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:16:14.653626", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 135 column 10 (char 28690)"}
{"timestamp": "2025-05-16T18:16:14.656257", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:16:14.656462", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: JSON validation failed - Expecting ',' delimiter: line 135 column 10 (char 28690)"}
{"timestamp": "2025-05-16T18:16:14.656576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 3/3)"}
{"timestamp": "2025-05-16T18:16:50.383073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: Received initial JSON response of length: 29785"}
{"timestamp": "2025-05-16T18:16:50.383293", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:16:50.383461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:16:56.539108", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 2918"}
{"timestamp": "2025-05-16T18:16:56.546609", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 245 column 2221 (char 29778)"}
{"timestamp": "2025-05-16T18:16:56.549097", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 29777"}
{"timestamp": "2025-05-16T18:16:56.549353", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 238 column 6 (char 27402)"}
{"timestamp": "2025-05-16T18:16:56.549471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T18:16:56.549679", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T18:16:56.549909", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 238 column 6 (char 27402)"}
{"timestamp": "2025-05-16T18:16:56.552997", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:16:56.553271", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 238 column 6 (char 27402)"}
{"timestamp": "2025-05-16T18:16:56.556345", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:16:56.556743", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: JSON validation failed - Expecting ',' delimiter: line 238 column 6 (char 27402)"}
{"timestamp": "2025-05-16T18:16:56.556975", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Gemini API error: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 238 column 6 (char 27402)"}
{"timestamp": "2025-05-16T18:16:56.557240", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:16:56.557456", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c PIPELINE ERROR"}
{"timestamp": "2025-05-16T18:16:56.557698", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:16:56.557913", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error occurred after 175.56 seconds"}
{"timestamp": "2025-05-16T18:16:56.558152", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error message: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 238 column 6 (char 27402)"}
{"timestamp": "2025-05-16T18:16:56.558366", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Full traceback:"}
{"timestamp": "2025-05-16T18:16:56.559460", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Traceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 2497, in process_parallel\n    raise Exception(f\"JSON reconstruction failed: {json_result.error}\")\nException: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 238 column 6 (char 27402)\n"}
{"timestamp": "2025-05-16T18:16:56.559727", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:16:56.559950", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Processing error - error_time type: <class 'float'>, value: 175.55625367164612"}
{"timestamp": "2025-05-16T18:16:56.561106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: False, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:16:56.561278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f [Error] Calculating processing time - end: 1747419416.5612257, start: 1747419240.999456, diff type: <class 'float'>, value: 175.5617697238922"}
{"timestamp": "2025-05-16T18:16:56.561650", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error processing content: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 238 column 6 (char 27402)"}
{"timestamp": "2025-05-16T18:16:56.561945", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error traceback:\nTraceback (most recent call last):\n  File \"/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py\", line 3484, in process_file_async\n    raise Exception(f\"Processing failed: {result.error}\")\nException: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 238 column 6 (char 27402)\n"}
{"timestamp": "2025-05-16T18:16:56.562181", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 175.5617697238922"}
{"timestamp": "2025-05-16T18:16:56.562523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:16:56.562773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:16:56.562994", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:16:56.563209", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:16:56.563448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:16:56.563666", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 175.5617697238922 = 175.5617697238922"}
{"timestamp": "2025-05-16T18:16:56.563906", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:16:56.564168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 175.5617697238922"}
{"timestamp": "2025-05-16T18:16:56.564304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 175.5617697238922"}
{"timestamp": "2025-05-16T18:16:56.564389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:16:56.564499", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 238 column 6 (char 27402)"}
{"timestamp": "2025-05-16T18:16:56.569295", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:16:56.569493", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:16:56.610517", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:16:57.509691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:16:59.182918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:16:59.183132", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:16:59.183275", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747419419.183035"}
{"timestamp": "2025-05-16T18:16:59.183382", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:16:59.183480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:16:59.183637", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:16:59.213995", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:16:59.214202", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:16:59.836390", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:17:00.584551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:17:00.765337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:17:01.461350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:01.640827", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:17:01.970382", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:02.342240", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:17:02.843459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:03.205564", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:17:03.718514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:04.076253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:17:04.639948", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:17:04.965354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:17:05.572651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:05.834466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:17:06.493340", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:06.725163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:17:07.412708", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:07.593481", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:17:08.345325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:08.540884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:17:09.272191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:09.453507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:17:10.208458", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:17:10.395054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:17:11.136907", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:17:11.137117", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:17:11.137271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:17:12.071402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:17:13.876126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:17:13.876284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:17:13.876402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747419433.8763504"}
{"timestamp": "2025-05-16T18:17:13.876488", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:17:13.876610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:17:13.876684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:17:13.876752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:17:13.876823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:17:13.876895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:17:13.876965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:17:13.877072", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:17:13.877165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:17:13.877240", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:17:13.877310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-3.json"}
{"timestamp": "2025-05-16T18:17:13.877380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:17:13.877461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de p\u00e2nico"}
{"timestamp": "2025-05-16T18:17:13.877605", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 4847"}
{"timestamp": "2025-05-16T18:17:13.877685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:17:13.877857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/e45sfs4w.pdf"}
{"timestamp": "2025-05-16T18:17:16.102747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/e45sfs4w.pdf"}
{"timestamp": "2025-05-16T18:17:16.103126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:17:16.104364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:17:16.104799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:17:16.105105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:17:16.105401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:17:16.105664", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:17:16.106092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:17:16.987088", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747419436.9869742.pdf"}
{"timestamp": "2025-05-16T18:17:19.319638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747419436.9869742.pdf"}
{"timestamp": "2025-05-16T18:17:19.319831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:17:19.319973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:17:19.320211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:17:19.320309", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:17:19.320413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:17:19.320538", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:17:19.320629", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:17:19.320715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:17:50.391613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:17:50.391864", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:17:50.391983", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "# T\u00e9cnicas de Pesquisa\n\n## Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o: Essencial para apresentar um..."}
{"timestamp": "2025-05-16T18:17:50.392105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:17:50.392195", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:17:50.392313", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:17:50.392396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:17:52.099348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:17:52.099565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:17:52.099656", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 9\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T18:17:52.099759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T18:17:52.099873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:17:55.537874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:17:55.538011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1ZEmBSof599JwiJfqoRE8ym6rBUWJj9vP"}
{"timestamp": "2025-05-16T18:17:55.538106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1ZEmBSof599JwiJfqoRE8ym6rBUWJj9vP/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:17:55.538239", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:17:55.538325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:17:55.538714", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:18:30.625290", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: Received initial JSON response of length: 33667"}
{"timestamp": "2025-05-16T18:18:30.625566", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:18:30.625665", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:18:37.230063", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 4184"}
{"timestamp": "2025-05-16T18:18:37.237766", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 124 column 15363 (char 33660)"}
{"timestamp": "2025-05-16T18:18:37.240314", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 33659"}
{"timestamp": "2025-05-16T18:18:37.240633", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 117 column 6 (char 18142)"}
{"timestamp": "2025-05-16T18:18:37.240736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T18:18:37.240904", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T18:18:37.241047", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 117 column 6 (char 18142)"}
{"timestamp": "2025-05-16T18:18:37.242892", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:18:37.243058", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 117 column 6 (char 18142)"}
{"timestamp": "2025-05-16T18:18:37.244895", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:18:37.245072", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Expecting ',' delimiter: line 117 column 6 (char 18142)"}
{"timestamp": "2025-05-16T18:18:37.245175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2/3)"}
{"timestamp": "2025-05-16T18:19:12.360326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: Received initial JSON response of length: 28334"}
{"timestamp": "2025-05-16T18:19:12.360553", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:19:12.360736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:27:33.816355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:27:33.816804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:27:33.852364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:27:34.737274", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:27:36.675663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:27:36.675883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:27:36.675994", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747420056.6758094"}
{"timestamp": "2025-05-16T18:27:36.676114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:27:36.676193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:27:36.676327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:27:36.706415", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:27:36.706589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:27:37.271480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:27:37.986190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:27:38.172478", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:27:38.884762", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:39.064904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:27:39.780856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:39.958528", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:27:40.677086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:40.861874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:27:41.591863", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:41.765312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:27:42.550729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:27:42.731283", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:27:43.486352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:43.789960", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:27:44.498660", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:44.671775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:27:45.500641", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:45.680420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:27:46.424465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:46.603980", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:27:47.373637", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:47.548815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:27:48.301369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:27:48.488944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:27:48.910810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:27:48.910990", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:27:48.911168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:27:49.870478", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:27:51.669232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:27:51.669386", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:27:51.669560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747420071.6694822"}
{"timestamp": "2025-05-16T18:27:51.669682", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:27:51.669783", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:27:51.669877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:27:51.670002", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:27:51.670114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:27:51.670213", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:27:51.670305", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:27:51.670396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:27:51.670492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:27:51.670587", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:27:51.670665", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-16T18:27:51.670736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:27:51.670809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-16T18:27:51.722991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8885"}
{"timestamp": "2025-05-16T18:27:51.723226", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:27:51.723543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/wu_0x38j.pdf"}
{"timestamp": "2025-05-16T18:27:51.723678", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:27:51.724088", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T18:27:54.162081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/wu_0x38j.pdf"}
{"timestamp": "2025-05-16T18:27:54.162378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:27:54.443092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:27:54.443214", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:27:54.443322", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:27:54.443431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:27:54.443512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:27:54.443592", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:27:55.173492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747420075.1733665.pdf"}
{"timestamp": "2025-05-16T18:27:55.173683", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:27:55.173852", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T18:27:57.557949", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747420075.1733665.pdf"}
{"timestamp": "2025-05-16T18:27:57.558629", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:27:57.559142", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:27:57.559704", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:27:57.560178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:27:57.560905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:27:57.561372", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:27:57.561867", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:27:57.562336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:28:15.674316", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:28:15.674497", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:28:15.674586", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um p..."}
{"timestamp": "2025-05-16T18:28:15.674675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:28:15.674790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:28:15.674885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:28:15.674965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:28:17.302921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:28:17.303110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:28:17.303248", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T18:28:17.303671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T18:28:17.303816", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:28:21.098591", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:28:21.098742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1O_ca8EPm9gzectgQ33dCuhIx8av2M2fR"}
{"timestamp": "2025-05-16T18:28:21.098844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1O_ca8EPm9gzectgQ33dCuhIx8av2M2fR/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:28:21.098960", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:28:21.099056", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:28:21.099669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:28:56.362495", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:28:56.362688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:29:05.069371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 6086"}
{"timestamp": "2025-05-16T18:29:05.077113", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 605 column 24 (char 22722)"}
{"timestamp": "2025-05-16T18:29:05.078683", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Alternative merge successful"}
{"timestamp": "2025-05-16T18:29:05.078834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 28764"}
{"timestamp": "2025-05-16T18:29:05.079128", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:29:05.079533", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:29:05.079840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:29:05.126576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:29:09.092260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:29:09.092401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1XJxm91HzIxvIS_aolgYyQu-AEWUT9YHb"}
{"timestamp": "2025-05-16T18:29:09.092484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1XJxm91HzIxvIS_aolgYyQu-AEWUT9YHb/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:29:09.092597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:29:09.092675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:29:09.092788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:29:09.093591", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 9 carousel items"}
{"timestamp": "2025-05-16T18:29:09.093708", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: No title"}
{"timestamp": "2025-05-16T18:29:09.093818", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Documento</title>\n    <link href=\"https://fo..."}
{"timestamp": "2025-05-16T18:29:09.093956", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:29:09.094033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:29:09.094107", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:29:09.094177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:29:09.094268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 77.37 seconds"}
{"timestamp": "2025-05-16T18:29:09.094380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:29:09.094454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25550"}
{"timestamp": "2025-05-16T18:29:09.094530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6866 characters"}
{"timestamp": "2025-05-16T18:29:09.094598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:29:09.094836", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:29:09.094946", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747420149.0949028, start: 1747420071.6694822, diff type: <class 'float'>, value: 77.42542052268982"}
{"timestamp": "2025-05-16T18:29:09.095038", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 77.42542052268982"}
{"timestamp": "2025-05-16T18:29:09.095119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:29:09.095202", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:29:09.095317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:29:09.095432", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:29:09.095532", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:29:09.095630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 77.42542052268982 = 77.42542052268982"}
{"timestamp": "2025-05-16T18:29:09.095725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:29:09.095862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 77.42542052268982"}
{"timestamp": "2025-05-16T18:29:09.096008", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 77.42542052268982"}
{"timestamp": "2025-05-16T18:29:09.096130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:29:09.096235", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:29:09.098316", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:29:09.098525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:29:09.132461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:29:10.155454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:29:11.729037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:29:11.729274", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:29:11.729555", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747420151.7291658"}
{"timestamp": "2025-05-16T18:29:11.729668", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:29:11.729885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:29:11.729984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:29:11.760233", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:29:11.760466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:29:12.352547", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:29:13.082129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:29:13.270356", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:29:13.982832", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:14.159013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:29:14.873239", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:15.052910", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:29:15.787755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:15.963030", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:29:16.665357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:16.848564", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:29:17.597302", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:29:17.789801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:29:18.546412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:18.721856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:29:20.171969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:20.460701", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:29:20.795705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:21.334816", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:29:21.714923", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:21.886955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:29:22.642318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:22.818062", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:29:23.568110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:29:23.744774", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:29:24.494156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:29:24.495094", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:29:24.495658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:29:25.408974", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:29:27.393431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:29:27.393600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:29:27.393726", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747420167.3936758"}
{"timestamp": "2025-05-16T18:29:27.393861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:29:27.393964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:29:27.394053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:29:27.394442", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:29:27.394737", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:29:27.394935", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:29:27.395125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:29:27.395302", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:29:27.395521", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:29:27.395715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:29:27.395904", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-2.json"}
{"timestamp": "2025-05-16T18:29:27.396165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:29:27.396285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de ansiedade de separa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T18:29:27.396522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8042"}
{"timestamp": "2025-05-16T18:29:27.396766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:29:27.397277", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/ilz6plez.pdf"}
{"timestamp": "2025-05-16T18:29:29.829463", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/ilz6plez.pdf"}
{"timestamp": "2025-05-16T18:29:29.829606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:29:29.830459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:29:29.830553", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:29:29.830636", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:29:29.830754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:29:29.830860", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:29:29.830943", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:29:30.715037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747420170.714925.pdf"}
{"timestamp": "2025-05-16T18:29:33.171214", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747420170.714925.pdf"}
{"timestamp": "2025-05-16T18:29:33.171950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:29:33.172542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:29:33.173116", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:29:33.173612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:29:33.174275", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:29:33.174762", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:29:33.175249", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:29:33.175721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:29:49.366163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:29:49.366357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:29:49.366469", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa Aplicadas \u00e0 Gest\u00e3o\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   **Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o:** Essenci..."}
{"timestamp": "2025-05-16T18:29:49.366601", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:29:49.366724", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:29:49.366855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:29:49.366934", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:29:50.869973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:29:50.870150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:29:50.870301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T18:29:50.870423", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T18:29:50.870542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:29:55.887488", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:29:55.888037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1dwkL3qFW0K7n3ExjuV7-Yw4ehnDAQENh"}
{"timestamp": "2025-05-16T18:29:55.888381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1dwkL3qFW0K7n3ExjuV7-Yw4ehnDAQENh/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:29:55.888620", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:29:55.888711", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:29:55.889169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:30:29.077414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T18:30:29.078171", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:30:29.078545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:30:29.078801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:30:29.115585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:30:33.571348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:30:33.571519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1HoxHr1VY3Qh8vAUUyr_oqdPzLrQNFEaz"}
{"timestamp": "2025-05-16T18:30:33.571663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1HoxHr1VY3Qh8vAUUyr_oqdPzLrQNFEaz/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:30:33.571811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:30:33.571900", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:30:33.572054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:30:33.572363", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: T\u00e9cnicas de Pesquisa Aplicadas \u00e0 Gest\u00e3o"}
{"timestamp": "2025-05-16T18:30:33.572461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>T\u00e9cnicas de Pesquisa Aplicadas \u00e0 Gest\u00e3o</tit..."}
{"timestamp": "2025-05-16T18:30:33.572602", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:30:33.572686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:30:33.572760", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:30:33.572835", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:30:33.572911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 66.18 seconds"}
{"timestamp": "2025-05-16T18:30:33.572985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:30:33.573085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25689"}
{"timestamp": "2025-05-16T18:30:33.573166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 25326 characters"}
{"timestamp": "2025-05-16T18:30:33.573232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:30:33.573427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:30:33.573529", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747420233.573487, start: 1747420167.3936758, diff type: <class 'float'>, value: 66.17981123924255"}
{"timestamp": "2025-05-16T18:30:33.573649", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 66.17981123924255"}
{"timestamp": "2025-05-16T18:30:33.573733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:30:33.573815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:30:33.573892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:30:33.573968", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:30:33.574061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:30:33.574152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 66.17981123924255 = 66.17981123924255"}
{"timestamp": "2025-05-16T18:30:33.574226", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:30:33.574300", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 66.17981123924255"}
{"timestamp": "2025-05-16T18:30:33.574376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 66.17981123924255"}
{"timestamp": "2025-05-16T18:30:33.574450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:30:33.574528", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:30:33.576646", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:30:33.576799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:30:33.611587", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:30:34.524481", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:30:36.163840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:30:36.164141", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:30:36.164280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747420236.1639938"}
{"timestamp": "2025-05-16T18:30:36.164414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:30:36.164526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:30:36.164609", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:30:36.194685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:30:36.194857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:30:37.464034", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:30:37.684941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:30:38.343673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:30:38.566766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:39.213376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:30:39.441946", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:40.080225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:30:40.384861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:40.946098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:30:41.274166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:41.818228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:30:42.203177", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:30:42.685965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:30:43.135018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:43.544053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:30:44.063267", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:44.407584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:30:44.987288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:45.267325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:30:45.897264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:46.149384", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:30:46.819813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:47.034332", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:30:47.749482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:30:47.935499", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:30:48.678786", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:30:48.678981", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:30:48.679133", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:30:49.610200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:30:51.406500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:30:51.406656", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:30:51.406775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747420251.4067268"}
{"timestamp": "2025-05-16T18:30:51.406901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:30:51.406985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:30:51.407063", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:30:51.407139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:30:51.407213", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:30:51.407285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:30:51.407392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:30:51.407472", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:30:51.407549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:30:51.407631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:30:51.407703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-3.json"}
{"timestamp": "2025-05-16T18:30:51.407775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:30:51.407872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de p\u00e2nico"}
{"timestamp": "2025-05-16T18:30:51.408024", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 4847"}
{"timestamp": "2025-05-16T18:30:51.408112", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:30:51.408285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/y1er4tjl.pdf"}
{"timestamp": "2025-05-16T18:30:53.414862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/y1er4tjl.pdf"}
{"timestamp": "2025-05-16T18:30:53.415055", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:30:53.415984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:30:53.416152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:30:53.416260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:30:53.416383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:30:53.416482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:30:53.416611", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:30:54.159028", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747420254.1588953.pdf"}
{"timestamp": "2025-05-16T18:30:56.191400", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747420254.1588953.pdf"}
{"timestamp": "2025-05-16T18:30:56.192027", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:30:56.192502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:30:56.193098", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:30:56.193448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:30:56.193969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:30:56.194303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:30:56.194657", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:30:56.194997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:31:13.006459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:31:13.006602", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:31:13.006686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um p..."}
{"timestamp": "2025-05-16T18:31:13.006774", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:31:13.006893", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:31:13.006998", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:31:13.007080", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:31:14.551668", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:31:14.551821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:31:14.551925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T18:31:14.552019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T18:31:14.552119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:31:18.198491", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:31:18.199042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1xWexYcUBG4CiezBH97oUY_rXNw-DWG4T"}
{"timestamp": "2025-05-16T18:31:18.199184", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1xWexYcUBG4CiezBH97oUY_rXNw-DWG4T/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:31:18.199348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:31:18.199460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:31:18.199826", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:31:47.067105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T18:31:47.067451", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:31:47.067724", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:31:47.068012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:31:47.106030", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:31:51.014982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:31:51.015236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1O61bDv22C05akjWv_uVwdZfXyZXDl25X"}
{"timestamp": "2025-05-16T18:31:51.015381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1O61bDv22C05akjWv_uVwdZfXyZXDl25X/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:31:51.015534", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:31:51.015659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:31:51.015755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:31:51.016115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: T\u00e9cnicas de Pesquisa"}
{"timestamp": "2025-05-16T18:31:51.016228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>T\u00e9cnicas de Pesquisa</title>\n    <link href=..."}
{"timestamp": "2025-05-16T18:31:51.016392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:31:51.016478", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:31:51.016557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:31:51.016668", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:31:51.016747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 59.61 seconds"}
{"timestamp": "2025-05-16T18:31:51.016819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:31:51.016908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25707"}
{"timestamp": "2025-05-16T18:31:51.016984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 25853 characters"}
{"timestamp": "2025-05-16T18:31:51.017085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:31:51.017450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:31:51.017627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747420311.0175445, start: 1747420251.4067268, diff type: <class 'float'>, value: 59.610817670822144"}
{"timestamp": "2025-05-16T18:31:51.018102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 59.610817670822144"}
{"timestamp": "2025-05-16T18:31:51.018480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:31:51.018775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:31:51.018962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:31:51.019247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:31:51.019361", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:31:51.019460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 59.610817670822144 = 59.610817670822144"}
{"timestamp": "2025-05-16T18:31:51.019554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:31:51.019687", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 59.610817670822144"}
{"timestamp": "2025-05-16T18:31:51.019845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 59.610817670822144"}
{"timestamp": "2025-05-16T18:31:51.020043", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:31:51.021817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:31:51.024510", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:31:51.024908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:31:51.073143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:31:52.118122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:31:53.721359", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:31:53.721576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:31:53.721696", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747420313.7214744"}
{"timestamp": "2025-05-16T18:31:53.721776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:31:53.721854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:31:53.721940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:31:53.752566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:31:53.752797", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:31:54.988669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:31:55.181261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:31:55.851063", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:31:56.088595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:31:56.738751", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:31:56.999727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:31:57.609586", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:31:57.894819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:31:58.484953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:31:58.840566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:31:59.382427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:31:59.758752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:32:00.360872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:32:00.730721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:32:00.937122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:32:01.659629", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:32:01.852780", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:32:02.116150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:32:02.719885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:32:03.706033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:32:03.886569", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:32:04.647820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:32:04.832597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:32:05.590515", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:32:05.776598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:32:06.526892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:32:06.527054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:32:06.527187", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:32:07.259476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:32:09.064861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:32:09.065056", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:32:09.065336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747420329.0652833"}
{"timestamp": "2025-05-16T18:32:09.065700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:32:09.065820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:32:09.065913", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:32:09.066018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:32:09.066111", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:32:09.066232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:32:09.066317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:32:09.066395", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:32:09.066471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:32:09.066547", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:32:09.066638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-4.json"}
{"timestamp": "2025-05-16T18:32:09.066773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:32:09.066889", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Agorafobia"}
{"timestamp": "2025-05-16T18:32:09.067026", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 11920"}
{"timestamp": "2025-05-16T18:32:09.067127", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:32:09.067439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/bp7jtz28.pdf"}
{"timestamp": "2025-05-16T18:32:09.067576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 5 carousel items"}
{"timestamp": "2025-05-16T18:32:09.067691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 5 items"}
{"timestamp": "2025-05-16T18:32:10.625079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/bp7jtz28.pdf"}
{"timestamp": "2025-05-16T18:32:10.625473", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:32:10.628229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:32:10.628717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:32:10.629084", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:32:10.629398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:32:10.629677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:32:10.629950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:32:11.515712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747420331.515614.pdf"}
{"timestamp": "2025-05-16T18:32:11.516110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 5 carousel items"}
{"timestamp": "2025-05-16T18:32:11.516410", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 5 items"}
{"timestamp": "2025-05-16T18:32:13.977401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747420331.515614.pdf"}
{"timestamp": "2025-05-16T18:32:13.980742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:32:13.981276", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:32:13.981836", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:32:13.982338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:32:13.983013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:32:13.983504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:32:13.990093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:32:13.990578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:32:49.352426", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:32:49.353327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:32:49.353669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um p..."}
{"timestamp": "2025-05-16T18:32:49.354021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:32:49.354209", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:32:49.354443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:32:49.354640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:32:50.924022", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:32:50.924746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:32:50.925259", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T18:32:50.926071", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T18:32:50.926582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:32:54.494353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:32:54.494493", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1phcaxOz55qHYDSh0Ikc4rJrL-U7yg2tO"}
{"timestamp": "2025-05-16T18:32:54.494575", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1phcaxOz55qHYDSh0Ikc4rJrL-U7yg2tO/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:32:54.494707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:32:54.494796", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:32:54.495682", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:33:29.136762", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:33:29.136962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:33:35.413572", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 4762"}
{"timestamp": "2025-05-16T18:33:35.421477", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 414 column 825 (char 29747)"}
{"timestamp": "2025-05-16T18:33:35.424166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 29746"}
{"timestamp": "2025-05-16T18:33:35.424522", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 407 column 6 (char 28767)"}
{"timestamp": "2025-05-16T18:33:35.424973", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 407 column 6 (char 28767)"}
{"timestamp": "2025-05-16T18:33:35.429490", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:33:35.429846", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 407 column 6 (char 28767)"}
{"timestamp": "2025-05-16T18:33:35.433802", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:33:35.435264", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Expecting ',' delimiter: line 407 column 6 (char 28767)"}
{"timestamp": "2025-05-16T18:33:35.435450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 1)"}
{"timestamp": "2025-05-16T18:33:38.214365", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:33:38.214563", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:33:46.681820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 6004"}
{"timestamp": "2025-05-16T18:33:46.682439", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:33:46.682824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 5984"}
{"timestamp": "2025-05-16T18:33:46.682984", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 5 column 10 (char 137)"}
{"timestamp": "2025-05-16T18:33:46.683085", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 5 column 10 (char 137)"}
{"timestamp": "2025-05-16T18:33:46.684204", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:33:46.684313", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 5 column 10 (char 137)"}
{"timestamp": "2025-05-16T18:33:46.685454", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:33:46.685556", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: JSON validation failed - Extra data: line 5 column 10 (char 137)"}
{"timestamp": "2025-05-16T18:33:46.685627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2)"}
{"timestamp": "2025-05-16T18:33:48.618928", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:33:48.619162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:33:54.872769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3712"}
{"timestamp": "2025-05-16T18:33:54.873211", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:33:54.873375", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 3692"}
{"timestamp": "2025-05-16T18:33:54.873482", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 13 column 5 (char 449)"}
{"timestamp": "2025-05-16T18:33:54.873589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T18:33:54.873678", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T18:33:54.873772", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 13 column 5 (char 449)"}
{"timestamp": "2025-05-16T18:33:54.874568", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:33:54.874947", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 13 column 5 (char 449)"}
{"timestamp": "2025-05-16T18:33:54.876411", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:33:54.876758", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: JSON validation failed - Extra data: line 13 column 5 (char 449)"}
{"timestamp": "2025-05-16T18:33:54.877040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 3)"}
{"timestamp": "2025-05-16T18:33:56.875515", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:33:56.876033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:34:02.627240", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3451"}
{"timestamp": "2025-05-16T18:34:02.627837", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:34:02.628102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 3431"}
{"timestamp": "2025-05-16T18:34:02.628228", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 15 column 8 (char 465)"}
{"timestamp": "2025-05-16T18:34:02.628326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T18:34:02.628442", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T18:34:02.628538", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 15 column 8 (char 465)"}
{"timestamp": "2025-05-16T18:34:02.629175", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:02.629288", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 15 column 8 (char 465)"}
{"timestamp": "2025-05-16T18:34:02.629896", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:02.630008", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 4: JSON validation failed - Extra data: line 15 column 8 (char 465)"}
{"timestamp": "2025-05-16T18:34:02.630103", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 4)"}
{"timestamp": "2025-05-16T18:34:04.924400", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Missing required keys: {'id', 'conteudo', 'titulo_nc'}"}
{"timestamp": "2025-05-16T18:34:04.924642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:34:07.746492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 1326"}
{"timestamp": "2025-05-16T18:34:07.746970", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Extra data: line 38 column 2 (char 641)"}
{"timestamp": "2025-05-16T18:34:07.747248", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 1306"}
{"timestamp": "2025-05-16T18:34:07.747379", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 5 column 10 (char 133)"}
{"timestamp": "2025-05-16T18:34:07.747495", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 5 column 10 (char 133)"}
{"timestamp": "2025-05-16T18:34:07.747878", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:07.748010", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 5 column 10 (char 133)"}
{"timestamp": "2025-05-16T18:34:07.748389", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:07.748503", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 5: JSON validation failed - Extra data: line 5 column 10 (char 133)"}
{"timestamp": "2025-05-16T18:34:07.748582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 5)"}
{"timestamp": "2025-05-16T18:34:09.647513", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:34:09.647757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:34:18.912258", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 6243"}
{"timestamp": "2025-05-16T18:34:18.912935", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:34:18.913439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 6223"}
{"timestamp": "2025-05-16T18:34:18.913744", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 6 column 8 (char 131)"}
{"timestamp": "2025-05-16T18:34:18.914299", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 6 column 8 (char 131)"}
{"timestamp": "2025-05-16T18:34:18.915925", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:18.916241", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 6 column 8 (char 131)"}
{"timestamp": "2025-05-16T18:34:18.917807", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:18.918354", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 6: JSON validation failed - Extra data: line 6 column 8 (char 131)"}
{"timestamp": "2025-05-16T18:34:18.918607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 6)"}
{"timestamp": "2025-05-16T18:34:20.774959", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:34:20.775207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:34:26.347135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3431"}
{"timestamp": "2025-05-16T18:34:26.347563", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:34:26.347790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 3411"}
{"timestamp": "2025-05-16T18:34:26.347909", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 10 column 10 (char 289)"}
{"timestamp": "2025-05-16T18:34:26.348017", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 10 column 10 (char 289)"}
{"timestamp": "2025-05-16T18:34:26.348801", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:26.348934", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 10 column 10 (char 289)"}
{"timestamp": "2025-05-16T18:34:26.349607", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:26.349733", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 7: JSON validation failed - Extra data: line 10 column 10 (char 289)"}
{"timestamp": "2025-05-16T18:34:26.349824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 7)"}
{"timestamp": "2025-05-16T18:34:28.316937", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:34:28.317168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:34:34.901878", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3481"}
{"timestamp": "2025-05-16T18:34:34.902445", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:34:34.902793", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 3463"}
{"timestamp": "2025-05-16T18:34:34.902925", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 5 column 6 (char 94)"}
{"timestamp": "2025-05-16T18:34:34.903017", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 5 column 6 (char 94)"}
{"timestamp": "2025-05-16T18:34:34.903911", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:34.904088", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 5 column 6 (char 94)"}
{"timestamp": "2025-05-16T18:34:34.904972", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:34:34.905077", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 8: JSON validation failed - Extra data: line 5 column 6 (char 94)"}
{"timestamp": "2025-05-16T18:34:34.905155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 8)"}
{"timestamp": "2025-05-16T18:34:36.830208", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:34:36.830471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:35:15.799723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 26746"}
{"timestamp": "2025-05-16T18:35:15.800366", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:35:15.800541", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 26726"}
{"timestamp": "2025-05-16T18:35:15.800675", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 21 column 10 (char 774)"}
{"timestamp": "2025-05-16T18:35:15.800758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T18:35:15.800890", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T18:35:15.800985", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 21 column 10 (char 774)"}
{"timestamp": "2025-05-16T18:35:15.806146", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:15.806302", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 21 column 10 (char 774)"}
{"timestamp": "2025-05-16T18:35:15.811160", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:15.811304", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 9: JSON validation failed - Extra data: line 21 column 10 (char 774)"}
{"timestamp": "2025-05-16T18:35:15.811387", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 9)"}
{"timestamp": "2025-05-16T18:35:18.469169", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:35:18.469364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:35:27.839153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 5470"}
{"timestamp": "2025-05-16T18:35:27.839768", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:35:27.839997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 5448"}
{"timestamp": "2025-05-16T18:35:27.840155", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 7 column 6 (char 217)"}
{"timestamp": "2025-05-16T18:35:27.840260", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 7 column 6 (char 217)"}
{"timestamp": "2025-05-16T18:35:27.841277", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:27.841399", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 7 column 6 (char 217)"}
{"timestamp": "2025-05-16T18:35:27.842406", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:27.842507", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 10: JSON validation failed - Extra data: line 7 column 6 (char 217)"}
{"timestamp": "2025-05-16T18:35:27.842620", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 10)"}
{"timestamp": "2025-05-16T18:35:30.778974", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:35:30.779167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:35:38.976905", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 5822"}
{"timestamp": "2025-05-16T18:35:38.977605", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:35:38.977849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 5802"}
{"timestamp": "2025-05-16T18:35:38.977975", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 8 column 9 (char 256)"}
{"timestamp": "2025-05-16T18:35:38.978084", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 8 column 9 (char 256)"}
{"timestamp": "2025-05-16T18:35:38.979078", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:38.979228", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 8 column 9 (char 256)"}
{"timestamp": "2025-05-16T18:35:38.980149", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:38.980323", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 11: JSON validation failed - Extra data: line 8 column 9 (char 256)"}
{"timestamp": "2025-05-16T18:35:38.980410", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 11)"}
{"timestamp": "2025-05-16T18:35:41.046838", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:35:41.047070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:35:43.535150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 779"}
{"timestamp": "2025-05-16T18:35:43.535757", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:35:43.536052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 759"}
{"timestamp": "2025-05-16T18:35:43.536178", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 7 column 10 (char 179)"}
{"timestamp": "2025-05-16T18:35:43.536273", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 7 column 10 (char 179)"}
{"timestamp": "2025-05-16T18:35:43.536562", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:43.536687", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 7 column 10 (char 179)"}
{"timestamp": "2025-05-16T18:35:43.536913", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:43.537046", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 12: JSON validation failed - Extra data: line 7 column 10 (char 179)"}
{"timestamp": "2025-05-16T18:35:43.537124", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 12)"}
{"timestamp": "2025-05-16T18:35:45.587667", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:35:45.587859", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:35:49.675168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 2200"}
{"timestamp": "2025-05-16T18:35:49.675720", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:35:49.675985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 2178"}
{"timestamp": "2025-05-16T18:35:49.676125", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 10 column 10 (char 292)"}
{"timestamp": "2025-05-16T18:35:49.676231", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 10 column 10 (char 292)"}
{"timestamp": "2025-05-16T18:35:49.676715", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:49.676826", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 10 column 10 (char 292)"}
{"timestamp": "2025-05-16T18:35:49.677302", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:49.677433", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 13: JSON validation failed - Extra data: line 10 column 10 (char 292)"}
{"timestamp": "2025-05-16T18:35:49.677518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 13)"}
{"timestamp": "2025-05-16T18:35:51.748763", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:35:51.748968", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:35:58.415632", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 5546"}
{"timestamp": "2025-05-16T18:35:58.416274", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:35:58.416511", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 5526"}
{"timestamp": "2025-05-16T18:35:58.416640", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 11 column 10 (char 701)"}
{"timestamp": "2025-05-16T18:35:58.416738", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 11 column 10 (char 701)"}
{"timestamp": "2025-05-16T18:35:58.417487", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:58.417605", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 11 column 10 (char 701)"}
{"timestamp": "2025-05-16T18:35:58.418326", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:35:58.418425", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 14: JSON validation failed - Extra data: line 11 column 10 (char 701)"}
{"timestamp": "2025-05-16T18:35:58.418522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 14)"}
{"timestamp": "2025-05-16T18:36:04.457327", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:36:04.457522", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:36:09.414784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3346"}
{"timestamp": "2025-05-16T18:36:09.416142", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:36:09.416514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 3326"}
{"timestamp": "2025-05-16T18:36:09.416638", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 11 column 8 (char 225)"}
{"timestamp": "2025-05-16T18:36:09.416744", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 11 column 8 (char 225)"}
{"timestamp": "2025-05-16T18:36:09.417419", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:36:09.417527", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 11 column 8 (char 225)"}
{"timestamp": "2025-05-16T18:36:09.418157", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:36:09.418256", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 15: JSON validation failed - Extra data: line 11 column 8 (char 225)"}
{"timestamp": "2025-05-16T18:36:09.418370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 15)"}
{"timestamp": "2025-05-16T18:36:14.077031", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:36:14.077241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:36:28.940787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 9949"}
{"timestamp": "2025-05-16T18:36:28.942040", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:36:28.942376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 9929"}
{"timestamp": "2025-05-16T18:36:28.942544", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 23 column 8 (char 846)"}
{"timestamp": "2025-05-16T18:36:28.942671", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 23 column 8 (char 846)"}
{"timestamp": "2025-05-16T18:36:28.944525", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Unbalanced quotes detected, attempting to fix"}
{"timestamp": "2025-05-16T18:36:28.944725", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:36:28.944843", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 23 column 8 (char 846)"}
{"timestamp": "2025-05-16T18:36:28.946604", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Unbalanced quotes detected, attempting to fix"}
{"timestamp": "2025-05-16T18:36:28.946802", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:36:28.946930", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 16: JSON validation failed - Extra data: line 23 column 8 (char 846)"}
{"timestamp": "2025-05-16T18:36:28.947024", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 16)"}
{"timestamp": "2025-05-16T18:36:34.426357", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:36:34.426591", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:36:40.315020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3684"}
{"timestamp": "2025-05-16T18:36:40.316414", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:36:40.317397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 3664"}
{"timestamp": "2025-05-16T18:36:40.318048", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 9 column 10 (char 345)"}
{"timestamp": "2025-05-16T18:36:40.318663", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 9 column 10 (char 345)"}
{"timestamp": "2025-05-16T18:36:40.320066", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:36:40.320852", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 9 column 10 (char 345)"}
{"timestamp": "2025-05-16T18:36:40.322021", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:36:40.322526", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 17: JSON validation failed - Extra data: line 9 column 10 (char 345)"}
{"timestamp": "2025-05-16T18:36:40.322979", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 17)"}
{"timestamp": "2025-05-16T18:36:42.698232", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:36:42.698402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:37:03.959709", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 13274"}
{"timestamp": "2025-05-16T18:37:03.960315", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:37:03.960549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 13254"}
{"timestamp": "2025-05-16T18:37:03.960695", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 9 column 8 (char 383)"}
{"timestamp": "2025-05-16T18:37:03.960794", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 9 column 8 (char 383)"}
{"timestamp": "2025-05-16T18:37:03.963429", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:37:03.963578", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 9 column 8 (char 383)"}
{"timestamp": "2025-05-16T18:37:03.966223", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:37:03.966359", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 18: JSON validation failed - Extra data: line 9 column 8 (char 383)"}
{"timestamp": "2025-05-16T18:37:03.966455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 18)"}
{"timestamp": "2025-05-16T18:37:05.567421", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:37:05.567676", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:37:12.531764", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 4514"}
{"timestamp": "2025-05-16T18:37:12.532132", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:37:12.532298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 4494"}
{"timestamp": "2025-05-16T18:37:12.532660", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 13 column 10 (char 474)"}
{"timestamp": "2025-05-16T18:37:12.532946", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 13 column 10 (char 474)"}
{"timestamp": "2025-05-16T18:37:12.533836", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:37:12.534009", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 13 column 10 (char 474)"}
{"timestamp": "2025-05-16T18:37:12.534853", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:37:12.535013", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 19: JSON validation failed - Extra data: line 13 column 10 (char 474)"}
{"timestamp": "2025-05-16T18:37:12.535106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 19)"}
{"timestamp": "2025-05-16T18:37:17.305086", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:37:17.305312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:37:23.516336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 3749"}
{"timestamp": "2025-05-16T18:37:23.517657", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:37:23.517980", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 3727"}
{"timestamp": "2025-05-16T18:37:23.518091", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 11 column 10 (char 409)"}
{"timestamp": "2025-05-16T18:37:23.518183", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 11 column 10 (char 409)"}
{"timestamp": "2025-05-16T18:37:23.518875", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:37:23.518987", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 11 column 10 (char 409)"}
{"timestamp": "2025-05-16T18:37:23.519652", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:37:23.519774", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 20: JSON validation failed - Extra data: line 11 column 10 (char 409)"}
{"timestamp": "2025-05-16T18:37:23.519885", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Reached max retries (20), but will continue trying..."}
{"timestamp": "2025-05-16T18:37:23.519976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 20)"}
{"timestamp": "2025-05-16T18:37:25.876485", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:37:25.876653", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:37:28.499864", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 1109"}
{"timestamp": "2025-05-16T18:37:28.500430", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting value: line 1 column 1 (char 0)"}
{"timestamp": "2025-05-16T18:37:28.500669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 1087"}
{"timestamp": "2025-05-16T18:37:28.500782", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Extra data: line 6 column 7 (char 170)"}
{"timestamp": "2025-05-16T18:37:28.500871", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 6 column 7 (char 170)"}
{"timestamp": "2025-05-16T18:37:28.501156", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:37:28.501285", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Extra data: line 6 column 7 (char 170)"}
{"timestamp": "2025-05-16T18:37:28.501555", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T18:37:28.501656", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 21: JSON validation failed - Extra data: line 6 column 7 (char 170)"}
{"timestamp": "2025-05-16T18:37:28.501731", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Reached max retries (20), but will continue trying..."}
{"timestamp": "2025-05-16T18:37:28.501807", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 21)"}
{"timestamp": "2025-05-16T18:37:33.726894", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T18:37:33.727074", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T18:39:53.959087", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:39:53.960147", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:39:54.010182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:39:54.803211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:39:56.962359", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:39:56.962554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:39:56.962691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747420796.9624786"}
{"timestamp": "2025-05-16T18:39:56.962838", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:39:56.962928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:39:56.963013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:39:56.992883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:39:56.993032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:39:57.563381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:39:58.282831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:39:58.486461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:39:59.187309", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:39:59.378596", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:40:00.072523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:00.340304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:40:00.958726", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:01.246106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:40:01.839741", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:02.120577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:40:02.478862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:40:02.986999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:40:03.416502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:03.860342", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:40:04.472042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:04.647245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:40:05.414222", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:05.589773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:40:06.316769", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:06.495662", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:40:07.234486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:07.417369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:40:08.157315", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:40:08.329854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:40:09.084431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:40:09.084644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:40:09.084824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:40:10.022087", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:40:11.833464", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:40:11.833649", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:40:11.833833", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747420811.8337545"}
{"timestamp": "2025-05-16T18:40:11.833975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:40:11.834109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:40:11.834206", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:40:11.834302", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:40:11.834434", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:40:11.834551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:40:11.834644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:40:11.834739", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:40:11.834831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:40:11.834952", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:40:11.835066", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-16T18:40:11.835145", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:40:11.835221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-16T18:40:11.892300", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8885"}
{"timestamp": "2025-05-16T18:40:11.892468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:40:11.892765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/a8db5mzb.pdf"}
{"timestamp": "2025-05-16T18:40:11.892890", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:40:11.893158", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T18:40:14.810050", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/a8db5mzb.pdf"}
{"timestamp": "2025-05-16T18:40:14.810388", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:40:15.079386", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:40:15.079559", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:40:15.079661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:40:15.079788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:40:15.079977", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:40:15.080115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:40:15.963134", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747420815.9629939.pdf"}
{"timestamp": "2025-05-16T18:40:15.963379", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T18:40:15.963610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T18:40:18.635634", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747420815.9629939.pdf"}
{"timestamp": "2025-05-16T18:40:18.636235", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:40:18.636695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:40:18.637212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:40:18.637551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:40:18.637875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:40:18.638191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:40:18.638476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:40:18.638807", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:40:32.793695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:40:32.793928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:40:32.794048", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa\n\n### Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar ..."}
{"timestamp": "2025-05-16T18:40:32.794159", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:40:32.794285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:40:32.794396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:40:32.794474", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:40:34.241752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:40:34.241955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:40:34.242088", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T18:40:34.242447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T18:40:34.242555", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:40:38.249164", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:40:38.249302", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1RhRV-PAtA4q31m3CjqtmTbzkCguxWOZO"}
{"timestamp": "2025-05-16T18:40:38.249389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1RhRV-PAtA4q31m3CjqtmTbzkCguxWOZO/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:40:38.249509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:40:38.249625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:40:38.250256", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:40:54.030131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T18:40:54.030445", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:40:54.030714", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:40:54.030924", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:40:54.072422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:40:58.130761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:40:58.130951", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1kBrbGnhgMAktzAz0N9cWgR6BXFlmTTbR"}
{"timestamp": "2025-05-16T18:40:58.131079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1kBrbGnhgMAktzAz0N9cWgR6BXFlmTTbR/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:40:58.131265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:40:58.131490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:40:58.131619", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:40:58.131891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-16T18:40:58.132101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>O que s\u00e3o transtornos de ansiedade?</title>\n..."}
{"timestamp": "2025-05-16T18:40:58.132269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:40:58.132357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:40:58.132487", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:40:58.132573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:40:58.132657", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 46.24 seconds"}
{"timestamp": "2025-05-16T18:40:58.132734", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:40:58.132806", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25550"}
{"timestamp": "2025-05-16T18:40:58.132877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 17367 characters"}
{"timestamp": "2025-05-16T18:40:58.132985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:40:58.133303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:40:58.133459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747420858.133388, start: 1747420811.8337545, diff type: <class 'float'>, value: 46.299633502960205"}
{"timestamp": "2025-05-16T18:40:58.133589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 46.299633502960205"}
{"timestamp": "2025-05-16T18:40:58.133678", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:40:58.133761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:40:58.133839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:40:58.133915", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:40:58.134030", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:40:58.134113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 46.299633502960205 = 46.299633502960205"}
{"timestamp": "2025-05-16T18:40:58.134190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:40:58.134268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 46.299633502960205"}
{"timestamp": "2025-05-16T18:40:58.134342", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 46.299633502960205"}
{"timestamp": "2025-05-16T18:40:58.134417", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:40:58.134557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:40:58.136876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:40:58.137168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:40:58.173425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:40:59.062764", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:41:01.302502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:41:01.302701", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:41:01.302800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747420861.3026304"}
{"timestamp": "2025-05-16T18:41:01.302886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:41:01.302964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:41:01.303125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:41:01.333434", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:41:01.333677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:41:01.928480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:41:02.685428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:41:02.862940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:41:03.563583", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:03.743323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:41:04.455023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:04.633475", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:41:05.334736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:05.512023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:41:06.210642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:06.389378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:41:07.134566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:41:07.318961", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:41:08.081270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:08.276038", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:41:09.089906", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:09.276589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:41:10.044767", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:10.231768", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:41:10.956560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:11.132966", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:41:11.886123", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:12.085304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:41:12.814002", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:41:12.997964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:41:13.743553", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:41:13.743766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:41:13.743895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:41:14.662785", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:41:16.468783", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:41:16.468953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:41:16.469189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747420876.4691343"}
{"timestamp": "2025-05-16T18:41:16.469303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:41:16.469407", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:41:16.469485", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:41:16.469560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:41:16.469634", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:41:16.469703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:41:16.469800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:41:16.469901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:41:16.470073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:41:16.470159", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:41:16.470234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-2.json"}
{"timestamp": "2025-05-16T18:41:16.470332", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:41:16.470425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de ansiedade de separa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T18:41:16.470551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8042"}
{"timestamp": "2025-05-16T18:41:16.470633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:41:16.470890", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/_lfyf2r3.pdf"}
{"timestamp": "2025-05-16T18:41:19.099536", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/_lfyf2r3.pdf"}
{"timestamp": "2025-05-16T18:41:19.099880", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:41:19.102429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:41:19.102687", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:41:19.103082", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:41:19.103279", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:41:19.103549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:41:19.103796", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:41:19.929679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747420879.9295883.pdf"}
{"timestamp": "2025-05-16T18:41:23.051313", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747420879.9295883.pdf"}
{"timestamp": "2025-05-16T18:41:23.051901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:41:23.052053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:41:23.052284", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:41:23.052398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:41:23.052523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:41:23.052618", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:41:23.052709", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:41:23.052800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:41:38.940445", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:41:38.940595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:41:38.940743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Ok, vamos adaptar o conte\u00fado sobre T\u00e9cnicas de Pesquisa para o contexto da Gest\u00e3o, focando na clareza, relev\u00e2ncia e precis\u00e3o factual.\n\n**T\u00e9cnicas de Pesquisa**\n\nEncontramos uma gama de qualidades que ..."}
{"timestamp": "2025-05-16T18:41:38.940843", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:41:38.940938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:41:38.941026", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:41:38.941106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:41:40.625414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:41:40.625588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:41:40.625702", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T18:41:40.625803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T18:41:40.625941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:41:44.451265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:41:44.451400", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1Knte_ESyTz5dumu_1CXcuOD9-QIW_oxg"}
{"timestamp": "2025-05-16T18:41:44.451525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1Knte_ESyTz5dumu_1CXcuOD9-QIW_oxg/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:41:44.451653", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:41:44.451736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:41:44.452280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:42:14.196143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T18:42:14.196568", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:42:14.197032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:42:14.197358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:42:14.234149", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:42:18.302896", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:42:18.303027", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 18wmQdVUjgMcmYAYA4RVJGKQm3vXJsl5d"}
{"timestamp": "2025-05-16T18:42:18.303144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/18wmQdVUjgMcmYAYA4RVJGKQm3vXJsl5d/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:42:18.303325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:42:18.303414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:42:18.303492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:42:18.303781", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: T\u00e9cnicas de Pesquisa"}
{"timestamp": "2025-05-16T18:42:18.303869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>T\u00e9cnicas de Pesquisa</title>\n    <link href=..."}
{"timestamp": "2025-05-16T18:42:18.303976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:42:18.304092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:42:18.304169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:42:18.304276", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:42:18.304369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 61.83 seconds"}
{"timestamp": "2025-05-16T18:42:18.304446", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:42:18.304520", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25689"}
{"timestamp": "2025-05-16T18:42:18.304594", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 15753 characters"}
{"timestamp": "2025-05-16T18:42:18.304666", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:42:18.304887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:42:18.304992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747420938.3049493, start: 1747420876.4691343, diff type: <class 'float'>, value: 61.83581495285034"}
{"timestamp": "2025-05-16T18:42:18.305081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 61.83581495285034"}
{"timestamp": "2025-05-16T18:42:18.305159", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:42:18.305269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:42:18.305358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:42:18.305435", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:42:18.305510", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:42:18.305588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 61.83581495285034 = 61.83581495285034"}
{"timestamp": "2025-05-16T18:42:18.305671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:42:18.305774", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 61.83581495285034"}
{"timestamp": "2025-05-16T18:42:18.305861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 61.83581495285034"}
{"timestamp": "2025-05-16T18:42:18.305936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:42:18.306013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:42:18.307548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:42:18.307678", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:42:18.342186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:42:19.291567", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:42:21.251971", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:42:21.252172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:42:21.252278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747420941.2520914"}
{"timestamp": "2025-05-16T18:42:21.252359", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:42:21.252434", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:42:21.252515", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:42:21.282777", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:42:21.283004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:42:22.625973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:42:22.884805", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:42:23.496869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:42:23.786825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:24.372659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:42:24.680866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:25.241761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:42:25.636275", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:26.108461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:42:26.522625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:26.974504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:42:27.458227", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:42:27.844469", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:42:28.404566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:28.718932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:42:29.349964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:29.589797", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:42:29.968876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:30.213732", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:42:30.895939", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:31.088967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:42:31.456513", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:31.765140", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:42:32.033033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:42:32.629721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:42:32.977203", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:42:32.977374", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:42:32.977509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:42:33.895925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:42:35.697125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:42:35.697303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:42:35.697421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747420955.6973672"}
{"timestamp": "2025-05-16T18:42:35.697506", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:42:35.697609", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:42:35.697701", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:42:35.697775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:42:35.697850", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:42:35.697926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:42:35.698001", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:42:35.698077", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:42:35.698183", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:42:35.698262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:42:35.698334", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-3.json"}
{"timestamp": "2025-05-16T18:42:35.698401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:42:35.698479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de p\u00e2nico"}
{"timestamp": "2025-05-16T18:42:35.698590", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 4847"}
{"timestamp": "2025-05-16T18:42:35.698698", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:42:35.698878", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/_pdo5um8.pdf"}
{"timestamp": "2025-05-16T18:42:37.704891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/_pdo5um8.pdf"}
{"timestamp": "2025-05-16T18:42:37.705485", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:42:37.707722", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:42:37.708298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:42:37.708693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:42:37.709079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:42:37.709428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:42:37.709818", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:42:38.490797", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747420958.4906883.pdf"}
{"timestamp": "2025-05-16T18:42:40.389713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747420958.4906883.pdf"}
{"timestamp": "2025-05-16T18:42:40.390108", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:42:40.390376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:42:40.390754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:42:40.391005", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:42:40.391291", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:42:40.391555", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:42:40.391816", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:42:40.392109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:43:00.814873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:43:00.815059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:43:00.815171", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um p..."}
{"timestamp": "2025-05-16T18:43:00.815310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:43:00.815448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:43:00.815553", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:43:00.815633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:43:02.394757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:43:02.394917", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:43:02.395003", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T18:43:02.395134", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T18:43:02.395252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:43:06.182091", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:43:06.182286", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1PwU9fviVImKFdP-8GB30_bk6wCtaaN16"}
{"timestamp": "2025-05-16T18:43:06.182380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1PwU9fviVImKFdP-8GB30_bk6wCtaaN16/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:43:06.182537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:43:06.182618", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:43:06.182948", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:43:37.011195", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T18:43:37.011584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:43:37.011927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:43:37.012190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:43:37.047374", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:43:41.289902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:43:41.290041", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1GdnKdyBaxNmYJF45OgFd_JolJ6akw_51"}
{"timestamp": "2025-05-16T18:43:41.290154", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1GdnKdyBaxNmYJF45OgFd_JolJ6akw_51/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:43:41.290318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:43:41.290403", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:43:41.290484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:43:41.290768", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: T\u00e9cnicas de Pesquisa"}
{"timestamp": "2025-05-16T18:43:41.290874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>T\u00e9cnicas de Pesquisa</title>\n    <link href=..."}
{"timestamp": "2025-05-16T18:43:41.290991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:43:41.291070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:43:41.291147", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:43:41.291261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:43:41.291347", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 65.59 seconds"}
{"timestamp": "2025-05-16T18:43:41.291419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:43:41.291504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25707"}
{"timestamp": "2025-05-16T18:43:41.291577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 32496 characters"}
{"timestamp": "2025-05-16T18:43:41.291658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:43:41.291849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:43:41.291957", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747421021.2919135, start: 1747420955.6973672, diff type: <class 'float'>, value: 65.5945463180542"}
{"timestamp": "2025-05-16T18:43:41.292084", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 65.5945463180542"}
{"timestamp": "2025-05-16T18:43:41.292178", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:43:41.292290", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:43:41.292384", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:43:41.292461", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:43:41.292537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:43:41.292616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 65.5945463180542 = 65.5945463180542"}
{"timestamp": "2025-05-16T18:43:41.292693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:43:41.292797", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 65.5945463180542"}
{"timestamp": "2025-05-16T18:43:41.292882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 65.5945463180542"}
{"timestamp": "2025-05-16T18:43:41.292950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:43:41.293025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:43:41.294759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:43:41.294938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:43:41.341927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:43:42.116116", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:43:43.547049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:43:43.547216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:43:43.547350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747421023.547159"}
{"timestamp": "2025-05-16T18:43:43.547471", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:43:43.547553", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:43:43.547630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:43:43.577945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:43:43.578231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:43:44.156381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:43:44.882584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:43:45.069538", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:43:45.755271", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:45.941237", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:43:46.658684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:46.836812", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:43:47.546386", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:47.743871", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:43:48.429156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:48.619443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:43:49.365127", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:43:49.549453", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:43:50.289462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:50.462857", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:43:51.197786", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:51.376381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:43:52.116603", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:52.300699", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:43:53.024944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:53.205427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:43:53.934570", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:54.108236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:43:54.850610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:43:55.032110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:43:55.780431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:43:55.780695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:43:55.780874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:43:56.697015", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:43:58.482557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:43:58.482716", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:43:58.482830", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747421038.4827785"}
{"timestamp": "2025-05-16T18:43:58.482953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:43:58.483044", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:43:58.483121", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:43:58.483198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:43:58.483277", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:43:58.483354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:43:58.483480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:43:58.483560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:43:58.483650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:43:58.483724", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:43:58.483799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-4.json"}
{"timestamp": "2025-05-16T18:43:58.483873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:43:58.484004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Agorafobia"}
{"timestamp": "2025-05-16T18:43:58.484148", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 11920"}
{"timestamp": "2025-05-16T18:43:58.484233", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:43:58.484518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/6m1za_rq.pdf"}
{"timestamp": "2025-05-16T18:43:58.484648", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 5 carousel items"}
{"timestamp": "2025-05-16T18:43:58.484755", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 5 items"}
{"timestamp": "2025-05-16T18:44:00.425874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/6m1za_rq.pdf"}
{"timestamp": "2025-05-16T18:44:00.426441", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:44:00.428462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:44:00.428839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:44:00.429126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:44:00.429428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:44:00.429695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:44:00.430012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:44:01.312557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747421041.3124068.pdf"}
{"timestamp": "2025-05-16T18:44:01.312789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 5 carousel items"}
{"timestamp": "2025-05-16T18:44:01.312934", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 5 items"}
{"timestamp": "2025-05-16T18:44:02.786943", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747421041.3124068.pdf"}
{"timestamp": "2025-05-16T18:44:02.787128", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:44:02.787241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:44:02.787379", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:44:02.787465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:44:02.787552", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:44:02.787660", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:44:02.787742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:44:02.787819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:44:28.600788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:44:28.600997", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:44:28.601100", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "T\u00c9CNICAS DE PESQUISA\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um plan..."}
{"timestamp": "2025-05-16T18:44:28.601203", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:44:28.601299", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:44:28.601498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:44:28.601613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:44:30.078777", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:44:30.078919", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:44:30.079035", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T18:44:30.079140", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T18:44:30.079252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:44:33.868403", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:44:33.868606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1BepzE-jwG5qd6ytNTsXzYOwbWhT47VAl"}
{"timestamp": "2025-05-16T18:44:33.868741", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1BepzE-jwG5qd6ytNTsXzYOwbWhT47VAl/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:44:33.868870", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:44:33.868967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:44:33.869957", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:45:00.169108", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T18:45:00.169464", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:45:00.169760", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:45:00.170091", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:45:00.210784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:45:04.449594", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:45:04.449947", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1JLhTw7Uz6rLl2KHlJI_mDgMJ7WNdzS1c"}
{"timestamp": "2025-05-16T18:45:04.450060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1JLhTw7Uz6rLl2KHlJI_mDgMJ7WNdzS1c/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:45:04.450188", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:45:04.450337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:45:04.450444", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:45:04.450723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 0 carousel items"}
{"timestamp": "2025-05-16T18:45:04.450919", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: T\u00e9cnicas de Pesquisa"}
{"timestamp": "2025-05-16T18:45:04.451023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>T\u00e9cnicas de Pesquisa</title>\n    <link href=..."}
{"timestamp": "2025-05-16T18:45:04.451162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:45:04.451243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:45:04.451354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:45:04.451433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:45:04.451511", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 65.97 seconds"}
{"timestamp": "2025-05-16T18:45:04.451582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:45:04.451673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 26016"}
{"timestamp": "2025-05-16T18:45:04.451760", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 28265 characters"}
{"timestamp": "2025-05-16T18:45:04.451866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:45:04.452126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:45:04.452236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747421104.4521925, start: 1747421038.4827785, diff type: <class 'float'>, value: 65.9694139957428"}
{"timestamp": "2025-05-16T18:45:04.452369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 65.9694139957428"}
{"timestamp": "2025-05-16T18:45:04.452455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:45:04.452550", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:45:04.452626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:45:04.452700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:45:04.452774", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:45:04.452882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 65.9694139957428 = 65.9694139957428"}
{"timestamp": "2025-05-16T18:45:04.452976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:45:04.453054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 65.9694139957428"}
{"timestamp": "2025-05-16T18:45:04.453139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 65.9694139957428"}
{"timestamp": "2025-05-16T18:45:04.453205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:45:04.453281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:45:04.454908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:45:04.455083", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:45:04.489405", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:45:05.341038", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:45:06.863538", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:45:06.863831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:45:06.863969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747421106.8636775"}
{"timestamp": "2025-05-16T18:45:06.864101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:45:06.864186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:45:06.864269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:45:06.894247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:45:06.894507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:45:07.531229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:45:07.782752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:45:08.395543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:45:08.660944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:08.985392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:45:09.290133", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:09.855865", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:45:10.174593", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:10.721251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:45:11.047025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:11.588211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:45:11.972383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:45:12.154255", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:45:12.898363", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:13.077559", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:45:13.822820", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:13.999966", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:45:14.733899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:14.928204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:45:15.639238", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:15.821375", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:45:16.568156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:16.746381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:45:17.517909", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:45:17.697801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:45:18.475329", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:45:18.475533", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:45:18.475705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:45:19.398366", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:45:21.372822", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:45:21.373068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:45:21.373429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747421121.3733406"}
{"timestamp": "2025-05-16T18:45:21.373577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:45:21.373735", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:45:21.374066", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:45:21.374204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:45:21.374283", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:45:21.374436", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:45:21.374563", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:45:21.374693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:45:21.374779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:45:21.374856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:45:21.374933", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-5.json"}
{"timestamp": "2025-05-16T18:45:21.375009", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:45:21.375086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Vem que eu te explico!"}
{"timestamp": "2025-05-16T18:45:21.375264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 1514"}
{"timestamp": "2025-05-16T18:45:21.375350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:45:21.375519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/tuczzydo.pdf"}
{"timestamp": "2025-05-16T18:45:22.673201", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/tuczzydo.pdf"}
{"timestamp": "2025-05-16T18:45:22.673476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:45:22.674778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:45:22.674958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:45:22.675139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:45:22.675262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:45:22.675368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:45:22.675524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:45:23.354192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747421123.354085.pdf"}
{"timestamp": "2025-05-16T18:45:24.609483", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747421123.354085.pdf"}
{"timestamp": "2025-05-16T18:45:24.609731", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:45:24.609908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:45:24.610115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:45:24.610247", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:45:24.610400", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:45:24.610516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:45:24.610603", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:45:24.610686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:45:53.971505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:45:53.971691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:45:53.971810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um plano de neg\u00f3cios conciso ..."}
{"timestamp": "2025-05-16T18:45:53.971945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:45:53.972059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:45:53.972213", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:45:53.972311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:45:55.544745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:45:55.544912", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:45:55.545067", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T18:45:55.545229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T18:45:55.545357", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:45:59.549734", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:45:59.549860", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1RFvN_3nC8Al_XFVeMd5KLQgq2C5FC90Q"}
{"timestamp": "2025-05-16T18:45:59.549974", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1RFvN_3nC8Al_XFVeMd5KLQgq2C5FC90Q/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:45:59.550104", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:45:59.550184", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:45:59.550392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:46:34.628691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T18:46:34.629415", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:46:34.629998", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:46:34.630431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:46:34.677262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:46:39.199926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:46:39.200129", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1FUMZxbf0cnnyojSHeGG-SpWdjga90OM4"}
{"timestamp": "2025-05-16T18:46:39.200219", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1FUMZxbf0cnnyojSHeGG-SpWdjga90OM4/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:46:39.200339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:46:39.200436", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:46:39.200571", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:46:39.200815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Vem que eu te explico!"}
{"timestamp": "2025-05-16T18:46:39.200911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Vem que eu te explico!</title>\n    <link hre..."}
{"timestamp": "2025-05-16T18:46:39.201139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:46:39.201221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:46:39.201321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:46:39.201400", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:46:39.201518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 77.83 seconds"}
{"timestamp": "2025-05-16T18:46:39.201599", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:46:39.201694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 26062"}
{"timestamp": "2025-05-16T18:46:39.201771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 32125 characters"}
{"timestamp": "2025-05-16T18:46:39.201845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:46:39.201975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:46:39.202125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747421199.2020776, start: 1747421121.3733406, diff type: <class 'float'>, value: 77.82873702049255"}
{"timestamp": "2025-05-16T18:46:39.202226", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 77.82873702049255"}
{"timestamp": "2025-05-16T18:46:39.202317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:46:39.202408", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:46:39.202524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:46:39.202622", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:46:39.202710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:46:39.202798", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 77.82873702049255 = 77.82873702049255"}
{"timestamp": "2025-05-16T18:46:39.202901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:46:39.202984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 77.82873702049255"}
{"timestamp": "2025-05-16T18:46:39.203095", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 77.82873702049255"}
{"timestamp": "2025-05-16T18:46:39.203170", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:46:39.203251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:46:39.205016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:46:39.205221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:46:39.246550", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:46:40.208280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:46:42.156180", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:46:42.156447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:46:42.156887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747421202.15635"}
{"timestamp": "2025-05-16T18:46:42.157065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:46:42.157201", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:46:42.157317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:46:42.190651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:46:42.192035", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:46:42.808210", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:46:43.482268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:46:43.675512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:46:44.371986", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:44.552424", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:46:45.278480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:45.466229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:46:46.161810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:46.341388", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:46:47.036078", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:47.223153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:46:47.974356", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:46:48.162308", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:46:48.896044", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:49.101779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:46:49.831457", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:50.009875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:46:50.743938", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:50.921964", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:46:51.652911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:51.832834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:46:52.607672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:52.781474", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:46:53.526031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:46:53.700246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:46:54.470097", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:46:54.477060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:46:54.477647", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:46:55.395926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:46:57.193333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:46:57.193543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:46:57.193678", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747421217.1936195"}
{"timestamp": "2025-05-16T18:46:57.193770", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:46:57.193854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:46:57.193958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:46:57.194043", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:46:57.194122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:46:57.194198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:46:57.194278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:46:57.194359", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:46:57.194460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:46:57.194542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:46:57.194619", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-6.json"}
{"timestamp": "2025-05-16T18:46:57.194694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T18:46:57.194775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Verificando o aprendizado"}
{"timestamp": "2025-05-16T18:46:57.194884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 5192"}
{"timestamp": "2025-05-16T18:46:57.194994", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:46:57.195176", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/15d1mqsd.pdf"}
{"timestamp": "2025-05-16T18:46:57.195292", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T18:46:57.195377", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T18:46:57.195480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T18:46:57.934282", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/15d1mqsd.pdf"}
{"timestamp": "2025-05-16T18:46:57.934716", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:46:57.937078", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:46:57.937255", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:46:57.937419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:46:57.937560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:46:57.937712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:46:57.938145", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:46:58.677200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747421218.6770875.pdf"}
{"timestamp": "2025-05-16T18:46:58.677423", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T18:46:58.677550", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: No content parts extracted from JSON"}
{"timestamp": "2025-05-16T18:46:58.677640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T18:46:58.841152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747421218.6770875.pdf"}
{"timestamp": "2025-05-16T18:46:58.841614", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:46:58.841828", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:46:58.842227", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:46:58.842583", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:46:58.842940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:46:58.843223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:46:58.843595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:46:58.843936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:47:44.091327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T18:47:44.091540", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T18:47:44.091694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um plano de neg\u00f3cios conciso ..."}
{"timestamp": "2025-05-16T18:47:44.091784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T18:47:44.091886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T18:47:44.092046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T18:47:44.092161", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:47:45.886672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T18:47:45.886855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T18:47:45.886955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T18:47:45.887107", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T18:47:45.887236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T18:47:49.989167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T18:47:49.989299", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1wHsp5Nqnl1z61ym4B5R-1PH074XIoflj"}
{"timestamp": "2025-05-16T18:47:49.989407", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1wHsp5Nqnl1z61ym4B5R-1PH074XIoflj/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:47:49.989543", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T18:47:49.989665", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T18:47:49.990013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T18:47:59.963104", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T18:47:59.963547", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T18:47:59.963745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T18:47:59.963902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T18:48:00.000356", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T18:48:04.444998", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T18:48:04.445193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1hfUYoUwsuwbRTu0De6HLlqNhi-SnwUAD"}
{"timestamp": "2025-05-16T18:48:04.445280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1hfUYoUwsuwbRTu0De6HLlqNhi-SnwUAD/view?usp=drivesdk"}
{"timestamp": "2025-05-16T18:48:04.445392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T18:48:04.445472", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T18:48:04.445547", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T18:48:04.445731", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Verificando o aprendizado"}
{"timestamp": "2025-05-16T18:48:04.445825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Verificando o aprendizado</title>\n    <link ..."}
{"timestamp": "2025-05-16T18:48:04.445973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T18:48:04.446070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:48:04.446212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T18:48:04.446302", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:48:04.446382", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 67.25 seconds"}
{"timestamp": "2025-05-16T18:48:04.446456", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T18:48:04.446530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 26086"}
{"timestamp": "2025-05-16T18:48:04.446625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 6336 characters"}
{"timestamp": "2025-05-16T18:48:04.446712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:48:04.446871", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T18:48:04.446987", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747421284.4469454, start: 1747421217.1936195, diff type: <class 'float'>, value: 67.25332593917847"}
{"timestamp": "2025-05-16T18:48:04.447075", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 67.25332593917847"}
{"timestamp": "2025-05-16T18:48:04.447194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T18:48:04.447278", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:48:04.447352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:48:04.447432", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T18:48:04.447526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:48:04.447602", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 67.25332593917847 = 67.25332593917847"}
{"timestamp": "2025-05-16T18:48:04.447721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T18:48:04.447799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 67.25332593917847"}
{"timestamp": "2025-05-16T18:48:04.447872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 67.25332593917847"}
{"timestamp": "2025-05-16T18:48:04.447942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T18:48:04.448017", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T18:48:04.450468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:48:04.450777", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:48:04.496057", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:48:05.345744", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:48:07.163648", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:48:07.163849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:48:07.163971", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747421287.1637743"}
{"timestamp": "2025-05-16T18:48:07.164077", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:48:07.164168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:48:07.164245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:48:07.194766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:48:07.194965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:48:08.516138", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:48:08.797801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:48:09.386385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:48:09.684989", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:10.253513", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:48:10.578999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:11.114503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:48:11.468443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:11.996649", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:48:12.345877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:12.858669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:48:13.276161", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:48:13.744877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:48:14.214967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:14.614707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:48:15.138391", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:15.478196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:48:16.060970", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:16.340783", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:48:16.994104", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:17.210185", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:48:17.935148", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:18.109894", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:48:18.869560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:48:19.040228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:48:19.809007", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:48:19.809193", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:48:19.809332", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:48:20.803686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:48:22.586592", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T18:48:22.586750", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T18:48:22.586890", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747421302.5868351"}
{"timestamp": "2025-05-16T18:48:22.586975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T18:48:22.587093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T18:48:22.587171", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:48:22.587246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T18:48:22.587317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T18:48:22.587390", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T18:48:22.587462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T18:48:22.587578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T18:48:22.587658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T18:48:22.587743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T18:48:22.587817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-16T18:48:22.587892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 2"}
{"timestamp": "2025-05-16T18:48:22.588027", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Mutismo seletivo"}
{"timestamp": "2025-05-16T18:48:22.588146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 3368"}
{"timestamp": "2025-05-16T18:48:22.588223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T18:48:22.588381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/it0o8j7u.pdf"}
{"timestamp": "2025-05-16T18:48:23.928991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/it0o8j7u.pdf"}
{"timestamp": "2025-05-16T18:48:23.929270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:48:23.934391", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:48:23.934671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T18:48:23.934815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T18:48:23.934939", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T18:48:23.935058", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T18:48:23.935175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T18:48:25.453759", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747421305.4535778.pdf"}
{"timestamp": "2025-05-16T18:48:28.595315", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747421305.4535778.pdf"}
{"timestamp": "2025-05-16T18:48:28.595691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T18:48:28.596289", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T18:48:28.596715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T18:48:28.596965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T18:48:28.597231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T18:48:28.597456", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T18:48:28.597710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T18:48:28.597931", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T18:58:03.783442", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:58:03.796042", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:58:03.874552", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:58:04.812826", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:58:06.406214", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:58:06.406469", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:58:06.406625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747421886.4063733"}
{"timestamp": "2025-05-16T18:58:06.406742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:58:06.406858", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:58:06.406973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:58:06.437336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:58:06.437573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:58:07.691100", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:58:07.883460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:58:08.554709", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:58:08.760221", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:09.423757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:58:09.653321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:10.290364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:58:10.529887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:11.160626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:58:11.460742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:12.031126", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:58:12.419269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:58:12.894276", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:58:13.349519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:13.758349", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:58:14.264623", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:14.618513", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:58:15.176796", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:15.489790", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:58:15.721988", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:16.356475", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:58:16.635813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:16.809216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:58:17.575641", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:58:17.748805", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:58:18.503352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:18.503508", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:58:18.503675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:58:19.434643", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:58:21.220067", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error setting up pipeline: wkhtmltopdf n\u00e3o encontrado no sistema"}
{"timestamp": "2025-05-16T18:58:21.220293", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: wkhtmltopdf n\u00e3o encontrado no sistema"}
{"timestamp": "2025-05-16T18:58:21.221692", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:58:21.221874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:58:21.258852", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:58:22.318675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:58:24.196752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:58:24.196937", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:58:24.197026", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747421904.1968842"}
{"timestamp": "2025-05-16T18:58:24.197109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:58:24.197183", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:58:24.197257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:58:24.227392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:58:24.227672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:58:24.763983", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:58:25.481222", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:58:25.658135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:58:26.353674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:26.532859", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:58:27.231368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:27.412199", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:58:28.115107", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:28.289777", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:58:28.995421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:29.169901", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:58:29.923929", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:58:30.100481", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:58:30.850336", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:31.030338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:58:31.767450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:31.940902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:58:32.683896", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:32.869501", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:58:33.601251", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:33.778492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:58:34.520933", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:34.696020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:58:35.448750", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:58:35.620902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:58:36.404679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:58:36.404866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:58:36.405010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:58:37.323612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:58:39.118649", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error setting up pipeline: wkhtmltopdf n\u00e3o encontrado no sistema"}
{"timestamp": "2025-05-16T18:58:39.118819", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: wkhtmltopdf n\u00e3o encontrado no sistema"}
{"timestamp": "2025-05-16T18:58:39.120887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:58:39.121212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:58:39.155518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:58:39.926311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:58:41.419853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:58:41.420049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:58:41.420142", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747421921.4199755"}
{"timestamp": "2025-05-16T18:58:41.420232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:58:41.420333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:58:41.420419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:58:41.450962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:58:41.451175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:58:41.998268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:58:42.781299", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:58:42.957698", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:58:43.657321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:41.155022", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:59:41.155575", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:59:41.220661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:59:42.179494", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:59:44.074921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T18:59:44.075085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T18:59:44.075228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747421984.0750213"}
{"timestamp": "2025-05-16T18:59:44.075320", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:59:44.075404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T18:59:44.075490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T18:59:44.109449", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T18:59:44.109815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T18:59:45.345716", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T18:59:45.586341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T18:59:46.205817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T18:59:46.459987", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:47.074489", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T18:59:47.345322", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:47.938724", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T18:59:48.217370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:48.809988", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T18:59:49.090806", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:49.682174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T18:59:50.014544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T18:59:50.544588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T18:59:50.939021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:51.406022", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:59:51.849226", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:52.283133", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T18:59:52.795267", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:53.143046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T18:59:53.703414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:54.004047", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T18:59:54.621160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:54.868915", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T18:59:55.542735", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T18:59:55.730144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T18:59:56.475740", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T18:59:56.475942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T18:59:56.476184", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T18:59:57.395273", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T18:59:59.209532", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error setting up pipeline: wkhtmltopdf n\u00e3o encontrado no sistema"}
{"timestamp": "2025-05-16T18:59:59.209697", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: wkhtmltopdf n\u00e3o encontrado no sistema"}
{"timestamp": "2025-05-16T18:59:59.210803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T18:59:59.210940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T18:59:59.244809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T18:59:59.954394", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:00:01.733529", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:00:01.733747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:00:01.733854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747422001.7336502"}
{"timestamp": "2025-05-16T19:00:01.733945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:00:01.734026", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:00:01.734109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:00:01.764079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:00:01.764342", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:03:37.202228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:03:37.203315", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:03:37.240642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:03:38.365310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:03:39.892283", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:03:39.892499", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:03:39.892597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747422219.8924236"}
{"timestamp": "2025-05-16T19:03:39.892677", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:03:39.892754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:03:39.892839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:03:39.924183", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:03:39.924378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:03:40.602102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T19:03:41.191049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T19:03:41.465553", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T19:03:42.061218", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:42.320984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T19:03:42.943833", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:43.185077", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T19:03:43.851740", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:44.052882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T19:03:44.716793", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:44.917707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T19:03:45.631765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T19:03:45.808855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T19:03:46.561397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:46.742149", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:03:47.477669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:47.676579", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T19:03:48.427229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:48.613473", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T19:03:48.934951", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:49.479479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T19:03:49.844482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:50.338852", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T19:03:50.765465", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T19:03:51.206860", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T19:03:51.684626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:03:51.685023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T19:03:51.685218", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:03:52.594425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T19:03:54.385822", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Procurando wkhtmltopdf nos seguintes caminhos:"}
{"timestamp": "2025-05-16T19:03:54.386011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  Verificando: /usr/local/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:03:54.386141", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "  \u274c Caminho n\u00e3o existe: /usr/local/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:03:54.386229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  Verificando: /usr/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:03:54.386343", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 wkhtmltopdf encontrado em: /usr/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:03:54.386439", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error setting up pipeline: 'PDFRenderer' object has no attribute '_get_template'"}
{"timestamp": "2025-05-16T19:03:54.386579", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: 'PDFRenderer' object has no attribute '_get_template'"}
{"timestamp": "2025-05-16T19:03:54.387861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:03:54.387994", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:03:54.423413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:03:55.274671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:03:56.559264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:03:56.559422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:03:56.559531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747422236.5593722"}
{"timestamp": "2025-05-16T19:03:56.559607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:03:56.559725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:03:56.559811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:03:56.590368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:03:56.590567", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:03:57.832341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T19:03:58.079818", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T19:08:09.998397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:08:09.998973", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:08:10.034235", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:08:11.082819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:08:13.172113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:08:13.172999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:08:13.173622", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747422493.1729121"}
{"timestamp": "2025-05-16T19:08:13.174106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:08:13.174448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:08:13.174717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:08:13.207837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:08:13.208881", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:08:13.758869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T19:08:14.481250", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T19:08:14.664025", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T19:08:15.367502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:15.547582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T19:08:16.243200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:16.419929", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T19:08:17.117369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:17.293073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T19:08:17.995983", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:18.173998", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T19:08:18.916161", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T19:08:19.091280", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T19:08:19.845944", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:20.038469", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:08:20.770027", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:20.942578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T19:08:21.691165", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:21.874362", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T19:08:22.629021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:22.823130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T19:08:23.578742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:23.794654", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T19:08:24.520631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T19:08:24.701205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T19:08:25.447727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:08:25.447900", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T19:08:25.448084", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:08:26.360757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T19:08:28.155815", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Procurando wkhtmltopdf nos seguintes caminhos:"}
{"timestamp": "2025-05-16T19:08:28.156023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  Verificando: /usr/local/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:08:28.156248", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "  \u274c Caminho n\u00e3o existe: /usr/local/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:08:28.156391", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  Verificando: /usr/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:08:28.156515", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 wkhtmltopdf encontrado em: /usr/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:08:28.156648", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Error setting up pipeline: 'PDFRenderer' object has no attribute '_get_template'"}
{"timestamp": "2025-05-16T19:08:28.156800", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Error processing file: 'PDFRenderer' object has no attribute '_get_template'"}
{"timestamp": "2025-05-16T19:08:28.158141", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:08:28.158350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:08:28.193779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:08:29.244882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:08:30.951124", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:08:30.951294", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:08:30.951612", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747422510.9512446"}
{"timestamp": "2025-05-16T19:08:30.951704", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:08:30.951793", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:08:30.951907", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:08:30.981787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:08:30.982013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:13:59.807895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:13:59.808168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:13:59.844130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:14:00.885364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:14:02.894958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:14:02.895317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:14:02.895525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747422842.8951771"}
{"timestamp": "2025-05-16T19:14:02.895671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:14:02.895783", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:14:02.895883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_engenharia_00221/03570\n\ud83d\udd04 Process Type: contextualization_to_engenharia_00221\n"}
{"timestamp": "2025-05-16T19:14:02.928402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:14:02.929069", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:14:03.464009", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T19:14:04.185195", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T19:14:04.370134", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T19:14:05.070995", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:05.249154", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T19:14:05.945644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:06.126192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T19:14:06.827999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:07.000142", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T19:14:07.706747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:07.897067", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T19:14:08.641334", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T19:14:08.818969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T19:14:09.564131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:09.760396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:14:09.996004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:10.624172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T19:14:10.909578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:11.497235", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T19:14:11.823878", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:12.361143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T19:14:12.740655", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:13.059828", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T19:14:13.316369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T19:14:13.925519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T19:14:14.241885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:14:14.242090", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T19:14:14.242246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T19:14:14.783597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso"}
{"timestamp": "2025-05-16T19:14:15.840214", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Procurando wkhtmltopdf nos seguintes caminhos:"}
{"timestamp": "2025-05-16T19:14:15.840443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  Verificando: /usr/local/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:14:15.840585", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "  \u274c Caminho n\u00e3o existe: /usr/local/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:14:15.840683", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  Verificando: /usr/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:14:15.840780", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 wkhtmltopdf encontrado em: /usr/bin/wkhtmltopdf"}
{"timestamp": "2025-05-16T19:14:15.846312", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T19:14:15.846417", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_engenharia_00221"}
{"timestamp": "2025-05-16T19:14:15.846573", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747422855.8465164"}
{"timestamp": "2025-05-16T19:14:15.846674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T19:14:15.846765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T19:14:15.846853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:14:15.846940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T19:14:15.847065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T19:14:15.847160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T19:14:15.847256", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T19:14:15.847353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Engenharia"}
{"timestamp": "2025-05-16T19:14:15.847447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T19:14:15.847588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T19:14:15.847707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-16T19:14:15.847804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T19:14:15.847877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-16T19:14:15.906530", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8885"}
{"timestamp": "2025-05-16T19:14:15.906868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T19:14:15.907439", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/qwhbwmtt.pdf"}
{"timestamp": "2025-05-16T19:14:15.907690", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T19:14:15.908547", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Template rendering error: Can't compile non template nodes"}
{"timestamp": "2025-05-16T19:14:15.908767", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: Can't compile non template nodes"}
{"timestamp": "2025-05-16T19:14:15.908970", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: Can't compile non template nodes"}
{"timestamp": "2025-05-16T19:14:15.909097", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T19:14:16.098330", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/qwhbwmtt.pdf"}
{"timestamp": "2025-05-16T19:14:16.099056", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:14:16.371234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:14:16.371397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T19:14:16.371518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T19:14:16.371610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:14:16.371689", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T19:14:16.371866", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T19:14:17.190538", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747422857.190437.pdf"}
{"timestamp": "2025-05-16T19:14:17.190728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T19:14:17.191070", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "Template rendering error: Can't compile non template nodes"}
{"timestamp": "2025-05-16T19:14:17.191206", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "PDF rendering failed: Can't compile non template nodes"}
{"timestamp": "2025-05-16T19:14:17.191346", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c Failed to save PDF: Can't compile non template nodes"}
{"timestamp": "2025-05-16T19:14:17.191441", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Attempting to create a fallback PDF..."}
{"timestamp": "2025-05-16T19:14:17.336903", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Fallback PDF saved to: app/arquivosTemporarios/output_1747422857.190437.pdf"}
{"timestamp": "2025-05-16T19:14:17.337884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:14:17.338409", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T19:14:17.338947", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:14:17.339417", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T19:14:17.340060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T19:14:17.340558", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T19:14:17.341048", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:14:17.341564", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T19:16:32.988621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:16:32.988892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:16:33.025484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:16:33.933120", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:16:35.556396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:16:35.556597", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:16:35.556694", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747422995.5565298"}
{"timestamp": "2025-05-16T19:16:35.556776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:16:35.556872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:16:35.556960", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:16:35.586948", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:16:35.587263", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:16:36.145655", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T19:16:36.484985", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T19:16:36.815831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T19:16:37.017635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:37.689623", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T19:16:37.892926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:38.089908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T19:16:38.772345", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:38.968824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T19:16:39.293261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:39.635034", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T19:16:40.273303", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T19:16:40.598919", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T19:16:41.349825", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:41.535782", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:16:42.067817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:42.554189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T19:16:42.983309", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:43.414867", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T19:16:43.889838", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:44.289503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T19:16:44.808406", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:45.124039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T19:16:45.363738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T19:16:45.987557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T19:16:46.288941", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:16:46.289135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T19:16:46.289301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:16:47.215021", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T19:16:48.636672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T19:16:48.636899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T19:16:48.637032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747423008.6369743"}
{"timestamp": "2025-05-16T19:16:48.637163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T19:16:48.637264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T19:16:48.637361", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:16:48.637437", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T19:16:48.637521", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T19:16:48.637600", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T19:16:48.637710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T19:16:48.637788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T19:16:48.637862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T19:16:48.637943", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T19:16:48.638013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-16T19:16:48.638086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T19:16:48.638211", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-16T19:16:48.694301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8885"}
{"timestamp": "2025-05-16T19:16:48.694489", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T19:16:48.694805", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/3he1nfc5.pdf"}
{"timestamp": "2025-05-16T19:16:48.694932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T19:16:48.695365", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T19:16:51.160990", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/3he1nfc5.pdf"}
{"timestamp": "2025-05-16T19:16:51.161175", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:16:51.426096", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:16:51.426222", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T19:16:51.426294", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T19:16:51.426404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:16:51.426481", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T19:16:51.426558", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T19:16:52.256476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747423012.2563627.pdf"}
{"timestamp": "2025-05-16T19:16:52.256685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T19:16:52.256902", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T19:16:54.691688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747423012.2563627.pdf"}
{"timestamp": "2025-05-16T19:16:54.692034", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:16:54.692380", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T19:16:54.692733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:16:54.692984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T19:16:54.693261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T19:16:54.693501", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T19:16:54.693753", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:16:54.693986", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T19:17:10.137828", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T19:17:10.138012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T19:17:10.138146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa Adaptadas para Gest\u00e3o\n\n### Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o: Esse..."}
{"timestamp": "2025-05-16T19:17:10.138311", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T19:17:10.138414", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T19:17:10.138523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T19:17:10.138629", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:17:11.742200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T19:17:11.742362", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T19:17:11.742448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-16T19:17:11.742795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T19:17:11.742899", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T19:17:15.501339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T19:17:15.501513", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1d2Q4WR2Ov9U7SkH7Y3XxLXVJg1Ha32Q4"}
{"timestamp": "2025-05-16T19:17:15.501610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1d2Q4WR2Ov9U7SkH7Y3XxLXVJg1Ha32Q4/view?usp=drivesdk"}
{"timestamp": "2025-05-16T19:17:15.501744", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T19:17:15.501855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T19:17:15.502486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T19:17:49.776309", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T19:17:49.776535", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T19:18:08.591209", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 12337"}
{"timestamp": "2025-05-16T19:18:08.599228", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 489 column 14 (char 26987)"}
{"timestamp": "2025-05-16T19:18:08.601184", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 26986"}
{"timestamp": "2025-05-16T19:18:08.601468", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 482 column 6 (char 26818)"}
{"timestamp": "2025-05-16T19:18:08.601552", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T19:18:08.601774", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T19:18:08.601988", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 482 column 6 (char 26818)"}
{"timestamp": "2025-05-16T19:18:08.606095", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T19:18:08.606361", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 482 column 6 (char 26818)"}
{"timestamp": "2025-05-16T19:18:08.610255", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T19:18:08.610544", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Expecting ',' delimiter: line 482 column 6 (char 26818)"}
{"timestamp": "2025-05-16T19:18:08.610636", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 1)"}
{"timestamp": "2025-05-16T19:18:42.493001", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T19:18:42.493244", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T19:18:54.324984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 8707"}
{"timestamp": "2025-05-16T19:18:54.334380", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 579 column 187 (char 24328)"}
{"timestamp": "2025-05-16T19:18:54.336482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 24326"}
{"timestamp": "2025-05-16T19:18:54.336874", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 572 column 6 (char 23986)"}
{"timestamp": "2025-05-16T19:18:54.337027", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-16T19:18:54.337323", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-16T19:18:54.337657", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 572 column 6 (char 23986)"}
{"timestamp": "2025-05-16T19:18:54.342248", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T19:18:54.342522", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 572 column 6 (char 23986)"}
{"timestamp": "2025-05-16T19:18:54.346530", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-16T19:18:54.346809", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: JSON validation failed - Expecting ',' delimiter: line 572 column 6 (char 23986)"}
{"timestamp": "2025-05-16T19:18:54.346898", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2)"}
{"timestamp": "2025-05-16T19:19:28.776246", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-16T19:19:28.776476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-16T19:19:47.348771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 13042"}
{"timestamp": "2025-05-16T19:19:47.358480", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 537 column 217 (char 25645)"}
{"timestamp": "2025-05-16T19:19:47.360757", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Alternative merge successful"}
{"timestamp": "2025-05-16T19:19:47.360940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 38449"}
{"timestamp": "2025-05-16T19:19:47.361389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T19:19:47.362058", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 3"}
{"timestamp": "2025-05-16T19:19:47.362519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T19:19:47.411027", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T19:19:51.526495", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T19:19:51.526626", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 198jEWbuxAk3BXFZAT_eYI1mTwcSePWNa"}
{"timestamp": "2025-05-16T19:19:51.526712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/198jEWbuxAk3BXFZAT_eYI1mTwcSePWNa/view?usp=drivesdk"}
{"timestamp": "2025-05-16T19:19:51.526845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T19:19:51.526958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T19:19:51.527039", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T19:19:51.527507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-16T19:19:51.527652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: No title"}
{"timestamp": "2025-05-16T19:19:51.527738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Documento</title>\n    <link href=\"https://fo..."}
{"timestamp": "2025-05-16T19:19:51.527936", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T19:19:51.528057", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T19:19:51.528144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T19:19:51.528232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:19:51.528337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 182.83 seconds"}
{"timestamp": "2025-05-16T19:19:51.528455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T19:19:51.528539", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25550"}
{"timestamp": "2025-05-16T19:19:51.528614", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 10143 characters"}
{"timestamp": "2025-05-16T19:19:51.528683", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:19:51.528962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T19:19:51.529073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747423191.52903, start: 1747423008.6369743, diff type: <class 'float'>, value: 182.8920557498932"}
{"timestamp": "2025-05-16T19:19:51.529164", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 182.8920557498932"}
{"timestamp": "2025-05-16T19:19:51.529244", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T19:19:51.529317", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:19:51.529415", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T19:19:51.529514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T19:19:51.529589", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:19:51.529663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 182.8920557498932 = 182.8920557498932"}
{"timestamp": "2025-05-16T19:19:51.529738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T19:19:51.529810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 182.8920557498932"}
{"timestamp": "2025-05-16T19:19:51.529885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 182.8920557498932"}
{"timestamp": "2025-05-16T19:19:51.529992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T19:19:51.530070", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T19:19:51.531849", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:19:51.532018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:19:51.566537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:19:52.733182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:19:54.582148", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:19:54.582420", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:19:54.582571", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747423194.5823264"}
{"timestamp": "2025-05-16T19:19:54.582691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:19:54.582778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:19:54.582868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:19:54.613007", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:19:54.613310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:19:55.282197", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T19:19:55.684219", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T19:19:55.862125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T19:19:56.051366", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T19:19:56.738398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T19:19:56.922037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:19:57.102523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T19:19:57.449212", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:19:57.785116", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T19:19:58.334934", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:19:58.650743", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T19:19:59.259445", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T19:19:59.519918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T19:20:00.222886", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:20:00.423687", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:20:01.206547", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:20:01.404813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T19:20:01.642575", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T19:20:02.278633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T19:20:02.560335", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:20:02.763403", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T19:20:03.115348", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:20:03.432109", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T19:20:03.697496", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T19:20:03.871578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T19:20:04.642786", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:20:04.642953", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T19:20:04.643113", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:20:05.065676", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T19:20:06.133559", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T19:20:06.133727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T19:20:06.133836", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747423206.133792"}
{"timestamp": "2025-05-16T19:20:06.133916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T19:20:06.134034", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T19:20:06.134115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:20:06.134190", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T19:20:06.134260", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T19:20:06.134333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T19:20:06.134405", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T19:20:06.134521", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T19:20:06.134604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T19:20:06.134681", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T19:20:06.134749", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-2.json"}
{"timestamp": "2025-05-16T19:20:06.134822", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T19:20:06.134895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de ansiedade de separa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T19:20:06.135030", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8042"}
{"timestamp": "2025-05-16T19:20:06.135116", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T19:20:06.135304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/z0tro34w.pdf"}
{"timestamp": "2025-05-16T19:20:08.626855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/z0tro34w.pdf"}
{"timestamp": "2025-05-16T19:20:08.627408", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:20:08.628896", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:20:08.629539", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T19:20:08.630231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T19:20:08.630704", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:20:08.631169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T19:20:08.631789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T19:20:09.317509", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747423209.3174114.pdf"}
{"timestamp": "2025-05-16T19:20:11.764319", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747423209.3174114.pdf"}
{"timestamp": "2025-05-16T19:20:11.764561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:20:11.764675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T19:20:11.764963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:20:11.765059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T19:20:11.765147", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T19:20:11.765290", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T19:20:11.765456", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:20:11.765545", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T19:20:26.773795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T19:20:26.773987", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T19:20:26.774092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00c9CNICAS DE PESQUISA\n\n### Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o: Essencial para apresentar ..."}
{"timestamp": "2025-05-16T19:20:26.774216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T19:20:26.774333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T19:20:26.774423", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T19:20:26.774501", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:20:28.308258", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T19:20:28.308464", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T19:20:28.308559", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T19:20:28.308685", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T19:20:28.308789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T19:20:32.435016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T19:20:32.435162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 11v6lfssqownbKz_ov9fLRClTeP8ZATxI"}
{"timestamp": "2025-05-16T19:20:32.435291", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/11v6lfssqownbKz_ov9fLRClTeP8ZATxI/view?usp=drivesdk"}
{"timestamp": "2025-05-16T19:20:32.435413", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T19:20:32.435491", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T19:20:32.435956", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T19:20:58.031878", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T19:20:58.032325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T19:20:58.032695", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T19:20:58.032932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T19:20:58.068358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T19:21:01.860955", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T19:21:01.861120", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1Z08iDlKLh8yUvGc6IRTv2dQDIgPpu-2_"}
{"timestamp": "2025-05-16T19:21:01.861276", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1Z08iDlKLh8yUvGc6IRTv2dQDIgPpu-2_/view?usp=drivesdk"}
{"timestamp": "2025-05-16T19:21:01.861443", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T19:21:01.861551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T19:21:01.861656", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T19:21:01.862037", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: Transtorno de ansiedade de separa\u00e7\u00e3o"}
{"timestamp": "2025-05-16T19:21:01.862158", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Transtorno de ansiedade de separa\u00e7\u00e3o</title>..."}
{"timestamp": "2025-05-16T19:21:01.862338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T19:21:01.862467", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T19:21:01.862561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T19:21:01.862662", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:21:01.862800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 55.73 seconds"}
{"timestamp": "2025-05-16T19:21:01.862921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T19:21:01.863023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25689"}
{"timestamp": "2025-05-16T19:21:01.863122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 17472 characters"}
{"timestamp": "2025-05-16T19:21:01.863220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:21:01.863531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T19:21:01.863702", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747423261.863634, start: 1747423206.133792, diff type: <class 'float'>, value: 55.72984218597412"}
{"timestamp": "2025-05-16T19:21:01.863868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 55.72984218597412"}
{"timestamp": "2025-05-16T19:21:01.863983", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T19:21:01.864174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:21:01.864322", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T19:21:01.864438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T19:21:01.864540", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:21:01.864644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 55.72984218597412 = 55.72984218597412"}
{"timestamp": "2025-05-16T19:21:01.864751", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T19:21:01.864897", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 55.72984218597412"}
{"timestamp": "2025-05-16T19:21:01.865000", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 55.72984218597412"}
{"timestamp": "2025-05-16T19:21:01.865099", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T19:21:01.865204", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T19:21:01.867533", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:21:01.867749", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:21:01.902717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:21:02.816521", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:21:04.541433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:21:04.541613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:21:04.541776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747423264.541543"}
{"timestamp": "2025-05-16T19:21:04.541885", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:21:04.541982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:21:04.542086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:21:04.574856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:21:04.575036", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:21:05.132794", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T19:21:05.388358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T19:21:06.047019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T19:21:06.264294", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:06.913754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T19:21:07.189224", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:07.789537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T19:21:08.062182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:08.662261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T19:21:08.933418", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:09.539854", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T19:21:09.856367", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T19:21:10.410504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T19:21:10.771486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:11.276856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:21:11.690334", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:12.137711", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T19:21:12.605778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:13.011101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T19:21:13.522752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:13.844258", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T19:21:14.076799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:14.707128", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T19:21:14.996073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T19:21:15.584533", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T19:21:15.924679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:21:15.924908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T19:21:15.925090", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:21:16.851323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T19:21:18.634308", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T19:21:18.634627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T19:21:18.634813", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747423278.6347344"}
{"timestamp": "2025-05-16T19:21:18.635015", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T19:21:18.635155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T19:21:18.635290", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:21:18.635455", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T19:21:18.635621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T19:21:18.635753", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T19:21:18.635911", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T19:21:18.636125", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T19:21:18.636261", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T19:21:18.636411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T19:21:18.636576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-3.json"}
{"timestamp": "2025-05-16T19:21:18.636712", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T19:21:18.636845", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Transtorno de p\u00e2nico"}
{"timestamp": "2025-05-16T19:21:18.637054", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 4847"}
{"timestamp": "2025-05-16T19:21:18.637236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T19:21:18.637544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/sdlizmrc.pdf"}
{"timestamp": "2025-05-16T19:21:20.505323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/sdlizmrc.pdf"}
{"timestamp": "2025-05-16T19:21:20.505779", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:21:20.510045", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:21:20.510880", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T19:21:20.511013", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T19:21:20.511160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:21:20.511926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T19:21:20.512244", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T19:21:21.234140", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747423281.234024.pdf"}
{"timestamp": "2025-05-16T19:21:23.140824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747423281.234024.pdf"}
{"timestamp": "2025-05-16T19:21:23.141238", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:21:23.141595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T19:21:23.142002", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:21:23.142659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T19:21:23.143146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T19:21:23.143458", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T19:21:23.143842", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:21:23.144259", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T19:21:54.838627", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T19:21:54.838848", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T19:21:54.838987", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um p..."}
{"timestamp": "2025-05-16T19:21:54.839131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T19:21:54.839253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T19:21:54.839396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T19:21:54.839524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:21:56.570979", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T19:21:56.571194", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T19:21:56.571371", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T19:21:56.571512", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-16T19:21:56.571663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T19:22:00.337378", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T19:22:00.337599", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1N7HWdifT81TlGFa-VfVQNe2ti9XcO19b"}
{"timestamp": "2025-05-16T19:22:00.337754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1N7HWdifT81TlGFa-VfVQNe2ti9XcO19b/view?usp=drivesdk"}
{"timestamp": "2025-05-16T19:22:00.337952", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T19:22:00.338131", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T19:22:00.338632", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T19:22:22.840837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-16T19:22:22.841243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-16T19:22:22.841526", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 1"}
{"timestamp": "2025-05-16T19:22:22.841782", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '03570'"}
{"timestamp": "2025-05-16T19:22:22.877091", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-16T19:22:26.814858", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-16T19:22:26.815011", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1qGnsH8JFX8TzE9OSjOkK0s4l7PYEpGx0"}
{"timestamp": "2025-05-16T19:22:26.815101", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1qGnsH8JFX8TzE9OSjOkK0s4l7PYEpGx0/view?usp=drivesdk"}
{"timestamp": "2025-05-16T19:22:26.815235", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-16T19:22:26.815318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-16T19:22:26.815433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-16T19:22:26.815651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: T\u00e9cnicas de Pesquisa"}
{"timestamp": "2025-05-16T19:22:26.815733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>T\u00e9cnicas de Pesquisa</title>\n    <link href=..."}
{"timestamp": "2025-05-16T19:22:26.815860", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-16T19:22:26.815972", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T19:22:26.816092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-16T19:22:26.816162", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:22:26.816232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 68.18 seconds"}
{"timestamp": "2025-05-16T19:22:26.816304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-16T19:22:26.816407", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 25707"}
{"timestamp": "2025-05-16T19:22:26.816487", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 20583 characters"}
{"timestamp": "2025-05-16T19:22:26.816556", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:22:26.816721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-16T19:22:26.816821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747423346.8167784, start: 1747423278.6347344, diff type: <class 'float'>, value: 68.18204402923584"}
{"timestamp": "2025-05-16T19:22:26.816945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 68.18204402923584"}
{"timestamp": "2025-05-16T19:22:26.817030", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-16T19:22:26.817111", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:22:26.817186", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T19:22:26.817262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-16T19:22:26.817335", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:22:26.817438", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 68.18204402923584 = 68.18204402923584"}
{"timestamp": "2025-05-16T19:22:26.817519", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-16T19:22:26.817594", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 68.18204402923584"}
{"timestamp": "2025-05-16T19:22:26.817673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 68.18204402923584"}
{"timestamp": "2025-05-16T19:22:26.817745", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-16T19:22:26.817821", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-16T19:22:26.819392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T19:22:26.819564", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T19:22:26.865147", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T19:22:27.797217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:22:29.334006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:22:29.334198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T19:22:29.334323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747423349.334117"}
{"timestamp": "2025-05-16T19:22:29.334418", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:22:29.334497", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T19:22:29.334581", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T19:22:29.364242", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T19:22:29.364435", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T19:22:29.964588", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T19:22:30.685527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T19:22:30.863703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T19:22:31.559859", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:31.745202", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T19:22:32.441957", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:32.621818", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T19:22:33.322928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:33.502119", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T19:22:34.203402", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:34.387576", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T19:22:35.134356", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T19:22:35.310678", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T19:22:36.059638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:36.236814", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:22:36.972876", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:37.151644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T19:22:37.895693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:38.073909", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T19:22:38.807061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:38.984652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T19:22:39.774598", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:39.948658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T19:22:40.770166", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T19:22:40.961542", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T19:22:41.743066", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T19:22:41.743290", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T19:22:41.743456", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T19:22:42.684153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T19:22:44.490766", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T19:22:44.490956", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T19:22:44.491081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747423364.4910269"}
{"timestamp": "2025-05-16T19:22:44.491203", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T19:22:44.491292", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T19:22:44.491363", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T19:22:44.491432", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T19:22:44.491503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T19:22:44.491577", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T19:22:44.491691", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T19:22:44.491777", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T19:22:44.491864", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T19:22:44.491965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T19:22:44.492071", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-4.json"}
{"timestamp": "2025-05-16T19:22:44.492172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T19:22:44.492263", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Agorafobia"}
{"timestamp": "2025-05-16T19:22:44.492370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 11920"}
{"timestamp": "2025-05-16T19:22:44.492458", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T19:22:44.492715", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/cd12etto.pdf"}
{"timestamp": "2025-05-16T19:22:44.492847", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 5 carousel items"}
{"timestamp": "2025-05-16T19:22:44.492954", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 5 items"}
{"timestamp": "2025-05-16T19:22:45.937925", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/cd12etto.pdf"}
{"timestamp": "2025-05-16T19:22:45.938831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:22:45.944740", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:22:45.945196", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T19:22:45.945553", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T19:22:45.945858", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T19:22:45.946139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T19:22:45.946435", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T19:22:46.621028", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747423366.6208918.pdf"}
{"timestamp": "2025-05-16T19:22:46.621207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 5 carousel items"}
{"timestamp": "2025-05-16T19:22:46.621324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 5 items"}
{"timestamp": "2025-05-16T19:22:48.056819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747423366.6208918.pdf"}
{"timestamp": "2025-05-16T19:22:48.057591", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T19:22:48.058114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T19:22:48.058678", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T19:22:48.059170", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T19:22:48.059837", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T19:22:48.060310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T19:22:48.060801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:22:48.061292", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T19:23:10.039878", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T19:23:10.040111", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T19:23:10.040220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um p..."}
{"timestamp": "2025-05-16T19:23:10.040327", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T19:23:10.040422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T19:23:10.040557", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T19:23:10.040659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T19:23:11.529713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T19:23:11.530640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T19:23:11.531152", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 9\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T19:23:11.531962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T19:23:11.532494", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T19:23:15.332824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T19:23:15.332991", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1oXvsxXw9FxnFVbytmPbHTCab5UJc6KSL"}
{"timestamp": "2025-05-16T19:23:15.333505", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1oXvsxXw9FxnFVbytmPbHTCab5UJc6KSL/view?usp=drivesdk"}
{"timestamp": "2025-05-16T19:23:15.333658", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T19:23:15.333742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T19:23:15.334672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-16T22:08:58.391958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T22:08:58.392888", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T22:08:58.434174", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T22:08:59.468686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T22:09:01.449571", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T22:09:01.449806", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T22:09:01.449915", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747433341.449741"}
{"timestamp": "2025-05-16T22:09:01.449998", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T22:09:01.450094", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T22:09:01.450223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T22:09:01.480962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T22:09:01.481146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T22:09:02.010889", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T22:09:02.779959", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T22:09:02.966482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T22:09:03.727867", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T22:09:03.921158", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T22:09:04.652144", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T22:09:04.828234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T22:09:05.577422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T22:09:05.767189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T22:09:06.468537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T22:09:06.646878", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T22:09:07.447640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T22:09:07.620644", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T22:09:08.376354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T22:09:08.554127", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T22:09:09.353748", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T22:09:09.533984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T22:09:10.280986", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:45.148476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: Gest\u00e3o and context_type: contextualizacao"}
{"timestamp": "2025-05-16T22:41:45.148693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-16T22:41:45.185071", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-16T22:41:46.243959", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T22:41:48.273775", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T22:41:48.273943", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-16T22:41:48.274092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747435308.2738864"}
{"timestamp": "2025-05-16T22:41:48.274192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T22:41:48.274267", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-16T22:41:48.274349", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 03570\n\ud83d\udcc1 Target: target/contextualization_to_gestao_00962/03570\n\ud83d\udd04 Process Type: contextualization_to_gestao_00962\n"}
{"timestamp": "2025-05-16T22:41:48.304462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-16T22:41:48.304793", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-16T22:41:48.847404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-16T22:41:49.583231", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-16T22:41:49.756160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-16T22:41:50.467350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:50.646642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-16T22:41:51.367718", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:51.540514", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-16T22:41:52.441662", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:52.620619", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-16T22:41:53.334895", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:53.507215", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-16T22:41:54.395411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-16T22:41:54.568763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-16T22:41:55.321616", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:55.494068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T22:41:56.251163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:56.433118", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-16T22:41:57.183967", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:57.360669", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-16T22:41:58.212381", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:58.386969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-16T22:41:59.149972", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-16T22:41:59.328976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-16T22:42:00.088422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-16T22:42:00.280082", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-16T22:42:01.034217", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-16T22:42:01.034440", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-16T22:42:01.034599", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-16T22:42:01.963918", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_gestao_00962' carregado com sucesso"}
{"timestamp": "2025-05-16T22:42:03.821935", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-16T22:42:03.822089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_gestao_00962"}
{"timestamp": "2025-05-16T22:42:03.822195", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747435323.8221486"}
{"timestamp": "2025-05-16T22:42:03.822277", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-16T22:42:03.822354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-16T22:42:03.822504", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1hWF-4RoZkrdZLnJkuevqos3BtwHsieOF"}
{"timestamp": "2025-05-16T22:42:03.822610", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-16T22:42:03.822702", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-16T22:42:03.822793", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) 824b0dc6-7adc-472b-9944-515507ea7e3b"}
{"timestamp": "2025-05-16T22:42:03.822908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) Transtornos de ansiedade e transtornos de sintomas som\u00e1ticos"}
{"timestamp": "2025-05-16T22:42:03.823033", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) Gest\u00e3o"}
{"timestamp": "2025-05-16T22:42:03.823114", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 03570"}
{"timestamp": "2025-05-16T22:42:03.823188", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-16T22:42:03.823259", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-16T22:42:03.823334", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-16T22:42:03.823429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) O que s\u00e3o transtornos de ansiedade?"}
{"timestamp": "2025-05-16T22:42:03.876868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 8885"}
{"timestamp": "2025-05-16T22:42:03.877089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-16T22:42:03.877366", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/_5aok9i4.pdf"}
{"timestamp": "2025-05-16T22:42:03.877490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T22:42:03.877736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T22:42:06.335085", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/_5aok9i4.pdf"}
{"timestamp": "2025-05-16T22:42:06.335243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T22:42:06.585201", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T22:42:06.585321", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-16T22:42:06.585398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-16T22:42:06.585474", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-16T22:42:06.585549", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-16T22:42:06.585652", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-16T22:42:07.434223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747435327.4340894.pdf"}
{"timestamp": "2025-05-16T22:42:07.434404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 2 carousel items"}
{"timestamp": "2025-05-16T22:42:07.434572", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 2 items"}
{"timestamp": "2025-05-16T22:42:09.836083", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747435327.4340894.pdf"}
{"timestamp": "2025-05-16T22:42:09.836267", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-16T22:42:09.836389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-16T22:42:09.836585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-16T22:42:09.836686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-16T22:42:09.837198", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-16T22:42:09.837561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-16T22:42:09.837855", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T22:42:09.838173", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-16T22:42:35.039651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-16T22:42:35.039883", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-16T22:42:35.039972", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "## T\u00e9cnicas de Pesquisa\n\nEncontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar um p..."}
{"timestamp": "2025-05-16T22:42:35.040100", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-16T22:42:35.040197", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-16T22:42:35.040304", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-16T22:42:35.040385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-16T22:42:36.642354", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-16T22:42:36.642570", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-16T22:42:36.642683", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 9\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-16T22:42:36.643012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-16T22:42:36.643142", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '03570'"}
{"timestamp": "2025-05-16T22:42:40.436560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-16T22:42:40.436738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1R4WYW17WOjWND4mHMZnSOO2VueW6aRL0"}
{"timestamp": "2025-05-16T22:42:40.436848", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1R4WYW17WOjWND4mHMZnSOO2VueW6aRL0/view?usp=drivesdk"}
{"timestamp": "2025-05-16T22:42:40.436993", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-16T22:42:40.437110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-16T22:42:40.437782", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-19T17:50:07.908151", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-19T17:50:07.909073", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-19T17:50:07.961874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-19T17:50:11.677848", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:50:13.776746", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:50:13.776969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-19T17:50:13.777093", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747677013.7768955"}
{"timestamp": "2025-05-19T17:50:13.777182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:50:13.777263", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:50:13.777379", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00520\n\ud83d\udcc1 Target: target/contextualization_to_TI/00520\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-19T17:50:13.808051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-19T17:50:13.808228", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-19T17:50:14.497287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-19T17:50:15.079450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-19T17:50:15.358574", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-19T17:50:15.946156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:16.223875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-19T17:50:16.405672", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:16.592330", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-19T17:50:17.281564", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:17.473795", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-19T17:50:18.217637", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:18.385232", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T17:50:19.140649", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-19T17:50:19.319223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-19T17:50:20.064651", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:20.245942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-19T17:50:20.628359", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:20.931507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-19T17:50:21.563124", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:21.800981", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-19T17:50:22.484225", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:22.686396", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-19T17:50:23.411272", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:23.593521", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-19T17:50:24.331240", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-19T17:50:24.514679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-19T17:50:24.758613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-19T17:50:24.758824", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-19T17:50:24.758972", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T17:50:25.700328", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_TI' carregado com sucesso"}
{"timestamp": "2025-05-19T17:50:27.515921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-19T17:50:27.516083", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_TI"}
{"timestamp": "2025-05-19T17:50:27.516187", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747677027.5161402"}
{"timestamp": "2025-05-19T17:50:27.516269", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-19T17:50:27.516350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-19T17:50:27.516427", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:50:27.516568", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-19T17:50:27.516678", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-19T17:50:27.516778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) c97568a7-71b3-4307-8468-b931a56c4c65"}
{"timestamp": "2025-05-19T17:50:27.516873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) An\u00e1lise de dados quantitativos"}
{"timestamp": "2025-05-19T17:50:27.516992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) TI"}
{"timestamp": "2025-05-19T17:50:27.517091", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00520"}
{"timestamp": "2025-05-19T17:50:27.517169", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-19T17:50:27.517246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-19T17:50:27.517326", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-19T17:50:27.517401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) An\u00e1lise explorat\u00f3ria de dados"}
{"timestamp": "2025-05-19T17:50:27.571532", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 6662"}
{"timestamp": "2025-05-19T17:50:27.571868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-19T17:50:27.572308", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/rn9_rnki.pdf"}
{"timestamp": "2025-05-19T17:50:29.785048", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/rn9_rnki.pdf"}
{"timestamp": "2025-05-19T17:50:29.785518", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T17:50:29.787433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T17:50:29.787580", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T17:50:29.787681", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-19T17:50:29.787804", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T17:50:29.787891", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-19T17:50:29.787976", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-19T17:50:31.217738", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747677031.2176058.pdf"}
{"timestamp": "2025-05-19T17:50:33.313524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747677031.2176058.pdf"}
{"timestamp": "2025-05-19T17:50:33.313684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T17:50:33.313771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-19T17:50:33.313984", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T17:50:33.314078", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-19T17:50:33.314163", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-19T17:50:33.314246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-19T17:50:33.314328", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T17:50:33.314408", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-19T17:51:07.978515", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-19T17:51:07.978862", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-19T17:51:07.979079", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Profissionais que sofrem desse mal tamb\u00e9m negam a realidade, como a obsolesc\u00eancia de uma tecnologia que dominam ou a necessidade de adotar novas pr\u00e1ticas de seguran\u00e7a, e adotam a postura de rejeitar o..."}
{"timestamp": "2025-05-19T17:51:07.979252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-19T17:51:07.979437", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-19T17:51:07.979578", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-19T17:51:07.979681", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T17:51:09.713364", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-19T17:51:09.713585", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-19T17:51:09.713908", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [9]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-19T17:51:09.714318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-19T17:51:09.714478", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00520'"}
{"timestamp": "2025-05-19T17:51:13.720633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-19T17:51:13.720809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1wmS459z9I538II9sIjZyhCoMU13KsiAb"}
{"timestamp": "2025-05-19T17:51:13.720907", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1wmS459z9I538II9sIjZyhCoMU13KsiAb/view?usp=drivesdk"}
{"timestamp": "2025-05-19T17:51:13.721032", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-19T17:51:13.721116", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-19T17:51:13.721659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-19T17:51:48.177509", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T17:51:48.177693", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T17:52:00.923333", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 10411"}
{"timestamp": "2025-05-19T17:52:00.931836", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 252 column 377 (char 34114)"}
{"timestamp": "2025-05-19T17:52:00.934641", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 34113"}
{"timestamp": "2025-05-19T17:52:00.934948", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 245 column 6 (char 33582)"}
{"timestamp": "2025-05-19T17:52:00.935162", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 245 column 6 (char 33582)"}
{"timestamp": "2025-05-19T17:52:00.938998", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:52:00.939268", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 245 column 6 (char 33582)"}
{"timestamp": "2025-05-19T17:52:00.942961", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:52:00.943296", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Expecting ',' delimiter: line 245 column 6 (char 33582)"}
{"timestamp": "2025-05-19T17:52:00.943442", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 1)"}
{"timestamp": "2025-05-19T17:52:35.975775", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T17:52:35.976252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T17:52:43.760844", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 5311"}
{"timestamp": "2025-05-19T17:52:43.768737", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 252 column 199 (char 33999)"}
{"timestamp": "2025-05-19T17:52:43.771297", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 33998"}
{"timestamp": "2025-05-19T17:52:43.771573", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 245 column 6 (char 33645)"}
{"timestamp": "2025-05-19T17:52:43.771798", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 245 column 6 (char 33645)"}
{"timestamp": "2025-05-19T17:52:43.775203", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:52:43.775435", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 245 column 6 (char 33645)"}
{"timestamp": "2025-05-19T17:52:43.778967", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:52:43.779230", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: JSON validation failed - Expecting ',' delimiter: line 245 column 6 (char 33645)"}
{"timestamp": "2025-05-19T17:52:43.779358", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2)"}
{"timestamp": "2025-05-19T17:53:17.300550", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T17:53:17.301168", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T17:53:28.716562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 6946"}
{"timestamp": "2025-05-19T17:53:28.724605", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 270 column 1147 (char 33675)"}
{"timestamp": "2025-05-19T17:53:28.727331", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 33674"}
{"timestamp": "2025-05-19T17:53:28.727675", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 263 column 6 (char 32373)"}
{"timestamp": "2025-05-19T17:53:28.727905", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 263 column 6 (char 32373)"}
{"timestamp": "2025-05-19T17:53:28.731423", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:53:28.731694", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 263 column 6 (char 32373)"}
{"timestamp": "2025-05-19T17:53:28.735234", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:53:28.735488", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: JSON validation failed - Expecting ',' delimiter: line 263 column 6 (char 32373)"}
{"timestamp": "2025-05-19T17:53:28.735595", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 3)"}
{"timestamp": "2025-05-19T17:53:59.496375", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-19T17:53:59.496684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-19T17:53:59.497075", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 4"}
{"timestamp": "2025-05-19T17:53:59.497411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00520'"}
{"timestamp": "2025-05-19T17:53:59.547830", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-19T17:54:05.963346", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-19T17:54:05.963460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1A5tgV2MNGKxJ62PjqnRV2ei6PdwjfQFC"}
{"timestamp": "2025-05-19T17:54:05.963544", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1A5tgV2MNGKxJ62PjqnRV2ei6PdwjfQFC/view?usp=drivesdk"}
{"timestamp": "2025-05-19T17:54:05.963681", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-19T17:54:05.963773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-19T17:54:05.963853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-19T17:54:05.964064", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: An\u00e1lise explorat\u00f3ria de dados"}
{"timestamp": "2025-05-19T17:54:05.964147", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>An\u00e1lise explorat\u00f3ria de dados</title>\n    <l..."}
{"timestamp": "2025-05-19T17:54:05.964285", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-19T17:54:05.964368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T17:54:05.964454", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-19T17:54:05.964531", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T17:54:05.964604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 218.39 seconds"}
{"timestamp": "2025-05-19T17:54:05.964673", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-19T17:54:05.964778", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 17849"}
{"timestamp": "2025-05-19T17:54:05.964853", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 12581 characters"}
{"timestamp": "2025-05-19T17:54:05.964928", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T17:54:05.965110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-19T17:54:05.965262", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747677245.9652095, start: 1747677027.5161402, diff type: <class 'float'>, value: 218.4490692615509"}
{"timestamp": "2025-05-19T17:54:05.965362", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 218.4490692615509"}
{"timestamp": "2025-05-19T17:54:05.965445", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-19T17:54:05.965527", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:54:05.965604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-19T17:54:05.965679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-19T17:54:05.965792", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:54:05.965873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 218.4490692615509 = 218.4490692615509"}
{"timestamp": "2025-05-19T17:54:05.966006", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-19T17:54:05.966102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 218.4490692615509"}
{"timestamp": "2025-05-19T17:54:05.966182", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 218.4490692615509"}
{"timestamp": "2025-05-19T17:54:05.966291", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-19T17:54:05.966376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-19T17:54:05.968236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-19T17:54:05.968398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-19T17:54:06.016575", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-19T17:54:08.725404", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:54:10.971489", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:54:10.971811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-19T17:54:10.971951", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747677250.9716256"}
{"timestamp": "2025-05-19T17:54:10.972040", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:54:10.972118", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:54:10.972283", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00520\n\ud83d\udcc1 Target: target/contextualization_to_TI/00520\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-19T17:54:11.005180", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-19T17:54:11.005419", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-19T17:54:13.308061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-19T17:54:13.668831", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-19T17:54:14.176551", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-19T17:54:14.634224", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:15.056281", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-19T17:54:15.505171", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:15.952019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-19T17:54:16.396707", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:16.818892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-19T17:54:17.278122", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:17.704484", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T17:54:18.218537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-19T17:54:18.581887", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-19T17:54:19.156479", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:19.449548", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-19T17:54:20.111496", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:20.329061", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-19T17:54:21.047942", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:21.224834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-19T17:54:21.956252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:22.155561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-19T17:54:22.893234", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:23.064447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-19T17:54:23.828096", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-19T17:54:23.999555", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-19T17:54:24.754405", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-19T17:54:24.754581", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-19T17:54:24.754762", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T17:54:25.697189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_TI' carregado com sucesso"}
{"timestamp": "2025-05-19T17:54:27.500566", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-19T17:54:27.500740", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_TI"}
{"timestamp": "2025-05-19T17:54:27.500867", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747677267.500811"}
{"timestamp": "2025-05-19T17:54:27.500990", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-19T17:54:27.501090", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-19T17:54:27.501173", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:54:27.501253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-19T17:54:27.501329", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-19T17:54:27.501407", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) c97568a7-71b3-4307-8468-b931a56c4c65"}
{"timestamp": "2025-05-19T17:54:27.501517", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) An\u00e1lise de dados quantitativos"}
{"timestamp": "2025-05-19T17:54:27.501607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) TI"}
{"timestamp": "2025-05-19T17:54:27.501688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00520"}
{"timestamp": "2025-05-19T17:54:27.501765", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-19T17:54:27.501840", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-2.json"}
{"timestamp": "2025-05-19T17:54:27.502029", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-19T17:54:27.502130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Distribui\u00e7\u00f5es de frequ\u00eancia"}
{"timestamp": "2025-05-19T17:54:27.502255", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 14883"}
{"timestamp": "2025-05-19T17:54:27.502344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-19T17:54:27.502648", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/qubn19gc.pdf"}
{"timestamp": "2025-05-19T17:54:27.502800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-19T17:54:27.793932", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Failed to render formula: 404"}
{"timestamp": "2025-05-19T17:54:27.795263", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 4 items"}
{"timestamp": "2025-05-19T17:54:29.428353", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/qubn19gc.pdf"}
{"timestamp": "2025-05-19T17:54:29.428734", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T17:54:29.430141", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T17:54:29.430481", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T17:54:29.430788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-19T17:54:29.431083", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T17:54:29.431622", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-19T17:54:29.432369", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-19T17:54:30.373431", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747677270.3733244.pdf"}
{"timestamp": "2025-05-19T17:54:30.373671", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-19T17:54:30.723263", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Failed to render formula: 404"}
{"timestamp": "2025-05-19T17:54:30.724705", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 4 items"}
{"timestamp": "2025-05-19T17:54:32.745456", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747677270.3733244.pdf"}
{"timestamp": "2025-05-19T17:54:32.745754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T17:54:32.745994", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-19T17:54:32.746300", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T17:54:32.746524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-19T17:54:32.746774", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-19T17:54:32.747002", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-19T17:54:32.747220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T17:54:32.747462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-19T17:55:10.836850", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-19T17:55:10.837052", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-19T17:55:10.837151", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar a arquitetura de um sistema d..."}
{"timestamp": "2025-05-19T17:55:10.837253", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-19T17:55:10.837338", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-19T17:55:10.837456", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-19T17:55:10.837537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T17:55:12.555115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-19T17:55:12.555325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-19T17:55:12.555466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-19T17:55:12.555631", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-19T17:55:12.555763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00520'"}
{"timestamp": "2025-05-19T17:55:16.740933", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-19T17:55:16.741143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1r7zO0AnQoTmWFLZLOgBYgq_qOUdPx7y4"}
{"timestamp": "2025-05-19T17:55:16.741245", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1r7zO0AnQoTmWFLZLOgBYgq_qOUdPx7y4/view?usp=drivesdk"}
{"timestamp": "2025-05-19T17:55:16.741388", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-19T17:55:16.741513", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-19T17:55:16.742341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-19T17:56:00.115921", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-19T17:56:00.116146", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-19T17:56:00.152046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-19T17:56:01.158818", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:56:02.885555", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:56:02.885752", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-19T17:56:02.885873", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747677362.8856916"}
{"timestamp": "2025-05-19T17:56:02.885949", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:56:02.886069", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:56:02.886184", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00520\n\ud83d\udcc1 Target: target/contextualization_to_TI/00520\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-19T17:56:02.916115", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-19T17:56:02.916332", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-19T17:56:03.443330", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-19T17:56:04.181817", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-19T17:56:04.354799", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-19T17:56:05.054330", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:05.228220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-19T17:56:05.936020", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:06.111913", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-19T17:56:06.803388", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:06.981363", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-19T17:56:07.689739", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:07.868139", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T17:56:08.609524", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-19T17:56:08.789594", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-19T17:56:09.524875", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:09.700950", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-19T17:56:10.446460", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:10.623916", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-19T17:56:11.355429", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:11.530053", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-19T17:56:12.264670", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:12.441341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-19T17:56:13.186565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:13.364426", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-19T17:56:13.610969", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-19T17:56:14.230714", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-19T17:56:14.532914", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-19T17:56:14.533074", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-19T17:56:14.533270", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T17:56:15.469655", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_TI' carregado com sucesso"}
{"timestamp": "2025-05-19T17:56:17.268810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-19T17:56:17.268965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_TI"}
{"timestamp": "2025-05-19T17:56:17.269123", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747677377.2690256"}
{"timestamp": "2025-05-19T17:56:17.269259", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-19T17:56:17.269363", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-19T17:56:17.269480", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:56:17.269607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-19T17:56:17.269703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-19T17:56:17.269792", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) c97568a7-71b3-4307-8468-b931a56c4c65"}
{"timestamp": "2025-05-19T17:56:17.269882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) An\u00e1lise de dados quantitativos"}
{"timestamp": "2025-05-19T17:56:17.270010", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) TI"}
{"timestamp": "2025-05-19T17:56:17.270137", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00520"}
{"timestamp": "2025-05-19T17:56:17.270229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-19T17:56:17.270318", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-19T17:56:17.270393", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-19T17:56:17.270470", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) An\u00e1lise explorat\u00f3ria de dados"}
{"timestamp": "2025-05-19T17:56:17.319047", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 6662"}
{"timestamp": "2025-05-19T17:56:17.319246", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-19T17:56:17.319554", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/7lhj4qsj.pdf"}
{"timestamp": "2025-05-19T17:56:19.405065", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/7lhj4qsj.pdf"}
{"timestamp": "2025-05-19T17:56:19.405877", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T17:56:19.407771", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T17:56:19.408428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T17:56:19.409172", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-19T17:56:19.409675", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T17:56:19.409892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-19T17:56:19.410256", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-19T17:56:20.124191", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747677380.1240964.pdf"}
{"timestamp": "2025-05-19T17:56:22.315980", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747677380.1240964.pdf"}
{"timestamp": "2025-05-19T17:56:22.316474", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T17:56:22.317252", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-19T17:56:22.318241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T17:56:22.318898", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-19T17:56:22.319847", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-19T17:56:22.320596", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-19T17:56:22.321784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T17:56:22.322581", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-19T17:56:38.591999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-19T17:56:38.592674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-19T17:56:38.592829", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Profissionais que sofrem desse mal tamb\u00e9m negam a realidade, como a obsolesc\u00eancia de uma tecnologia que dominam ou a necessidade de adotar novas pr\u00e1ticas de seguran\u00e7a, e adotam a postura de rejeitar o..."}
{"timestamp": "2025-05-19T17:56:38.592945", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-19T17:56:38.593051", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-19T17:56:38.593151", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-19T17:56:38.593236", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T17:56:40.024104", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-19T17:56:40.024265", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-19T17:56:40.024345", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 9\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-19T17:56:40.024674", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 9"}
{"timestamp": "2025-05-19T17:56:40.024786", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00520'"}
{"timestamp": "2025-05-19T17:56:44.017620", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-19T17:56:44.017793", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1gVvo2reE3HyVwC8vl6KkDt0qNh8v2dsR"}
{"timestamp": "2025-05-19T17:56:44.017884", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1gVvo2reE3HyVwC8vl6KkDt0qNh8v2dsR/view?usp=drivesdk"}
{"timestamp": "2025-05-19T17:56:44.018030", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-19T17:56:44.018118", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-19T17:56:44.018758", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-19T17:57:00.291011", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Invalid JSON: Invalid \\uXXXX escape: line 77 column 71 (char 2982)"}
{"timestamp": "2025-05-19T17:57:00.291192", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T17:57:08.926089", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 6941"}
{"timestamp": "2025-05-19T17:57:08.929461", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid \\uXXXX escape: line 77 column 71 (char 2982)"}
{"timestamp": "2025-05-19T17:57:08.930397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 9791"}
{"timestamp": "2025-05-19T17:57:08.930543", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Invalid \\uXXXX escape: line 77 column 71 (char 2982)"}
{"timestamp": "2025-05-19T17:57:08.930629", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-19T17:57:08.930735", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-19T17:57:08.930866", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 77 column 71 (char 2982)"}
{"timestamp": "2025-05-19T17:57:08.932859", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:57:08.933023", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 77 column 71 (char 2982)"}
{"timestamp": "2025-05-19T17:57:08.934864", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:57:08.935018", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Invalid \\uXXXX escape: line 77 column 71 (char 2982)"}
{"timestamp": "2025-05-19T17:57:08.935110", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 1)"}
{"timestamp": "2025-05-19T17:57:24.736839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON validation successful"}
{"timestamp": "2025-05-19T17:57:24.737329", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-19T17:57:24.737625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 2"}
{"timestamp": "2025-05-19T17:57:24.738324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00520'"}
{"timestamp": "2025-05-19T17:57:24.777205", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-19T17:57:28.903105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-19T17:57:28.903325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1c5vz0CJguNg1wPt0WBDStzjKKukEPJw6"}
{"timestamp": "2025-05-19T17:57:28.903482", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1c5vz0CJguNg1wPt0WBDStzjKKukEPJw6/view?usp=drivesdk"}
{"timestamp": "2025-05-19T17:57:28.903713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-19T17:57:28.903812", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-19T17:57:28.903892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-19T17:57:28.904092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: An\u00e1lise explorat\u00f3ria de dados"}
{"timestamp": "2025-05-19T17:57:28.904216", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>An\u00e1lise explorat\u00f3ria de dados</title>\n    <l..."}
{"timestamp": "2025-05-19T17:57:28.904339", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-19T17:57:28.904416", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T17:57:28.904490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-19T17:57:28.904580", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T17:57:28.904659", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 71.59 seconds"}
{"timestamp": "2025-05-19T17:57:28.904789", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-19T17:57:28.904874", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 17849"}
{"timestamp": "2025-05-19T17:57:28.904949", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 8056 characters"}
{"timestamp": "2025-05-19T17:57:28.905023", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T17:57:28.905207", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-19T17:57:28.905344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747677448.905297, start: 1747677377.2690256, diff type: <class 'float'>, value: 71.6362714767456"}
{"timestamp": "2025-05-19T17:57:28.905448", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 71.6362714767456"}
{"timestamp": "2025-05-19T17:57:28.905540", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-19T17:57:28.905622", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:57:28.905697", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-19T17:57:28.905834", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-19T17:57:28.905915", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:57:28.906014", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 71.6362714767456 = 71.6362714767456"}
{"timestamp": "2025-05-19T17:57:28.906383", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-19T17:57:28.906489", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 71.6362714767456"}
{"timestamp": "2025-05-19T17:57:28.906571", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 71.6362714767456"}
{"timestamp": "2025-05-19T17:57:28.906646", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-19T17:57:28.906726", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-19T17:57:28.908642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-19T17:57:28.908776", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-19T17:57:28.942486", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-19T17:57:29.844864", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:57:31.303268", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:57:31.303562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-19T17:57:31.303717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747677451.3034399"}
{"timestamp": "2025-05-19T17:57:31.303810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:57:31.303893", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T17:57:31.303982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00520\n\ud83d\udcc1 Target: target/contextualization_to_TI/00520\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-19T17:57:31.334068", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-19T17:57:31.334288", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-19T17:57:31.876099", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-19T17:57:32.785927", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-19T17:57:32.968059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-19T17:57:33.658425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:33.837060", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-19T17:57:34.691034", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:34.859466", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-19T17:57:35.561809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:35.739888", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-19T17:57:36.435243", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:36.617187", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T17:57:37.358713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-19T17:57:37.535650", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-19T17:57:38.290729", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:38.698534", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-19T17:57:39.213116", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:39.586861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-19T17:57:40.135361", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:40.522838", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-19T17:57:41.042593", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:41.400894", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-19T17:57:41.964621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:42.543599", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-19T17:57:42.886949", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-19T17:57:43.409256", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-19T17:57:43.811742", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-19T17:57:43.811932", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-19T17:57:43.812077", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T17:57:44.730897", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_TI' carregado com sucesso"}
{"timestamp": "2025-05-19T17:57:46.573433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-19T17:57:46.573606", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_TI"}
{"timestamp": "2025-05-19T17:57:46.573733", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747677466.573668"}
{"timestamp": "2025-05-19T17:57:46.573892", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-19T17:57:46.573999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-19T17:57:46.574080", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T17:57:46.574155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-19T17:57:46.574229", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-19T17:57:46.574325", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) c97568a7-71b3-4307-8468-b931a56c4c65"}
{"timestamp": "2025-05-19T17:57:46.574452", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) An\u00e1lise de dados quantitativos"}
{"timestamp": "2025-05-19T17:57:46.574532", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) TI"}
{"timestamp": "2025-05-19T17:57:46.574607", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00520"}
{"timestamp": "2025-05-19T17:57:46.574686", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-19T17:57:46.574761", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-2.json"}
{"timestamp": "2025-05-19T17:57:46.574872", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-19T17:57:46.574963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Distribui\u00e7\u00f5es de frequ\u00eancia"}
{"timestamp": "2025-05-19T17:57:46.575088", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 14883"}
{"timestamp": "2025-05-19T17:57:46.575170", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-19T17:57:46.575428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/xw0ceesf.pdf"}
{"timestamp": "2025-05-19T17:57:46.575563", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-19T17:57:46.859466", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Failed to render formula: 404"}
{"timestamp": "2025-05-19T17:57:46.860763", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 4 items"}
{"timestamp": "2025-05-19T17:57:48.474781", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/xw0ceesf.pdf"}
{"timestamp": "2025-05-19T17:57:48.475075", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T17:57:48.476104", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T17:57:48.476344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T17:57:48.476462", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-19T17:57:48.476562", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T17:57:48.476643", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-19T17:57:48.476725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-19T17:57:49.205376", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747677469.2052543.pdf"}
{"timestamp": "2025-05-19T17:57:49.205582", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 4 carousel items"}
{"timestamp": "2025-05-19T17:57:49.491135", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Failed to render formula: 404"}
{"timestamp": "2025-05-19T17:57:49.492788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Carousel has 4 items"}
{"timestamp": "2025-05-19T17:57:51.395135", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747677469.2052543.pdf"}
{"timestamp": "2025-05-19T17:57:51.395323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T17:57:51.395436", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-19T17:57:51.395630", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T17:57:51.395723", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-19T17:57:51.395810", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-19T17:57:51.395910", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-19T17:57:51.395995", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T17:57:51.396100", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-19T17:58:22.587492", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-19T17:58:22.587807", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-19T17:58:22.587909", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:\n\n*   Clareza na formula\u00e7\u00e3o de ideias e comunica\u00e7\u00e3o. Essencial para apresentar uma proposta de arquitetura d..."}
{"timestamp": "2025-05-19T17:58:22.588004", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-19T17:58:22.588092", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-19T17:58:22.588301", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-19T17:58:22.588401", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T17:58:23.607490", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-19T17:58:23.607664", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-19T17:58:23.607773", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: 8\nVers\u00e3o 2: 1\n"}
{"timestamp": "2025-05-19T17:58:23.607913", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-19T17:58:23.608049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00520'"}
{"timestamp": "2025-05-19T17:58:27.900223", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-19T17:58:27.900359", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1s2mcbmAM70-OvlGXt8Oe73Nz2055aR7i"}
{"timestamp": "2025-05-19T17:58:27.900477", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1s2mcbmAM70-OvlGXt8Oe73Nz2055aR7i/view?usp=drivesdk"}
{"timestamp": "2025-05-19T17:58:27.900635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-19T17:58:27.900717", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-19T17:58:27.901440", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-19T17:59:02.600264", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T17:59:02.600464", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T17:59:20.272811", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 16322"}
{"timestamp": "2025-05-19T17:59:20.281182", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 114 column 1336 (char 34768)"}
{"timestamp": "2025-05-19T17:59:20.289751", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 34767"}
{"timestamp": "2025-05-19T17:59:20.290352", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 112 column 10 (char 33421)"}
{"timestamp": "2025-05-19T17:59:20.290842", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 112 column 10 (char 33421)"}
{"timestamp": "2025-05-19T17:59:20.294137", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:59:20.295959", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 112 column 10 (char 33421)"}
{"timestamp": "2025-05-19T17:59:20.303806", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:59:20.305128", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Expecting ',' delimiter: line 112 column 10 (char 33421)"}
{"timestamp": "2025-05-19T17:59:20.305684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 1)"}
{"timestamp": "2025-05-19T17:59:54.640874", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T17:59:54.641062", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T17:59:58.833552", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 2491"}
{"timestamp": "2025-05-19T17:59:58.842615", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 154 column 2205 (char 34362)"}
{"timestamp": "2025-05-19T17:59:58.845440", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 34361"}
{"timestamp": "2025-05-19T17:59:58.845945", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 147 column 6 (char 32002)"}
{"timestamp": "2025-05-19T17:59:58.846202", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 147 column 6 (char 32002)"}
{"timestamp": "2025-05-19T17:59:58.849135", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:59:58.849406", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 147 column 6 (char 32002)"}
{"timestamp": "2025-05-19T17:59:58.852392", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T17:59:58.852629", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: JSON validation failed - Expecting ',' delimiter: line 147 column 6 (char 32002)"}
{"timestamp": "2025-05-19T17:59:58.852736", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2)"}
{"timestamp": "2025-05-19T18:00:33.933707", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T18:00:33.933937", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T18:01:00.017220", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 16705"}
{"timestamp": "2025-05-19T18:01:00.025377", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Expecting ',' delimiter: line 52 column 24728 (char 36025)"}
{"timestamp": "2025-05-19T18:01:00.028412", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 36024"}
{"timestamp": "2025-05-19T18:01:00.028656", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 45 column 6 (char 11142)"}
{"timestamp": "2025-05-19T18:01:00.028845", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 45 column 6 (char 11142)"}
{"timestamp": "2025-05-19T18:01:00.029929", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T18:01:00.030089", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 45 column 6 (char 11142)"}
{"timestamp": "2025-05-19T18:01:00.031180", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T18:01:00.031371", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: JSON validation failed - Expecting ',' delimiter: line 45 column 6 (char 11142)"}
{"timestamp": "2025-05-19T18:01:00.031459", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 3)"}
{"timestamp": "2025-05-19T18:01:36.353126", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T18:01:36.353306", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T18:01:40.852136", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 2327"}
{"timestamp": "2025-05-19T18:01:40.860041", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid control character at: line 260 column 319 (char 33301)"}
{"timestamp": "2025-05-19T18:01:40.862823", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Alternative merge successful"}
{"timestamp": "2025-05-19T18:01:40.863043", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 35292"}
{"timestamp": "2025-05-19T18:01:40.863341", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Cleaned JSON is valid"}
{"timestamp": "2025-05-19T18:01:40.863747", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Generated JSON is valid on attempt 4"}
{"timestamp": "2025-05-19T18:01:40.864055", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Saving JSON to Google Drive for blob: '00520'"}
{"timestamp": "2025-05-19T18:01:40.905948", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Creating folder structure: JSON"}
{"timestamp": "2025-05-19T18:01:45.180623", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 JSON saved to Google Drive successfully"}
{"timestamp": "2025-05-19T18:01:45.181086", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 File ID: 1rfCb8V-ZUA3NR3RHMwp9O0a4aDOWJyXA"}
{"timestamp": "2025-05-19T18:01:45.181282", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 File Link: https://drive.google.com/file/d/1rfCb8V-ZUA3NR3RHMwp9O0a4aDOWJyXA/view?usp=drivesdk"}
{"timestamp": "2025-05-19T18:01:45.181511", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Valid JSON generated"}
{"timestamp": "2025-05-19T18:01:45.181728", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83c\udf10 STAGE 7: HTML GENERATION"}
{"timestamp": "2025-05-19T18:01:45.181992", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting reconstructed JSON to HTML..."}
{"timestamp": "2025-05-19T18:01:45.182676", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Processed 1 carousel items"}
{"timestamp": "2025-05-19T18:01:45.183295", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML from JSON with title: No title"}
{"timestamp": "2025-05-19T18:01:45.183565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Generated HTML preview: <!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Documento</title>\n    <link href=\"https://fo..."}
{"timestamp": "2025-05-19T18:01:45.183882", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 HTML generation completed successfully"}
{"timestamp": "2025-05-19T18:01:45.183978", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T18:01:45.184059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcca PROCESSING SUMMARY"}
{"timestamp": "2025-05-19T18:01:45.184170", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T18:01:45.184264", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Total Processing Time: 238.61 seconds"}
{"timestamp": "2025-05-19T18:01:45.184342", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Pipeline Stages Completed: 7/7"}
{"timestamp": "2025-05-19T18:01:45.184421", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Content ID: 17879"}
{"timestamp": "2025-05-19T18:01:45.184516", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Final Content Size: 32275 characters"}
{"timestamp": "2025-05-19T18:01:45.184593", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T18:01:45.185016", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Pipeline result - success: True, processing_time type: <class 'float'>"}
{"timestamp": "2025-05-19T18:01:45.186298", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u23f1\ufe0f Calculating processing time - end: 1747677705.1861699, start: 1747677466.573668, diff type: <class 'float'>, value: 238.61250185966492"}
{"timestamp": "2025-05-19T18:01:45.186450", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Updating metrics - Input processing_time type: <class 'float'>, value: 238.61250185966492"}
{"timestamp": "2025-05-19T18:01:45.186561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Current metrics state:"}
{"timestamp": "2025-05-19T18:01:45.186663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T18:01:45.186787", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - processed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-19T18:01:45.186879", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - failed_files: (<class 'int'>) 0"}
{"timestamp": "2025-05-19T18:01:45.186999", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T18:01:45.187102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Updated total_processing_time: 0.0 + 238.61250185966492 = 238.61250185966492"}
{"timestamp": "2025-05-19T18:01:45.187219", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Metrics updated successfully:"}
{"timestamp": "2025-05-19T18:01:45.187344", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New total_time: 238.61250185966492"}
{"timestamp": "2025-05-19T18:01:45.187442", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - New average_time: 238.61250185966492"}
{"timestamp": "2025-05-19T18:01:45.187537", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - Total files processed: 1"}
{"timestamp": "2025-05-19T18:01:45.187722", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Successfully processed content"}
{"timestamp": "2025-05-19T18:01:45.190940", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-19T18:01:45.191106", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-19T18:01:45.264408", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-19T18:01:46.209411", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T18:01:47.867924", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T18:01:47.868189", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-19T18:01:47.868323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747677707.8681052"}
{"timestamp": "2025-05-19T18:01:47.868425", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T18:01:47.868523", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T18:01:47.868661", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00520\n\ud83d\udcc1 Target: target/contextualization_to_TI/00520\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-19T18:01:47.899167", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-19T18:01:47.899433", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-19T18:01:49.139646", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-19T18:01:49.380838", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-19T18:01:50.009721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-19T18:01:50.278046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:50.880200", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-19T18:01:51.187031", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:51.763424", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-19T18:01:52.074105", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:53.176532", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-19T18:01:53.372764", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:54.046529", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T18:01:54.302468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-19T18:01:54.620469", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-19T18:01:55.006468", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:55.481963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-19T18:01:55.938800", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:56.356859", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-19T18:01:57.286428", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:57.472337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-19T18:01:58.210356", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:58.387352", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-19T18:01:59.134084", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-19T18:01:59.321737", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-19T18:01:59.844015", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-19T18:02:00.031422", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-19T18:02:00.793703", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-19T18:02:00.793869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-19T18:02:00.794056", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T18:02:01.725861", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_TI' carregado com sucesso"}
{"timestamp": "2025-05-19T18:02:03.210287", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-19T18:02:03.210525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_TI"}
{"timestamp": "2025-05-19T18:02:03.210856", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747677723.210786"}
{"timestamp": "2025-05-19T18:02:03.211153", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-19T18:02:03.211385", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-19T18:02:03.211510", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T18:02:03.211633", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-19T18:02:03.211730", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-19T18:02:03.211826", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) c97568a7-71b3-4307-8468-b931a56c4c65"}
{"timestamp": "2025-05-19T18:02:03.211920", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) An\u00e1lise de dados quantitativos"}
{"timestamp": "2025-05-19T18:02:03.212041", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) TI"}
{"timestamp": "2025-05-19T18:02:03.212160", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00520"}
{"timestamp": "2025-05-19T18:02:03.212256", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-19T18:02:03.212350", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-3.json"}
{"timestamp": "2025-05-19T18:02:03.212441", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-19T18:02:03.212560", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) Representa\u00e7\u00f5es gr\u00e1ficas"}
{"timestamp": "2025-05-19T18:02:03.212713", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 10681"}
{"timestamp": "2025-05-19T18:02:03.212814", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-19T18:02:03.213067", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/0hppy268.pdf"}
{"timestamp": "2025-05-19T18:02:04.629447", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/0hppy268.pdf"}
{"timestamp": "2025-05-19T18:02:04.629613", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T18:02:04.630708", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T18:02:04.630801", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T18:02:04.630868", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-19T18:02:04.630960", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T18:02:04.631057", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-19T18:02:04.631150", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-19T18:02:05.367710", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747677725.3675985.pdf"}
{"timestamp": "2025-05-19T18:02:06.780081", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747677725.3675985.pdf"}
{"timestamp": "2025-05-19T18:02:06.780355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T18:02:06.780565", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-19T18:02:06.780819", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T18:02:06.780962", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-19T18:02:06.781063", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-19T18:02:06.781156", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-19T18:02:06.781241", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T18:02:06.781355", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Iniciando tentativa de contextualiza\u00e7\u00e3o #1..."}
{"timestamp": "2025-05-19T18:02:30.501640", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Tentativa de contextualiza\u00e7\u00e3o #1 completada com sucesso"}
{"timestamp": "2025-05-19T18:02:30.501839", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Preview do conte\u00fado contextualizado #1:"}
{"timestamp": "2025-05-19T18:02:30.501988", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "O objetivo da pesquisa \u00e9 produzir novos conhecimentos. \u00c9 uma atividade reflexiva, investigativa e sistem\u00e1tica que conduz a novas descobertas ou interpreta\u00e7\u00f5es. Os resultados da pesquisa podem aprimora..."}
{"timestamp": "2025-05-19T18:02:30.502130", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd0d STAGE 3: CONTENT REVIEW AND SELECTION"}
{"timestamp": "2025-05-19T18:02:30.502257", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing review prompt..."}
{"timestamp": "2025-05-19T18:02:30.502370", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending contextualization results for review..."}
{"timestamp": "2025-05-19T18:02:30.502470", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
{"timestamp": "2025-05-19T18:02:32.114963", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Review completed successfully"}
{"timestamp": "2025-05-19T18:02:32.115143", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Review feedback:"}
{"timestamp": "2025-05-19T18:02:32.115248", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Vers\u00e3o 1: [8]\nVers\u00e3o 2: [1]\n"}
{"timestamp": "2025-05-19T18:02:32.115389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Selected contextualization version 1 with score 8"}
{"timestamp": "2025-05-19T18:02:32.115502", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Creating Google Document for blob: '00520'"}
{"timestamp": "2025-05-19T18:02:36.310507", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Google Document created successfully"}
{"timestamp": "2025-05-19T18:02:36.310638", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc4 Document ID: 1wyhH6g8kwjFlIWHoAAe7haqo8vvMGVlc"}
{"timestamp": "2025-05-19T18:02:36.310784", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd17 Document Link: https://drive.google.com/file/d/1wyhH6g8kwjFlIWHoAAe7haqo8vvMGVlc/view?usp=drivesdk"}
{"timestamp": "2025-05-19T18:02:36.310912", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 4: JSON RECONSTRUCTION"}
{"timestamp": "2025-05-19T18:02:36.311018", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing JSON reconstruction prompt..."}
{"timestamp": "2025-05-19T18:02:36.311601", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using chat session approach for JSON reconstruction..."}
{"timestamp": "2025-05-19T18:03:10.016236", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T18:03:10.016472", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T18:03:15.048046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 2297"}
{"timestamp": "2025-05-19T18:03:15.055321", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid \\uXXXX escape: line 66 column 509 (char 23886)"}
{"timestamp": "2025-05-19T18:03:15.057809", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 31400"}
{"timestamp": "2025-05-19T18:03:15.058109", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Invalid \\uXXXX escape: line 66 column 509 (char 23886)"}
{"timestamp": "2025-05-19T18:03:15.058230", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-19T18:03:15.058426", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-19T18:03:15.058602", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 66 column 509 (char 23886)"}
{"timestamp": "2025-05-19T18:03:15.061749", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T18:03:15.062017", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Invalid \\uXXXX escape: line 66 column 509 (char 23886)"}
{"timestamp": "2025-05-19T18:03:15.065243", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T18:03:15.065483", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 1: JSON validation failed - Invalid \\uXXXX escape: line 66 column 509 (char 23886)"}
{"timestamp": "2025-05-19T18:03:15.065604", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 1)"}
{"timestamp": "2025-05-19T18:03:49.941863", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T18:03:49.942077", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T18:03:58.396663", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 5643"}
{"timestamp": "2025-05-19T18:03:58.404039", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid \\uXXXX escape: line 211 column 874 (char 30968)"}
{"timestamp": "2025-05-19T18:03:58.406684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 31839"}
{"timestamp": "2025-05-19T18:03:58.406958", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 209 column 10 (char 30083)"}
{"timestamp": "2025-05-19T18:03:58.407059", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-19T18:03:58.407273", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-19T18:03:58.407441", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 209 column 10 (char 30083)"}
{"timestamp": "2025-05-19T18:03:58.410394", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T18:03:58.410588", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 209 column 10 (char 30083)"}
{"timestamp": "2025-05-19T18:03:58.413618", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T18:03:58.413852", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 2: JSON validation failed - Expecting ',' delimiter: line 209 column 10 (char 30083)"}
{"timestamp": "2025-05-19T18:03:58.413975", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 2)"}
{"timestamp": "2025-05-19T18:04:33.207324", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "JSON doesn't have proper opening/closing braces"}
{"timestamp": "2025-05-19T18:04:33.207625", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Requesting continuation of JSON response..."}
{"timestamp": "2025-05-19T18:04:41.533432", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Received continuation of length: 6270"}
{"timestamp": "2025-05-19T18:04:41.541054", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Merged JSON is invalid: Invalid \\uXXXX escape: line 211 column 874 (char 30968)"}
{"timestamp": "2025-05-19T18:04:41.543665", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Merged JSON response length: 31839"}
{"timestamp": "2025-05-19T18:04:41.543953", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Cleaned JSON is invalid: Expecting ',' delimiter: line 209 column 10 (char 30083)"}
{"timestamp": "2025-05-19T18:04:41.544057", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "JSON contains URLs, attempting to preserve them"}
{"timestamp": "2025-05-19T18:04:41.544251", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Original JSON is also invalid"}
{"timestamp": "2025-05-19T18:04:41.544447", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 209 column 10 (char 30083)"}
{"timestamp": "2025-05-19T18:04:41.547518", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T18:04:41.547758", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempting to repair JSON: Expecting ',' delimiter: line 209 column 10 (char 30083)"}
{"timestamp": "2025-05-19T18:04:41.550893", "level": "ERROR", "logger": "app.services.contextualizacao_service", "message": "\u274c JSON repair failed"}
{"timestamp": "2025-05-19T18:04:41.551201", "level": "WARNING", "logger": "app.services.contextualizacao_service", "message": "Attempt 3: JSON validation failed - Expecting ',' delimiter: line 209 column 10 (char 30083)"}
{"timestamp": "2025-05-19T18:04:41.551293", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Retrying JSON generation... (attempt 3)"}
{"timestamp": "2025-05-19T18:12:05.123958", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Getting process type for area_conhecimento: TI and context_type: contextualizacao"}
{"timestamp": "2025-05-19T18:12:05.895503", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd11 Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json"}
{"timestamp": "2025-05-19T18:12:07.488721", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId"}
{"timestamp": "2025-05-19T18:12:09.533803", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Created/found tema folder with ID: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T18:12:17.305498", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcc1 Tema folder public link: https://drive.google.com/drive/folders/1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T18:12:18.414727", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 ProcessingMetrics initialized with types validated:"}
{"timestamp": "2025-05-19T18:12:19.986128", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - start_time: (<class 'float'>) 1747678338.4146006"}
{"timestamp": "2025-05-19T18:12:21.726709", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - total_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T18:12:22.640019", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - average_processing_time: (<class 'float'>) 0.0"}
{"timestamp": "2025-05-19T18:12:24.118982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 Initializing CloudContentProcessor\n\ud83d\udcc1 Source: 00520\n\ud83d\udcc1 Target: target/contextualization_to_TI/00520\n\ud83d\udd04 Process Type: contextualization_to_TI\n"}
{"timestamp": "2025-05-19T18:12:25.547684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Clients initialized successfully"}
{"timestamp": "2025-05-19T18:12:27.068046", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Iniciando diagn\u00f3stico de acesso ao bucket: conteudo-autenticare-contextualizacao"}
{"timestamp": "2025-05-19T18:12:29.499869", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Bucket existe: True"}
{"timestamp": "2025-05-19T18:12:30.883322", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Permiss\u00f5es do bucket obtidas com sucesso"}
{"timestamp": "2025-05-19T18:12:32.369684", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00306: \u2713 Encontrado em prompts/content_score_classification_00306.txt"}
{"timestamp": "2025-05-19T18:12:33.737323", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00306 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:34.827118", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00962: \u2713 Encontrado em prompts/content_score_classification_00962.txt"}
{"timestamp": "2025-05-19T18:12:36.155584", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00962 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:37.875510", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_03024: \u2713 Encontrado em prompts/content_score_classification_03024.txt"}
{"timestamp": "2025-05-19T18:12:39.131679", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_03024 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:41.172049", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt content_score_classification_00221: \u2713 Encontrado em prompts/content_score_classification_00221.txt"}
{"timestamp": "2025-05-19T18:12:42.560788", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt content_score_classification_00221 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:43.377067", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_TI: \u2713 Encontrado em prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T18:12:44.418982", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_TI lido com sucesso"}
{"timestamp": "2025-05-19T18:12:45.216603", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_engenharia_00221: \u2713 Encontrado em prompts/contextualization_to_engenharia_00221.txt"}
{"timestamp": "2025-05-19T18:12:46.089603", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_engenharia_00221 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:46.869754", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_gestao_00962: \u2713 Encontrado em prompts/contextualization_to_gestao_00962.txt"}
{"timestamp": "2025-05-19T18:12:47.731337", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_gestao_00962 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:48.543635", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_humanidades_00908: \u2713 Encontrado em prompts/contextualization_to_humanidades_00908.txt"}
{"timestamp": "2025-05-19T18:12:49.952064", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_humanidades_00908 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:50.774926", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_exatas_00221: \u2713 Encontrado em prompts/contextualization_to_exatas_00221.txt"}
{"timestamp": "2025-05-19T18:12:51.665996", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_exatas_00221 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:52.983310", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_saude_00962: \u2713 Encontrado em prompts/contextualization_to_saude_00962.txt"}
{"timestamp": "2025-05-19T18:12:54.165547", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_saude_00962 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:54.977805", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt contextualization_to_direito: \u2713 Encontrado em prompts/contextualization_to_direito.txt"}
{"timestamp": "2025-05-19T18:12:55.891095", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt contextualization_to_direito lido com sucesso"}
{"timestamp": "2025-05-19T18:12:56.712398", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "Prompt suavization_03024: \u2713 Encontrado em prompts/suavization_03024.txt"}
{"timestamp": "2025-05-19T18:12:57.759090", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Conte\u00fado do prompt suavization_03024 lido com sucesso"}
{"timestamp": "2025-05-19T18:12:58.454012", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com"}
{"timestamp": "2025-05-19T18:12:59.531324", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd0d Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt"}
{"timestamp": "2025-05-19T18:13:01.509319", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 Prompt para 'contextualization_to_TI' carregado com sucesso"}
{"timestamp": "2025-05-19T18:13:04.587397", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 Processing pipeline initialized successfully"}
{"timestamp": "2025-05-19T18:13:05.650392", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Using process type: contextualization_to_TI"}
{"timestamp": "2025-05-19T18:13:07.210399", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd52 Starting process_file_async - start_time type: <class 'float'>, value: 1747678387.2101586"}
{"timestamp": "2025-05-19T18:13:07.895476", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udce5 Input parameters:"}
{"timestamp": "2025-05-19T18:13:08.607667", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - content type: <class 'str'>"}
{"timestamp": "2025-05-19T18:13:09.252525", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - folder_id type: <class 'str'>, value: 1gLVi7VDVNUXUHqxa-RFhtvlMoQpMoYSg"}
{"timestamp": "2025-05-19T18:13:09.898368", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros type: <class 'dict'>"}
{"timestamp": "2025-05-19T18:13:10.570379", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "  - json_parametros contents:"}
{"timestamp": "2025-05-19T18:13:11.233463", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    id: (<class 'str'>) c97568a7-71b3-4307-8468-b931a56c4c65"}
{"timestamp": "2025-05-19T18:13:11.897954", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    theme: (<class 'str'>) An\u00e1lise de dados quantitativos"}
{"timestamp": "2025-05-19T18:13:12.546649", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    areaConhecimento: (<class 'str'>) TI"}
{"timestamp": "2025-05-19T18:13:13.235793", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    tema_code: (<class 'str'>) 00520"}
{"timestamp": "2025-05-19T18:13:13.922965", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    context_type: (<class 'str'>) contextualizacao"}
{"timestamp": "2025-05-19T18:13:14.606725", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    nucleo: (<class 'str'>) nc-1.json"}
{"timestamp": "2025-05-19T18:13:15.263688", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    modulo: (<class 'str'>) Modulo 1"}
{"timestamp": "2025-05-19T18:13:15.957430", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "    titulo_atual: (<class 'str'>) An\u00e1lise explorat\u00f3ria de dados"}
{"timestamp": "2025-05-19T18:13:16.702279", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udcdd Content converted to string, length: 6662"}
{"timestamp": "2025-05-19T18:13:17.371389", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\udd04 Starting pipeline.process_parallel"}
{"timestamp": "2025-05-19T18:13:18.037642", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/_t6hnqn8.pdf"}
{"timestamp": "2025-05-19T18:13:20.780267", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/_t6hnqn8.pdf"}
{"timestamp": "2025-05-19T18:13:21.505974", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T18:13:22.189621", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T18:13:22.868117", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n=================================================="}
{"timestamp": "2025-05-19T18:13:23.546155", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\ud83d\ude80 STARTING CONTENT PROCESSING PIPELINE"}
{"timestamp": "2025-05-19T18:13:24.228833", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "=================================================="}
{"timestamp": "2025-05-19T18:13:24.951561", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udcd1 STAGE 1: PDF GENERATION"}
{"timestamp": "2025-05-19T18:13:25.639848", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Parsing JSON content..."}
{"timestamp": "2025-05-19T18:13:27.026500", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Generating PDF at: app/arquivosTemporarios/output_1747678407.0264041.pdf"}
{"timestamp": "2025-05-19T18:13:29.770700", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2705 PDF saved successfully to: app/arquivosTemporarios/output_1747678407.0264041.pdf"}
{"timestamp": "2025-05-19T18:13:30.452343", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF generated successfully"}
{"timestamp": "2025-05-19T18:13:31.134662", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Converting PDF to base64..."}
{"timestamp": "2025-05-19T18:13:31.816687", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2713 PDF converted to base64"}
{"timestamp": "2025-05-19T18:13:32.498102", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\n\ud83d\udd04 STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)"}
{"timestamp": "2025-05-19T18:13:33.201744", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Preparing contextualization prompt..."}
{"timestamp": "2025-05-19T18:13:34.016735", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Sending content for contextualization (3 attempts)..."}
{"timestamp": "2025-05-19T18:13:34.693805", "level": "INFO", "logger": "app.services.contextualizacao_service", "message": "\u2192 Using model: gemini-2.0-flash-001"}
