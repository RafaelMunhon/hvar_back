2025-05-15 14:36:19,081 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 14:36:19,146 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 14:36:19,146 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 14:36:19,146 - INFO - Procurando arquivo de credenciais em:
2025-05-15 14:36:19,147 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:36:19,147 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:36:19,148 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 14:36:21,521 - INFO - Procurando arquivo de credenciais em:
2025-05-15 14:36:21,521 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:36:29,643 - INFO - Recebendo solicita√ß√£o para /api/get_data
2025-05-15 14:36:29,644 - INFO - Par√¢metros de filtro recebidos: ID=None, Nome=None, T√≠tulo NC=None
2025-05-15 14:36:29,643 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 14:36:31,311 - ERROR - Nenhuma contextualiza√ß√£o encontrada
2025-05-15 14:36:32,813 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 14:36:32,813 - INFO - Encontradas 0 contextualiza√ß√µes
2025-05-15 14:36:57,110 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 14:36:58,579 - ERROR - Nenhuma contextualiza√ß√£o encontrada
2025-05-15 14:36:58,627 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:36:58,627 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:36:58,638 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:36:59,609 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:37:00,074 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 14:37:00,074 - INFO - Encontradas 0 contextualiza√ß√µes
2025-05-15 14:37:01,492 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:37:01,493 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:37:01,495 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:37:01,495 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:37:02,753 - INFO - ‚úì Bucket existe: True
2025-05-15 14:37:02,995 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:37:03,649 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:37:03,898 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:37:04,516 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:37:04,811 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:37:05,387 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:37:05,707 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:37:06,253 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:37:06,625 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:37:07,116 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:37:07,561 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:37:07,991 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:37:08,548 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:37:08,865 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:37:09,537 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:37:09,756 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:37:10,496 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:37:10,675 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:37:11,414 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:37:11,587 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:37:12,344 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:37:12,521 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:37:13,303 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:37:13,475 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:37:14,258 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:37:14,258 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:37:14,259 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:37:15,183 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:37:17,001 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:37:17,001 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:37:17,002 - ERROR - ‚ùå Error processing content: 'str' object has no attribute 'get'
2025-05-15 14:37:17,002 - ERROR - Error processing file: 'str' object has no attribute 'get'
2025-05-15 14:37:17,002 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:37:17,003 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:37:17,009 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:37:18,149 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:37:20,058 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:37:20,058 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:37:20,060 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:37:20,060 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:37:20,744 - INFO - ‚úì Bucket existe: True
2025-05-15 14:37:21,390 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:37:21,629 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:37:22,271 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:37:22,496 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:37:23,158 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:37:23,971 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:37:24,158 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:37:24,832 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:37:25,035 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:37:25,695 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:37:25,982 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:37:26,565 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:37:26,921 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:37:27,430 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:37:27,901 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:37:28,311 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:37:28,832 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:37:29,181 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:37:29,733 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:37:30,045 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:37:30,668 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:37:30,914 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:37:31,593 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:37:31,774 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:37:32,521 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:37:32,521 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:37:32,521 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:37:33,453 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:37:35,277 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:37:35,277 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:37:35,278 - ERROR - ‚ùå Error processing content: 'str' object has no attribute 'get'
2025-05-15 14:37:35,278 - ERROR - Error processing file: 'str' object has no attribute 'get'
2025-05-15 14:37:35,278 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:37:35,278 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:37:35,283 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:37:36,480 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:37:38,077 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:37:38,077 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:37:38,079 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:37:38,079 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:37:38,620 - INFO - ‚úì Bucket existe: True
2025-05-15 14:37:39,427 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:37:39,605 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:37:40,341 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:37:40,520 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:37:41,252 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:37:41,431 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:37:42,160 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:37:42,330 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:37:43,044 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:37:43,220 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:37:43,980 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:37:44,161 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:37:44,923 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:37:45,103 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:37:45,860 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:37:46,035 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:37:46,796 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:37:46,969 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:37:47,729 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:37:47,903 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:37:48,677 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:37:48,858 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:37:49,604 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:37:49,790 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:37:50,545 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:37:50,545 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:37:50,545 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:37:51,466 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:37:53,301 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:37:53,302 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:37:53,302 - ERROR - ‚ùå Error processing content: 'str' object has no attribute 'get'
2025-05-15 14:37:53,302 - ERROR - Error processing file: 'str' object has no attribute 'get'
2025-05-15 14:37:53,302 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:37:53,302 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:37:53,308 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:37:54,357 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:37:56,014 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:37:56,014 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:37:56,016 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:37:56,016 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:37:57,313 - INFO - ‚úì Bucket existe: True
2025-05-15 14:37:57,602 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:37:58,178 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:37:58,477 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:37:59,043 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:37:59,353 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:37:59,913 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:38:00,235 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:38:00,810 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:38:01,109 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:38:01,781 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:38:03,610 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:38:04,411 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:38:04,878 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:38:05,325 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:38:05,796 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:38:06,194 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:38:06,713 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:38:07,059 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:38:07,618 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:38:07,928 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:38:08,545 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:38:08,799 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:38:09,468 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:38:09,667 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:38:10,400 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:38:10,400 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:38:10,401 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:38:11,358 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:38:13,188 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:38:13,188 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:38:13,189 - ERROR - ‚ùå Error processing content: 'str' object has no attribute 'get'
2025-05-15 14:38:13,189 - ERROR - Error processing file: 'str' object has no attribute 'get'
2025-05-15 14:38:13,190 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:38:13,190 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:38:13,196 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:38:14,123 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:38:15,941 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:38:15,941 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:38:15,947 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:38:15,947 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:38:16,517 - INFO - ‚úì Bucket existe: True
2025-05-15 14:38:17,292 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:38:17,467 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:38:18,163 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:38:18,336 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:38:19,049 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:38:19,229 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:38:19,962 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:38:20,138 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:38:20,855 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:38:21,039 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:38:21,840 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:38:22,018 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:38:22,777 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:38:22,981 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:38:23,717 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:38:23,889 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:38:24,643 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:38:24,816 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:38:25,567 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:38:25,741 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:38:26,508 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:38:26,686 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:38:27,456 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:38:27,635 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:38:28,401 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:38:28,401 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:38:28,402 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:38:29,368 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:38:31,210 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:38:31,210 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:38:31,210 - ERROR - ‚ùå Error processing content: 'str' object has no attribute 'get'
2025-05-15 14:38:31,210 - ERROR - Error processing file: 'str' object has no attribute 'get'
2025-05-15 14:38:31,210 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:38:31,211 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:38:31,215 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:38:32,209 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:38:34,145 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:38:34,145 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:38:34,146 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:38:34,146 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:38:34,739 - INFO - ‚úì Bucket existe: True
2025-05-15 14:38:35,493 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:38:35,671 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:38:36,379 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:38:36,555 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:38:37,270 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:38:37,444 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:38:38,168 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:38:38,341 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:38:39,080 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:38:39,258 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:38:40,083 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:38:40,289 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:38:40,785 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:38:41,164 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:38:41,712 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:38:42,034 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:38:42,650 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:38:42,899 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:38:43,596 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:38:43,785 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:38:44,529 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:38:44,708 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:38:45,467 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:38:45,657 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:38:46,398 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:38:46,399 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:38:46,399 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:38:47,328 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:38:49,133 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:38:49,133 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:38:49,133 - ERROR - ‚ùå Error processing content: 'str' object has no attribute 'get'
2025-05-15 14:38:49,134 - ERROR - Error processing file: 'str' object has no attribute 'get'
2025-05-15 14:38:49,134 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:38:49,134 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:38:49,141 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:38:50,064 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:38:51,882 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:38:51,882 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:38:51,884 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:38:51,884 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:38:52,451 - INFO - ‚úì Bucket existe: True
2025-05-15 14:38:53,190 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:38:53,387 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:38:54,109 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:38:54,303 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:38:55,010 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:38:55,217 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:38:55,910 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:38:56,095 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:38:56,811 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:38:56,990 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:38:57,741 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:38:57,931 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:38:58,670 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:38:58,843 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:38:59,592 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:38:59,767 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:39:00,504 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:40:22,789 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 14:40:22,804 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 14:40:22,805 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 14:40:22,806 - INFO - Procurando arquivo de credenciais em:
2025-05-15 14:40:22,806 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:40:22,806 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:40:22,808 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 14:40:25,229 - INFO - Procurando arquivo de credenciais em:
2025-05-15 14:40:25,229 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:40:43,547 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 14:40:45,241 - ERROR - Nenhuma contextualiza√ß√£o encontrada
2025-05-15 14:40:45,271 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:40:45,271 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:40:45,284 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:40:46,364 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:40:46,736 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 14:40:46,737 - INFO - Encontradas 0 contextualiza√ß√µes
2025-05-15 14:40:48,010 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:40:48,011 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:40:48,014 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:40:48,014 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:40:48,788 - INFO - ‚úì Bucket existe: True
2025-05-15 14:40:49,493 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:40:49,672 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:40:50,367 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:40:50,547 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:40:51,248 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:40:51,434 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:40:52,121 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:40:52,306 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:40:52,997 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:40:53,192 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:40:53,933 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:40:54,112 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:40:54,862 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:40:55,039 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:40:55,797 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:40:55,979 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:40:56,743 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:40:56,956 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:40:57,663 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:40:57,843 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:40:58,595 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:40:58,790 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:40:59,524 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:40:59,717 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:41:00,447 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:41:00,447 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:41:00,447 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:41:01,370 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:41:03,190 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:41:03,190 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:41:03,191 - ERROR - ‚ùå Error processing content: 'str' object has no attribute 'get'
2025-05-15 14:41:03,191 - ERROR - Error processing file: 'str' object has no attribute 'get'
2025-05-15 14:41:03,191 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:41:03,191 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:41:03,210 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:41:05,132 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:41:06,836 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:41:06,836 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:41:06,838 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:41:06,838 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:41:08,119 - INFO - ‚úì Bucket existe: True
2025-05-15 14:41:08,392 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:41:08,981 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:41:09,262 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:41:09,846 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:41:10,134 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:41:10,709 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:41:11,003 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:41:11,570 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:41:11,874 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:41:12,433 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:41:12,802 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:41:13,296 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:41:13,723 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:41:14,163 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:41:14,647 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:41:15,029 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:41:15,566 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:41:15,908 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:41:16,474 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:41:16,774 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:41:17,387 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:42:10,496 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 14:42:10,515 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 14:42:10,516 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 14:42:10,517 - INFO - Procurando arquivo de credenciais em:
2025-05-15 14:42:10,518 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:42:10,518 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:42:10,521 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 14:42:12,819 - INFO - Procurando arquivo de credenciais em:
2025-05-15 14:42:12,820 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 14:42:15,177 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 14:42:16,867 - ERROR - Nenhuma contextualiza√ß√£o encontrada
2025-05-15 14:42:16,897 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:42:16,897 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:42:16,903 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:42:17,879 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:42:18,394 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 14:42:18,394 - INFO - Encontradas 0 contextualiza√ß√µes
2025-05-15 14:42:19,584 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:42:19,585 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:42:19,586 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:42:19,586 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:42:20,144 - INFO - ‚úì Bucket existe: True
2025-05-15 14:42:20,892 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:42:21,069 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:42:21,764 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:42:21,952 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:42:22,632 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:42:22,814 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:42:23,511 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:42:23,714 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:42:24,402 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:42:24,607 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:42:25,319 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:42:25,498 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:42:26,241 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:42:26,415 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:42:27,164 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:42:27,344 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:42:28,080 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:42:28,259 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:42:29,096 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:42:29,267 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:42:30,032 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:42:30,214 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:42:30,955 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:42:31,127 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:42:31,880 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:42:31,880 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:42:31,880 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:42:32,805 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:42:34,591 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:42:34,591 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:42:34,591 - INFO - 
==================================================
2025-05-15 14:42:34,591 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 14:42:34,591 - INFO - ==================================================
2025-05-15 14:42:34,591 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 14:42:34,592 - INFO - ‚Üí Parsing JSON content...
2025-05-15 14:42:36,004 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747330956.004774.pdf
2025-05-15 14:42:36,004 - INFO - Processed 4 carousel items
2025-05-15 14:42:36,005 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 14:42:36,005 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 14:42:36,005 - INFO - Attempting to create a fallback PDF...
2025-05-15 14:42:36,177 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747330956.004774.pdf
2025-05-15 14:42:36,177 - INFO - ‚úì PDF generated successfully
2025-05-15 14:42:36,177 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 14:42:36,177 - INFO - ‚úì PDF converted to base64
2025-05-15 14:42:36,177 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 14:42:36,177 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 14:42:36,177 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 14:42:36,177 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 14:42:36,177 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 14:42:56,008 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 14:42:56,009 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 14:42:56,009 - INFO - ## Cotidiano do Engenheiro

### As escolhas de um coordenador

As escolhas que um coordenador faz s√£o cruciais para o sucesso de qualquer empreendimento. Cada decis√£o, desde a mais trivial at√© a mais ...
2025-05-15 14:42:56,009 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 14:42:56,009 - INFO - ‚Üí Preparing review prompt...
2025-05-15 14:42:56,009 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 14:42:56,010 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 14:42:57,929 - INFO - ‚úì Review completed successfully
2025-05-15 14:42:57,930 - INFO - Review feedback:
2025-05-15 14:42:57,930 - INFO - Vers√£o 1: [9]
Vers√£o 2: [2]

2025-05-15 14:42:57,930 - INFO - Selected contextualization version 1 with score 9
2025-05-15 14:42:57,931 - INFO - üîÑ Creating Google Document for blob: '1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS'
2025-05-15 14:43:01,855 - INFO - ‚úÖ Google Document created successfully
2025-05-15 14:43:01,855 - INFO - üìÑ Document ID: 1fnc8AGDTV37SPKGmyXwrcoEHTcIqUWS1
2025-05-15 14:43:01,855 - INFO - üîó Document Link: https://drive.google.com/file/d/1fnc8AGDTV37SPKGmyXwrcoEHTcIqUWS1/view?usp=drivesdk
2025-05-15 14:43:01,855 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 14:43:01,855 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 14:43:01,857 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 14:43:37,559 - INFO - Attempt 1: Received initial JSON response of length: 27037
2025-05-15 14:43:37,564 - INFO - ‚úÖ JSON validation successful
2025-05-15 14:43:37,564 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 14:43:37,565 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 14:43:37,565 - INFO - üîÑ Saving JSON to Google Drive for blob: '1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS'
2025-05-15 14:43:37,577 - INFO - Creating folder structure: JSON
2025-05-15 14:43:42,159 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 14:43:42,159 - INFO - üìÑ File ID: 1Tw5LX01EdLMXNJyZiVJUrwiOMAMxqQVF
2025-05-15 14:43:42,159 - INFO - üîó File Link: https://drive.google.com/file/d/1Tw5LX01EdLMXNJyZiVJUrwiOMAMxqQVF/view?usp=drivesdk
2025-05-15 14:43:42,159 - INFO - ‚úì Valid JSON generated
2025-05-15 14:43:42,159 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 14:43:42,159 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 14:43:42,160 - INFO - Generated HTML from JSON with title: Cotidiano do Engenheiro
2025-05-15 14:43:42,160 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotidiano do Engenheiro</title>
    <link hr...
2025-05-15 14:43:42,160 - INFO - ‚úì HTML generation completed successfully
2025-05-15 14:43:42,160 - INFO - 
==================================================
2025-05-15 14:43:42,160 - INFO - üìä PROCESSING SUMMARY
2025-05-15 14:43:42,160 - INFO - ==================================================
2025-05-15 14:43:42,160 - INFO - Total Processing Time: 67.57 seconds
2025-05-15 14:43:42,160 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 14:43:42,160 - INFO - Content ID: 47014
2025-05-15 14:43:42,160 - INFO - Final Content Size: 22026 characters
2025-05-15 14:43:42,160 - INFO - ==================================================
2025-05-15 14:43:42,161 - INFO - ‚úÖ Successfully processed content
2025-05-15 14:43:42,161 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 14:43:42,162 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 14:43:42,167 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 14:43:43,234 - INFO - üìÅ Created/found tema folder with ID: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:43:45,318 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
2025-05-15 14:43:45,318 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üìÅ Target: target/contextualization_to_engenharia_00221/1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 14:43:45,320 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 14:43:45,320 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 14:43:45,859 - INFO - ‚úì Bucket existe: True
2025-05-15 14:43:46,608 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 14:43:46,785 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 14:43:47,560 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 14:43:47,753 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 14:43:48,440 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 14:43:48,622 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 14:43:49,328 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 14:43:49,506 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 14:43:50,401 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 14:43:50,581 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 14:43:51,336 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 14:43:51,508 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:43:52,295 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 14:43:52,466 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 14:43:53,240 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 14:43:53,430 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 14:43:54,198 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 14:43:54,370 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 14:43:55,120 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 14:43:55,305 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 14:43:56,064 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 14:43:56,235 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 14:43:56,993 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 14:43:57,172 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 14:43:57,928 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 14:43:57,929 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 14:43:57,929 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 14:43:58,849 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 14:44:01,633 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 14:44:01,633 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 14:44:01,633 - INFO - 
==================================================
2025-05-15 14:44:01,633 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 14:44:01,633 - INFO - ==================================================
2025-05-15 14:44:01,633 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 14:44:01,633 - INFO - ‚Üí Parsing JSON content...
2025-05-15 14:44:02,516 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747331042.5160625.pdf
2025-05-15 14:44:03,930 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747331042.5160625.pdf
2025-05-15 14:44:03,931 - INFO - ‚úì PDF generated successfully
2025-05-15 14:44:03,931 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 14:44:03,931 - INFO - ‚úì PDF converted to base64
2025-05-15 14:44:03,931 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 14:44:03,931 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 14:44:03,931 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 14:44:03,931 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 14:44:03,931 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 14:44:33,480 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 14:44:33,480 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 14:44:33,480 - INFO - ## Cotidiano do Engenheiro

O mundo est√° mudando em velocidades nunca antes imaginadas. Esse fato, por si s√≥, j√° seria um grande desafio. O problema √© que essas mudan√ßas s√£o acompanhadas de um aumento...
2025-05-15 14:44:33,480 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 14:44:33,480 - INFO - ‚Üí Preparing review prompt...
2025-05-15 14:44:33,480 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 14:44:33,481 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 14:44:35,364 - INFO - ‚úì Review completed successfully
2025-05-15 14:44:35,364 - INFO - Review feedback:
2025-05-15 14:44:35,364 - INFO - Vers√£o 1: [8]

N√£o existe uma vers√£o 2, ent√£o n√£o conseguirei avaliar e atribuir uma nota.
2025-05-15 14:44:35,364 - INFO - Selected contextualization version 1 with score 8
2025-05-15 14:44:35,364 - INFO - üîÑ Creating Google Document for blob: '1Nj7B69IB1SSVn1XeJR8naRS0fXBlKgLS'
2025-05-15 14:44:38,931 - INFO - ‚úÖ Google Document created successfully
2025-05-15 14:44:38,932 - INFO - üìÑ Document ID: 1FOd8xhVLLUj4F-4KrM51cGVhPhIxAU04
2025-05-15 14:44:38,932 - INFO - üîó Document Link: https://drive.google.com/file/d/1FOd8xhVLLUj4F-4KrM51cGVhPhIxAU04/view?usp=drivesdk
2025-05-15 14:44:38,932 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 14:44:38,932 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 14:44:38,932 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:17:23,518 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 16:17:40,132 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 16:17:40,163 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 16:17:40,164 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 16:17:40,164 - INFO - Procurando arquivo de credenciais em:
2025-05-15 16:17:40,164 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 16:17:40,164 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 16:17:40,167 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 16:17:42,241 - INFO - Procurando arquivo de credenciais em:
2025-05-15 16:17:42,241 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 16:18:29,074 - INFO - Recebendo solicita√ß√£o para /api/get_data
2025-05-15 16:18:29,074 - INFO - Par√¢metros de filtro recebidos: ID=None, Nome=None, T√≠tulo NC=None
2025-05-15 16:18:29,084 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 16:18:30,877 - ERROR - Nenhuma contextualiza√ß√£o encontrada
2025-05-15 16:18:32,406 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 16:18:32,406 - INFO - Encontradas 0 contextualiza√ß√µes
2025-05-15 16:18:48,561 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 16:18:50,079 - ERROR - Nenhuma contextualiza√ß√£o encontrada
2025-05-15 16:18:50,194 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:18:50,194 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:18:50,205 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:18:51,554 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 16:18:51,555 - INFO - Encontradas 0 contextualiza√ß√µes
2025-05-15 16:18:52,420 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:18:54,116 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:18:54,117 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:18:54,119 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:18:54,119 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:18:54,976 - INFO - ‚úì Bucket existe: True
2025-05-15 16:18:55,756 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:18:56,007 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:18:56,732 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:18:56,927 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:18:57,606 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:18:57,790 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:18:58,502 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:18:58,687 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:18:59,385 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:18:59,561 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:19:00,316 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:19:00,493 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:19:01,252 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:19:01,435 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:19:02,168 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:19:02,347 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:19:03,092 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:19:03,268 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:19:04,006 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:19:04,182 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:19:04,931 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:19:05,123 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:19:05,856 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:19:06,035 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:19:06,775 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:19:06,775 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:19:06,775 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:19:07,693 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:19:09,556 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:19:09,557 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:19:09,557 - INFO - 
==================================================
2025-05-15 16:19:09,557 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:19:09,558 - INFO - ==================================================
2025-05-15 16:19:09,558 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:19:09,558 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:19:11,069 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747336751.0699632.pdf
2025-05-15 16:19:13,819 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747336751.0699632.pdf
2025-05-15 16:19:13,819 - INFO - ‚úì PDF generated successfully
2025-05-15 16:19:13,819 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:19:13,819 - INFO - ‚úì PDF converted to base64
2025-05-15 16:19:13,819 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:19:13,819 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:19:13,819 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:19:13,819 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:19:13,820 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:19:32,236 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:19:32,236 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:19:32,236 - INFO - ## T√âCNICAS DE PESQUISA

### AMOSTRAGEM

A amostragem √© uma t√©cnica crucial para coletar dados de uma parte representativa de uma popula√ß√£o maior, permitindo que voc√™ fa√ßa infer√™ncias e generaliza√ß√µes...
2025-05-15 16:19:32,236 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:19:32,236 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:19:32,237 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:19:32,237 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:19:34,120 - INFO - ‚úì Review completed successfully
2025-05-15 16:19:34,120 - INFO - Review feedback:
2025-05-15 16:19:34,120 - INFO - Como n√£o h√° nenhuma informa√ß√£o na Vers√£o 2, n√£o consigo avaliar ou atribuir uma nota. Considerando apenas a Vers√£o 1:

Vers√£o 1: [9]

2025-05-15 16:19:34,120 - INFO - Selected contextualization version 1 with score 9
2025-05-15 16:19:34,120 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:19:38,090 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:19:38,090 - INFO - üìÑ Document ID: 1kIRxKdiuutbFdwVffTuJNDLk0oxmU9OU
2025-05-15 16:19:38,091 - INFO - üîó Document Link: https://drive.google.com/file/d/1kIRxKdiuutbFdwVffTuJNDLk0oxmU9OU/view?usp=drivesdk
2025-05-15 16:19:38,091 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:19:38,091 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:19:38,092 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:20:06,903 - INFO - Attempt 1: Received initial JSON response of length: 21177
2025-05-15 16:20:06,903 - WARNING - Invalid JSON: Invalid \escape: line 97 column 1352 (char 10965)
2025-05-15 16:20:06,903 - INFO - Requesting continuation of JSON response...
2025-05-15 16:20:10,156 - INFO - Received continuation of length: 927
2025-05-15 16:20:10,162 - WARNING - Merged JSON is invalid: Invalid \escape: line 97 column 1352 (char 10965)
2025-05-15 16:20:10,164 - INFO - Merged JSON response length: 21165
2025-05-15 16:20:10,164 - WARNING - Cleaned JSON is invalid: Invalid \escape: line 97 column 1352 (char 10965)
2025-05-15 16:20:10,164 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 16:20:10,164 - WARNING - Original JSON is also invalid
2025-05-15 16:20:10,164 - WARNING - Attempting to repair JSON: Invalid \escape: line 97 column 1352 (char 10965)
2025-05-15 16:20:10,167 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:20:10,168 - WARNING - Attempting to repair JSON: Invalid \escape: line 97 column 1352 (char 10965)
2025-05-15 16:20:10,170 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:20:10,171 - WARNING - Attempt 1: JSON validation failed - Invalid \escape: line 97 column 1352 (char 10965)
2025-05-15 16:20:10,171 - INFO - Retrying JSON generation... (attempt 2/3)
2025-05-15 16:20:38,138 - INFO - Attempt 2: Received initial JSON response of length: 21430
2025-05-15 16:20:38,139 - WARNING - Invalid JSON: Invalid \escape: line 97 column 1372 (char 11098)
2025-05-15 16:20:38,139 - INFO - Requesting continuation of JSON response...
2025-05-15 16:20:46,710 - INFO - Received continuation of length: 5049
2025-05-15 16:20:46,715 - WARNING - Merged JSON is invalid: Invalid \escape: line 97 column 1372 (char 11098)
2025-05-15 16:20:46,717 - INFO - Merged JSON response length: 21418
2025-05-15 16:20:46,717 - WARNING - Cleaned JSON is invalid: Invalid \escape: line 97 column 1372 (char 11098)
2025-05-15 16:20:46,717 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 16:20:46,718 - WARNING - Original JSON is also invalid
2025-05-15 16:20:46,718 - WARNING - Attempting to repair JSON: Invalid \escape: line 97 column 1372 (char 11098)
2025-05-15 16:20:46,720 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:20:46,721 - WARNING - Attempting to repair JSON: Invalid \escape: line 97 column 1372 (char 11098)
2025-05-15 16:20:46,724 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:20:46,725 - WARNING - Attempt 2: JSON validation failed - Invalid \escape: line 97 column 1372 (char 11098)
2025-05-15 16:20:46,725 - INFO - Retrying JSON generation... (attempt 3/3)
2025-05-15 16:21:15,642 - INFO - Attempt 3: Received initial JSON response of length: 21281
2025-05-15 16:21:15,642 - WARNING - Invalid JSON: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:15,642 - INFO - Requesting continuation of JSON response...
2025-05-15 16:21:19,711 - INFO - Received continuation of length: 1783
2025-05-15 16:21:19,721 - WARNING - Merged JSON is invalid: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,724 - INFO - Merged JSON response length: 21269
2025-05-15 16:21:19,725 - WARNING - Cleaned JSON is invalid: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,725 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 16:21:19,725 - WARNING - Original JSON is also invalid
2025-05-15 16:21:19,725 - WARNING - Attempting to repair JSON: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,730 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:21:19,730 - WARNING - Attempting to repair JSON: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,732 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:21:19,732 - WARNING - Attempt 3: JSON validation failed - Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,732 - ERROR - ‚ùå Error processing with Gemini chat: Failed to generate valid JSON after 3 attempts: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,732 - ERROR - 
==================================================
2025-05-15 16:21:19,732 - ERROR - ‚ùå PIPELINE ERROR
2025-05-15 16:21:19,733 - ERROR - ==================================================
2025-05-15 16:21:19,733 - ERROR - Error occurred after 130.18 seconds
2025-05-15 16:21:19,733 - ERROR - Error message: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,733 - ERROR - Full traceback:
2025-05-15 16:21:19,734 - ERROR - Traceback (most recent call last):
  File "/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py", line 2459, in process_parallel
    raise Exception(f"JSON reconstruction failed: {json_result.error}")
Exception: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Invalid \escape: line 97 column 1352 (char 11069)

2025-05-15 16:21:19,734 - ERROR - ==================================================
2025-05-15 16:21:19,737 - ERROR - ‚ùå Error processing content: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,737 - ERROR - Error processing file: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Invalid \escape: line 97 column 1352 (char 11069)
2025-05-15 16:21:19,738 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:21:19,738 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:21:19,750 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:21:20,816 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:21:22,801 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:21:22,801 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:21:22,804 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:21:22,804 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:21:24,187 - INFO - ‚úì Bucket existe: True
2025-05-15 16:21:24,386 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:21:25,061 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:21:25,266 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:21:25,943 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:21:26,157 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:21:26,816 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:21:27,031 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:21:27,687 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:21:27,914 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:21:28,552 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:21:28,837 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:21:29,415 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:21:29,766 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:21:30,280 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:21:30,687 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:21:31,142 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:21:31,602 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:21:32,005 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:21:32,514 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:21:32,870 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:21:33,440 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:21:33,760 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:21:34,368 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:21:34,622 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:21:35,358 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:21:35,358 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:21:35,358 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:21:36,272 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:21:38,062 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:21:38,062 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:21:38,062 - INFO - 
==================================================
2025-05-15 16:21:38,062 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:21:38,062 - INFO - ==================================================
2025-05-15 16:21:38,063 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:21:38,063 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:21:38,906 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747336898.9062715.pdf
2025-05-15 16:21:38,906 - INFO - Processed 4 carousel items
2025-05-15 16:21:39,188 - WARNING - Failed to render formula: 404
2025-05-15 16:21:39,189 - INFO - Carousel has 4 items
2025-05-15 16:21:41,287 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747336898.9062715.pdf
2025-05-15 16:21:41,287 - INFO - ‚úì PDF generated successfully
2025-05-15 16:21:41,287 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:21:41,288 - INFO - ‚úì PDF converted to base64
2025-05-15 16:21:41,288 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:21:41,288 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:21:41,288 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:21:41,288 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:21:41,288 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:21:51,387 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:21:51,387 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:21:51,387 - INFO - ## T√©cnicas de Pesquisa

### Vi√©s de Confirma√ß√£o

Tendemos a procurar informa√ß√µes que confirmem nossas cren√ßas preexistentes. Este fen√¥meno, conhecido como vi√©s de confirma√ß√£o, pode distorcer a forma ...
2025-05-15 16:21:51,387 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:21:51,387 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:21:51,387 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:21:51,387 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:21:53,494 - INFO - ‚úì Review completed successfully
2025-05-15 16:21:53,494 - INFO - Review feedback:
2025-05-15 16:21:53,494 - INFO - Considerando que a Vers√£o 2 est√° como "N/A", n√£o √© poss√≠vel atribuir uma nota a ela. Portanto, apenas a Vers√£o 1 ser√° avaliada. Assumindo que h√° uma √°rea alvo para a qual a vers√£o 1 deve ser avaliada e que essa √°rea engloba pesquisa, estat√≠stica e tomada de decis√£o, a nota seria:

Vers√£o 1: [8]

2025-05-15 16:21:53,495 - INFO - Selected contextualization version 1 with score 8
2025-05-15 16:21:53,495 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:21:57,611 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:21:57,612 - INFO - üìÑ Document ID: 1zpFvGtxxtf5Cnu8Zue0nV01J8LOL_8mQ
2025-05-15 16:21:57,612 - INFO - üîó Document Link: https://drive.google.com/file/d/1zpFvGtxxtf5Cnu8Zue0nV01J8LOL_8mQ/view?usp=drivesdk
2025-05-15 16:21:57,612 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:21:57,612 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:21:57,613 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:22:13,311 - INFO - Attempt 1: Received initial JSON response of length: 10710
2025-05-15 16:22:13,313 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:22:13,313 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:22:13,313 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:22:13,313 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:22:13,323 - INFO - Creating folder structure: JSON
2025-05-15 16:22:18,554 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:22:18,554 - INFO - üìÑ File ID: 1yY_Fe9fGtjxIGIWGYbVuQIEH7rSWRjh4
2025-05-15 16:22:18,555 - INFO - üîó File Link: https://drive.google.com/file/d/1yY_Fe9fGtjxIGIWGYbVuQIEH7rSWRjh4/view?usp=drivesdk
2025-05-15 16:22:18,555 - INFO - ‚úì Valid JSON generated
2025-05-15 16:22:18,555 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:22:18,555 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:22:18,556 - INFO - Generated HTML from JSON with title: T√©cnicas de Pesquisa
2025-05-15 16:22:18,556 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√©cnicas de Pesquisa</title>
    <link href=...
2025-05-15 16:22:18,556 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:22:18,556 - INFO - 
==================================================
2025-05-15 16:22:18,556 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:22:18,556 - INFO - ==================================================
2025-05-15 16:22:18,557 - INFO - Total Processing Time: 40.49 seconds
2025-05-15 16:22:18,557 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:22:18,557 - INFO - Content ID: 17879
2025-05-15 16:22:18,557 - INFO - Final Content Size: 13054 characters
2025-05-15 16:22:18,557 - INFO - ==================================================
2025-05-15 16:22:18,557 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:22:18,558 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:22:18,558 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:22:18,565 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:22:19,483 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:22:21,378 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:22:21,378 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:22:21,381 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:22:21,381 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:22:21,935 - INFO - ‚úì Bucket existe: True
2025-05-15 16:22:22,191 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:22:22,800 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:22:23,071 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:22:23,871 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:22:24,054 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:22:24,750 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:22:24,998 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:22:25,668 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:22:25,899 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:22:26,580 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:22:26,841 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:22:27,445 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:22:28,154 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:22:28,339 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:22:29,074 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:22:29,254 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:22:30,030 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:22:30,237 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:22:30,967 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:22:31,144 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:22:31,882 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:22:32,073 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:22:32,820 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:22:32,998 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:22:33,742 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:22:33,742 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:22:33,742 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:22:34,158 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:22:34,935 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:22:34,935 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:22:34,936 - INFO - 
==================================================
2025-05-15 16:22:34,936 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:22:34,936 - INFO - ==================================================
2025-05-15 16:22:34,936 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:22:34,936 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:22:36,723 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747336956.7234566.pdf
2025-05-15 16:22:38,156 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747336956.7234566.pdf
2025-05-15 16:22:38,157 - INFO - ‚úì PDF generated successfully
2025-05-15 16:22:38,157 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:22:38,157 - INFO - ‚úì PDF converted to base64
2025-05-15 16:22:38,157 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:22:38,157 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:22:38,157 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:22:38,157 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:22:38,158 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:22:50,438 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:22:50,438 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:22:50,438 - INFO - ## T√âCNICAS DE PESQUISA

### AMOSTRAGEM

A amostragem √© um processo crucial em qualquer investiga√ß√£o, seja ela focada em entender a preval√™ncia de uma doen√ßa, avaliar a efic√°cia de um novo tratamento ...
2025-05-15 16:22:50,438 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:22:50,438 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:22:50,438 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:22:50,438 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:22:52,230 - INFO - ‚úì Review completed successfully
2025-05-15 16:22:52,230 - INFO - Review feedback:
2025-05-15 16:22:52,230 - INFO - VERS√ÉO 1: [8]
VERS√ÉO 2: [1]

2025-05-15 16:22:52,230 - WARNING - Could not parse scores from review result, using first contextualization
2025-05-15 16:22:52,230 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:22:55,890 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:22:55,890 - INFO - üìÑ Document ID: 1CaF0sLmvy-AB5PrSfAJv3g7ziQvgignp
2025-05-15 16:22:55,890 - INFO - üîó Document Link: https://drive.google.com/file/d/1CaF0sLmvy-AB5PrSfAJv3g7ziQvgignp/view?usp=drivesdk
2025-05-15 16:22:55,890 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:22:55,890 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:22:55,891 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:23:30,067 - INFO - Attempt 1: Received initial JSON response of length: 23020
2025-05-15 16:23:30,072 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:23:30,072 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:23:30,073 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:23:30,073 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:23:30,082 - INFO - Creating folder structure: JSON
2025-05-15 16:23:40,097 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:23:40,098 - INFO - üìÑ File ID: 1jFmONCTTtLhlkVFCSVrNpJUgce1I_3Co
2025-05-15 16:23:40,098 - INFO - üîó File Link: https://drive.google.com/file/d/1jFmONCTTtLhlkVFCSVrNpJUgce1I_3Co/view?usp=drivesdk
2025-05-15 16:23:40,098 - INFO - ‚úì Valid JSON generated
2025-05-15 16:23:40,098 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:23:40,098 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:23:40,098 - INFO - Generated HTML from JSON with title: Representa√ß√µes gr√°ficas
2025-05-15 16:23:40,098 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Representa√ß√µes gr√°ficas</title>
    <link hr...
2025-05-15 16:23:40,098 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:23:40,098 - INFO - 
==================================================
2025-05-15 16:23:40,098 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:23:40,098 - INFO - ==================================================
2025-05-15 16:23:40,098 - INFO - Total Processing Time: 65.16 seconds
2025-05-15 16:23:40,099 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:23:40,099 - INFO - Content ID: 17957
2025-05-15 16:23:40,099 - INFO - Final Content Size: 18575 characters
2025-05-15 16:23:40,099 - INFO - ==================================================
2025-05-15 16:23:40,099 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:23:40,100 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:23:40,100 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:23:40,106 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:23:41,252 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:23:42,942 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:23:42,942 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:23:42,943 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:23:42,944 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:23:44,240 - INFO - ‚úì Bucket existe: True
2025-05-15 16:23:44,485 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:23:45,100 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:23:45,370 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:23:45,971 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:23:46,247 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:23:46,845 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:23:47,125 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:23:47,706 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:23:48,002 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:23:48,571 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:23:48,950 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:23:49,438 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:23:49,877 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:23:50,307 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:23:50,812 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:23:51,179 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:23:51,810 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:23:52,072 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:23:52,757 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:23:52,963 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:23:53,704 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:23:53,883 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:23:54,619 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:23:54,796 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:23:55,538 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:23:55,538 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:23:55,538 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:23:56,460 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:23:58,278 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:23:58,278 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:23:58,278 - INFO - 
==================================================
2025-05-15 16:23:58,279 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:23:58,279 - INFO - ==================================================
2025-05-15 16:23:58,279 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:23:58,279 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:23:59,029 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337039.029362.pdf
2025-05-15 16:24:01,231 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337039.029362.pdf
2025-05-15 16:24:01,231 - INFO - ‚úì PDF generated successfully
2025-05-15 16:24:01,231 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:24:01,231 - INFO - ‚úì PDF converted to base64
2025-05-15 16:24:01,231 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:24:01,231 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:24:01,231 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:24:01,231 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:24:01,231 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:24:14,511 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:24:14,511 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:24:14,511 - INFO - ## T√©cnicas de Pesquisa

### Tipos de Dados

Dados s√£o fatos, n√∫meros e outras informa√ß√µes coletadas para serem analisadas. Eles podem ser qualitativos (descritivos) ou quantitativos (num√©ricos).

*  ...
2025-05-15 16:24:14,511 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:24:14,511 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:24:14,511 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:24:14,512 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:24:16,351 - INFO - ‚úì Review completed successfully
2025-05-15 16:24:16,352 - INFO - Review feedback:
2025-05-15 16:24:16,352 - INFO - Como voc√™ forneceu apenas a Vers√£o 1, n√£o consigo avaliar e comparar com outras vers√µes.

Vers√£o 1: [8]
Vers√£o 2: N/A

2025-05-15 16:24:16,352 - INFO - Selected contextualization version 1 with score 8
2025-05-15 16:24:16,352 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:24:20,171 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:24:20,171 - INFO - üìÑ Document ID: 1sgenLisquOIirteuvl4SsHz3cNJOFv2C
2025-05-15 16:24:20,172 - INFO - üîó Document Link: https://drive.google.com/file/d/1sgenLisquOIirteuvl4SsHz3cNJOFv2C/view?usp=drivesdk
2025-05-15 16:24:20,172 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:24:20,172 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:24:20,173 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:24:50,492 - INFO - Attempt 1: Received initial JSON response of length: 19320
2025-05-15 16:24:50,492 - WARNING - Invalid JSON: Invalid \uXXXX escape: line 279 column 255 (char 10318)
2025-05-15 16:24:50,493 - INFO - Requesting continuation of JSON response...
2025-05-15 16:24:55,405 - INFO - Received continuation of length: 2889
2025-05-15 16:24:55,411 - WARNING - Merged JSON is invalid: Invalid \uXXXX escape: line 279 column 255 (char 10318)
2025-05-15 16:24:55,413 - INFO - Merged JSON response length: 19308
2025-05-15 16:24:55,414 - WARNING - Cleaned JSON is invalid: Invalid \uXXXX escape: line 279 column 255 (char 10318)
2025-05-15 16:24:55,414 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 16:24:55,414 - WARNING - Original JSON is also invalid
2025-05-15 16:24:55,414 - WARNING - Attempting to repair JSON: Invalid \uXXXX escape: line 279 column 255 (char 10318)
2025-05-15 16:24:55,418 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:24:55,418 - WARNING - Attempting to repair JSON: Invalid \uXXXX escape: line 279 column 255 (char 10318)
2025-05-15 16:24:55,421 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:24:55,422 - WARNING - Attempt 1: JSON validation failed - Invalid \uXXXX escape: line 279 column 255 (char 10318)
2025-05-15 16:24:55,422 - INFO - Retrying JSON generation... (attempt 2/3)
2025-05-15 16:25:25,968 - INFO - Attempt 2: Received initial JSON response of length: 19335
2025-05-15 16:25:25,968 - WARNING - Invalid JSON: Invalid \uXXXX escape: line 279 column 402 (char 10465)
2025-05-15 16:25:25,968 - INFO - Requesting continuation of JSON response...
2025-05-15 16:25:32,675 - INFO - Received continuation of length: 3370
2025-05-15 16:25:32,681 - WARNING - Merged JSON is invalid: Invalid \uXXXX escape: line 279 column 402 (char 10465)
2025-05-15 16:25:32,682 - INFO - Merged JSON response length: 19323
2025-05-15 16:25:32,682 - WARNING - Cleaned JSON is invalid: Invalid \uXXXX escape: line 279 column 402 (char 10465)
2025-05-15 16:25:32,682 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 16:25:32,683 - WARNING - Original JSON is also invalid
2025-05-15 16:25:32,683 - WARNING - Attempting to repair JSON: Invalid \uXXXX escape: line 279 column 402 (char 10465)
2025-05-15 16:25:32,686 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:25:32,686 - WARNING - Attempting to repair JSON: Invalid \uXXXX escape: line 279 column 402 (char 10465)
2025-05-15 16:25:32,689 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:25:32,689 - WARNING - Attempt 2: JSON validation failed - Invalid \uXXXX escape: line 279 column 402 (char 10465)
2025-05-15 16:25:32,689 - INFO - Retrying JSON generation... (attempt 3/3)
2025-05-15 16:26:00,443 - INFO - Attempt 3: Received initial JSON response of length: 18753
2025-05-15 16:26:00,447 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:26:00,448 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:26:00,448 - INFO - ‚úì Generated JSON is valid on attempt 3
2025-05-15 16:26:00,448 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:26:00,465 - INFO - Creating folder structure: JSON
2025-05-15 16:26:04,861 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:26:04,862 - INFO - üìÑ File ID: 1F_kzhu2HEuWDRNuffOIMVJJUgDAyPzoT
2025-05-15 16:26:04,862 - INFO - üîó File Link: https://drive.google.com/file/d/1F_kzhu2HEuWDRNuffOIMVJJUgDAyPzoT/view?usp=drivesdk
2025-05-15 16:26:04,862 - INFO - ‚úì Valid JSON generated
2025-05-15 16:26:04,862 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:26:04,862 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:26:04,862 - INFO - Generated HTML from JSON with title: M√£o na massa
2025-05-15 16:26:04,862 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√£o na massa</title>
    <link href="https:/...
2025-05-15 16:26:04,862 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:26:04,862 - INFO - 
==================================================
2025-05-15 16:26:04,863 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:26:04,863 - INFO - ==================================================
2025-05-15 16:26:04,863 - INFO - Total Processing Time: 126.58 seconds
2025-05-15 16:26:04,863 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:26:04,863 - INFO - Content ID: 17990
2025-05-15 16:26:04,863 - INFO - Final Content Size: 6827 characters
2025-05-15 16:26:04,863 - INFO - ==================================================
2025-05-15 16:26:04,863 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:26:04,864 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:26:04,864 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:26:04,871 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:26:06,087 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:26:07,885 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:26:07,886 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:26:07,887 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:26:07,887 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:26:08,616 - INFO - ‚úì Bucket existe: True
2025-05-15 16:26:09,295 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:26:09,490 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:26:10,195 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:26:10,396 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:26:11,096 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:26:11,277 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:26:11,970 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:26:12,177 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:26:12,963 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:26:13,175 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:26:13,891 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:26:14,068 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:26:14,906 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:26:15,246 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:26:15,837 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:26:16,120 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:26:16,764 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:26:16,995 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:26:17,781 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:26:17,959 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:26:18,707 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:26:18,892 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:26:19,631 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:26:19,813 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:26:20,564 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:26:20,565 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:26:20,565 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:26:21,496 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:26:23,339 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:26:23,339 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:26:23,339 - INFO - 
==================================================
2025-05-15 16:26:23,340 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:26:23,340 - INFO - ==================================================
2025-05-15 16:26:23,340 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:26:23,340 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:26:24,168 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337184.1686409.pdf
2025-05-15 16:26:26,464 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337184.1686409.pdf
2025-05-15 16:26:26,465 - INFO - ‚úì PDF generated successfully
2025-05-15 16:26:26,466 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:26:26,467 - INFO - ‚úì PDF converted to base64
2025-05-15 16:26:26,467 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:26:26,468 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:26:26,468 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:26:26,469 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:26:26,472 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:26:36,889 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:26:36,889 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:26:36,890 - INFO - ## T√©cnicas de Pesquisa

### Vari√°veis

As propriedades que os pesquisadores estudam s√£o chamadas de *vari√°veis*. Uma **vari√°vel** √© algo que pode assumir diferentes valores, como altura, peso, idade ...
2025-05-15 16:26:36,890 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:26:36,890 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:26:36,890 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:26:36,890 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:26:38,533 - INFO - ‚úì Review completed successfully
2025-05-15 16:26:38,534 - INFO - Review feedback:
2025-05-15 16:26:38,534 - INFO - Vers√£o 1: [9]
Vers√£o 2: [1]

2025-05-15 16:26:38,534 - INFO - Selected contextualization version 1 with score 9
2025-05-15 16:26:38,534 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:26:42,370 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:26:42,370 - INFO - üìÑ Document ID: 1XQqU7PMP1hBE4yF1-7i6_gVCjBzt39uu
2025-05-15 16:26:42,371 - INFO - üîó Document Link: https://drive.google.com/file/d/1XQqU7PMP1hBE4yF1-7i6_gVCjBzt39uu/view?usp=drivesdk
2025-05-15 16:26:42,371 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:26:42,371 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:26:42,371 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:26:53,096 - INFO - Attempt 1: Received initial JSON response of length: 8412
2025-05-15 16:26:53,098 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:26:53,098 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:26:53,098 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:26:53,098 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:26:53,112 - INFO - Creating folder structure: JSON
2025-05-15 16:26:57,131 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:26:57,132 - INFO - üìÑ File ID: 18ZDy0yY1x2660H88mI1y77q7MbBJl7DS
2025-05-15 16:26:57,132 - INFO - üîó File Link: https://drive.google.com/file/d/18ZDy0yY1x2660H88mI1y77q7MbBJl7DS/view?usp=drivesdk
2025-05-15 16:26:57,132 - INFO - ‚úì Valid JSON generated
2025-05-15 16:26:57,132 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:26:57,132 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:26:57,132 - INFO - Generated HTML from JSON with title: Teoria na pr√°tica
2025-05-15 16:26:57,132 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teoria na pr√°tica</title>
    <link href="ht...
2025-05-15 16:26:57,132 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:26:57,133 - INFO - 
==================================================
2025-05-15 16:26:57,133 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:26:57,133 - INFO - ==================================================
2025-05-15 16:26:57,133 - INFO - Total Processing Time: 33.79 seconds
2025-05-15 16:26:57,133 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:26:57,133 - INFO - Content ID: 18002
2025-05-15 16:26:57,133 - INFO - Final Content Size: 13565 characters
2025-05-15 16:26:57,133 - INFO - ==================================================
2025-05-15 16:26:57,133 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:26:57,134 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:26:57,134 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:26:57,141 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:26:58,293 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:27:00,112 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:27:00,113 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:27:00,114 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:27:00,114 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:27:01,374 - INFO - ‚úì Bucket existe: True
2025-05-15 16:27:01,586 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:27:02,244 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:27:02,461 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:27:03,112 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:27:03,330 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:27:03,977 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:27:04,205 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:27:04,843 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:27:05,086 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:27:05,705 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:27:06,008 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:27:06,571 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:27:06,929 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:27:07,434 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:27:07,846 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:27:08,294 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:27:08,760 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:27:09,179 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:27:09,699 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:27:10,049 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:27:10,639 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:27:10,919 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:27:11,568 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:27:11,784 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:27:12,500 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:27:12,501 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:27:12,501 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:27:13,422 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:27:15,223 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:27:15,224 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:27:15,224 - INFO - 
==================================================
2025-05-15 16:27:15,224 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:27:15,224 - INFO - ==================================================
2025-05-15 16:27:15,224 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:27:15,224 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:27:15,950 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337235.9506197.pdf
2025-05-15 16:27:17,222 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337235.9506197.pdf
2025-05-15 16:27:17,222 - INFO - ‚úì PDF generated successfully
2025-05-15 16:27:17,222 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:27:17,223 - INFO - ‚úì PDF converted to base64
2025-05-15 16:27:17,223 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:27:17,223 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:27:17,223 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:27:17,223 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:27:17,223 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:27:30,709 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:27:30,709 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:27:30,709 - INFO - ## T√©cnicas de Pesquisa

### Mensura√ß√£o

Mensurar significa determinar a intensidade ou quantidade de alguma coisa. Em pesquisa, a mensura√ß√£o envolve a atribui√ß√£o de n√∫meros ou outros s√≠mbolos a carac...
2025-05-15 16:27:30,710 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:27:30,710 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:27:30,710 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:27:30,710 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:27:32,537 - INFO - ‚úì Review completed successfully
2025-05-15 16:27:32,538 - INFO - Review feedback:
2025-05-15 16:27:32,538 - INFO - Vers√£o 1: [9]
Vers√£o 2: [1]


2025-05-15 16:27:32,538 - INFO - Selected contextualization version 1 with score 9
2025-05-15 16:27:32,538 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:27:36,273 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:27:36,273 - INFO - üìÑ Document ID: 1Bq-1HDbZgiKI_WKr9KSjRyP8IHhjG08K
2025-05-15 16:27:36,273 - INFO - üîó Document Link: https://drive.google.com/file/d/1Bq-1HDbZgiKI_WKr9KSjRyP8IHhjG08K/view?usp=drivesdk
2025-05-15 16:27:36,273 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:27:36,273 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:27:36,274 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:27:45,021 - INFO - Attempt 1: Received initial JSON response of length: 5174
2025-05-15 16:27:45,023 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:27:45,023 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:27:45,023 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:27:45,023 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:27:45,034 - INFO - Creating folder structure: JSON
2025-05-15 16:27:49,275 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:27:49,276 - INFO - üìÑ File ID: 10NvS3av_enrSvF-U486MxihNpd6F3KBa
2025-05-15 16:27:49,276 - INFO - üîó File Link: https://drive.google.com/file/d/10NvS3av_enrSvF-U486MxihNpd6F3KBa/view?usp=drivesdk
2025-05-15 16:27:49,276 - INFO - ‚úì Valid JSON generated
2025-05-15 16:27:49,276 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:27:49,276 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:27:49,276 - INFO - Generated HTML from JSON with title: Verificando o aprendizado
2025-05-15 16:27:49,277 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificando o aprendizado</title>
    <link ...
2025-05-15 16:27:49,277 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:27:49,277 - INFO - 
==================================================
2025-05-15 16:27:49,277 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:27:49,277 - INFO - ==================================================
2025-05-15 16:27:49,277 - INFO - Total Processing Time: 34.05 seconds
2025-05-15 16:27:49,277 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:27:49,277 - INFO - Content ID: 18029
2025-05-15 16:27:49,277 - INFO - Final Content Size: 6336 characters
2025-05-15 16:27:49,277 - INFO - ==================================================
2025-05-15 16:27:49,278 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:27:49,279 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:27:49,279 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:27:49,284 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:27:50,379 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:27:52,177 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:27:52,177 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:27:52,179 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:27:52,179 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:27:53,152 - INFO - ‚úì Bucket existe: True
2025-05-15 16:27:53,591 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:27:53,832 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:27:54,499 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:27:54,695 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:27:55,031 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:27:55,363 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:27:55,909 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:27:56,226 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:27:56,823 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:27:57,090 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:27:57,767 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:27:57,948 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:27:58,699 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:27:58,877 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:27:59,625 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:27:59,800 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:28:00,566 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:28:00,759 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:28:00,990 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:28:01,635 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:28:01,929 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:28:02,275 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:28:02,575 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:28:03,140 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:28:03,531 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:28:03,532 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:28:03,532 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:28:04,442 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:28:06,074 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:28:06,075 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:28:06,075 - INFO - 
==================================================
2025-05-15 16:28:06,075 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:28:06,075 - INFO - ==================================================
2025-05-15 16:28:06,075 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:28:06,075 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:28:07,326 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337287.3268127.pdf
2025-05-15 16:28:08,826 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337287.3268127.pdf
2025-05-15 16:28:08,826 - INFO - ‚úì PDF generated successfully
2025-05-15 16:28:08,827 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:28:08,827 - INFO - ‚úì PDF converted to base64
2025-05-15 16:28:08,827 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:28:08,827 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:28:08,827 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:28:08,827 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:28:08,827 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:28:23,563 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:28:23,563 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:28:23,563 - INFO - ## T√©cnicas de Pesquisa

### Mensura√ß√£o

A **mensura√ß√£o** √© o processo de determinar a descri√ß√£o ou a quantidade num√©rica de alguma caracter√≠stica. Ao medir, √© poss√≠vel registrar as observa√ß√µes de for...
2025-05-15 16:28:23,563 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:28:23,563 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:28:23,563 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:28:23,563 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:28:25,216 - INFO - ‚úì Review completed successfully
2025-05-15 16:28:25,216 - INFO - Review feedback:
2025-05-15 16:28:25,216 - INFO - Vers√£o 1: [9]
Vers√£o 2: [1]

2025-05-15 16:28:25,217 - INFO - Selected contextualization version 1 with score 9
2025-05-15 16:28:25,217 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:28:30,144 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:28:30,144 - INFO - üìÑ Document ID: 1xoCqKtEQRzxM12wZRqIGAgWck0L52wEn
2025-05-15 16:28:30,144 - INFO - üîó Document Link: https://drive.google.com/file/d/1xoCqKtEQRzxM12wZRqIGAgWck0L52wEn/view?usp=drivesdk
2025-05-15 16:28:30,144 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:28:30,145 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:28:30,145 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:28:53,862 - INFO - Attempt 1: Received initial JSON response of length: 13739
2025-05-15 16:28:53,865 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:28:53,865 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:28:53,866 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:28:53,866 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:28:53,879 - INFO - Creating folder structure: JSON
2025-05-15 16:28:58,927 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:28:58,927 - INFO - üìÑ File ID: 1wMhXWEKK-gISbiW7yBewC-b_UpJIcvaz
2025-05-15 16:28:58,928 - INFO - üîó File Link: https://drive.google.com/file/d/1wMhXWEKK-gISbiW7yBewC-b_UpJIcvaz/view?usp=drivesdk
2025-05-15 16:28:58,928 - INFO - ‚úì Valid JSON generated
2025-05-15 16:28:58,928 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:28:58,929 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:28:58,929 - INFO - Generated HTML from JSON with title: Medidas de posi√ß√£o ou tend√™ncia central
2025-05-15 16:28:58,929 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medidas de posi√ß√£o ou tend√™ncia central</tit...
2025-05-15 16:28:58,930 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:28:58,930 - INFO - 
==================================================
2025-05-15 16:28:58,930 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:28:58,930 - INFO - ==================================================
2025-05-15 16:28:58,930 - INFO - Total Processing Time: 52.86 seconds
2025-05-15 16:28:58,930 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:28:58,930 - INFO - Content ID: 18074
2025-05-15 16:28:58,930 - INFO - Final Content Size: 16477 characters
2025-05-15 16:28:58,930 - INFO - ==================================================
2025-05-15 16:28:58,930 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:28:58,931 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:28:58,931 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:28:58,937 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:29:00,152 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:29:01,967 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:29:01,967 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:29:01,969 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:29:01,969 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:29:02,532 - INFO - ‚úì Bucket existe: True
2025-05-15 16:29:03,485 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:29:03,672 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:29:04,363 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:29:04,540 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:29:05,234 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:29:05,416 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:29:06,116 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:29:06,293 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:29:06,994 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:29:07,173 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:29:07,921 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:29:08,094 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:29:08,843 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:29:09,017 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:29:09,771 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:29:09,953 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:29:10,690 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:29:10,871 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:29:11,595 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:29:11,773 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:29:12,518 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:29:12,697 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:29:13,473 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:29:13,650 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:29:14,408 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:29:14,408 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:29:14,408 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:29:15,333 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:29:17,134 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:29:17,134 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:29:17,134 - INFO - 
==================================================
2025-05-15 16:29:17,134 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:29:17,134 - INFO - ==================================================
2025-05-15 16:29:17,134 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:29:17,134 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:29:17,791 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337357.7912674.pdf
2025-05-15 16:29:18,148 - WARNING - Failed to render formula: 404
2025-05-15 16:29:18,424 - WARNING - Failed to render formula: 404
2025-05-15 16:29:18,779 - WARNING - Failed to render formula: 404
2025-05-15 16:29:19,073 - WARNING - Failed to render formula: 404
2025-05-15 16:29:19,418 - WARNING - Failed to render formula: 404
2025-05-15 16:29:20,984 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337357.7912674.pdf
2025-05-15 16:29:20,984 - INFO - ‚úì PDF generated successfully
2025-05-15 16:29:20,984 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:29:20,985 - INFO - ‚úì PDF converted to base64
2025-05-15 16:29:20,985 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:29:20,985 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:29:20,985 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:29:20,985 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:29:20,986 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:29:35,482 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:29:35,483 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:29:35,483 - INFO - ## T√©cnicas de Pesquisa

### O que √© pesquisa?

Pesquisa √© o processo sistem√°tico de coleta e an√°lise de informa√ß√µes para responder a uma pergunta ou resolver um problema. √â um processo essencial em d...
2025-05-15 16:29:35,483 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:29:35,483 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:29:35,483 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:29:35,483 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:29:37,227 - INFO - ‚úì Review completed successfully
2025-05-15 16:29:37,227 - INFO - Review feedback:
2025-05-15 16:29:37,227 - INFO - Vers√£o 1: [9]
Vers√£o 2: [2]

2025-05-15 16:29:37,227 - INFO - Selected contextualization version 1 with score 9
2025-05-15 16:29:37,227 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:29:40,673 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:29:40,673 - INFO - üìÑ Document ID: 1lP6LTUMSAwk14RLccM4Dx10jb5EO7mqt
2025-05-15 16:29:40,673 - INFO - üîó Document Link: https://drive.google.com/file/d/1lP6LTUMSAwk14RLccM4Dx10jb5EO7mqt/view?usp=drivesdk
2025-05-15 16:29:40,673 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:29:40,673 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:29:40,673 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:29:59,692 - INFO - Attempt 1: Received initial JSON response of length: 15399
2025-05-15 16:29:59,695 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:29:59,695 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:29:59,696 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:29:59,696 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:29:59,702 - INFO - Creating folder structure: JSON
2025-05-15 16:30:03,898 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:30:03,899 - INFO - üìÑ File ID: 1WFPa1xI3fNB000er8jzxGEFJsYPD3_ny
2025-05-15 16:30:03,899 - INFO - üîó File Link: https://drive.google.com/file/d/1WFPa1xI3fNB000er8jzxGEFJsYPD3_ny/view?usp=drivesdk
2025-05-15 16:30:03,899 - INFO - ‚úì Valid JSON generated
2025-05-15 16:30:03,899 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:30:03,899 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:30:03,900 - ERROR - ‚ùå HTML generation failed: 'NoneType' object has no attribute 'startswith'
2025-05-15 16:30:03,900 - ERROR - 
==================================================
2025-05-15 16:30:03,900 - ERROR - ‚ùå PIPELINE ERROR
2025-05-15 16:30:03,900 - ERROR - ==================================================
2025-05-15 16:30:03,900 - ERROR - Error occurred after 46.77 seconds
2025-05-15 16:30:03,900 - ERROR - Error message: HTML generation failed: HTML generation failed: 'NoneType' object has no attribute 'startswith'
2025-05-15 16:30:03,900 - ERROR - Full traceback:
2025-05-15 16:30:03,900 - ERROR - Traceback (most recent call last):
  File "/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py", line 2490, in process_parallel
    raise Exception(f"HTML generation failed: {html_result.error}")
Exception: HTML generation failed: HTML generation failed: 'NoneType' object has no attribute 'startswith'

2025-05-15 16:30:03,900 - ERROR - ==================================================
2025-05-15 16:30:03,901 - ERROR - ‚ùå Error processing content: Processing failed: HTML generation failed: HTML generation failed: 'NoneType' object has no attribute 'startswith'
2025-05-15 16:30:03,901 - ERROR - Error processing file: Processing failed: HTML generation failed: HTML generation failed: 'NoneType' object has no attribute 'startswith'
2025-05-15 16:30:03,902 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:30:03,902 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:30:03,918 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:30:04,939 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:30:06,645 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:30:06,646 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:30:06,647 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:30:06,647 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:30:07,911 - INFO - ‚úì Bucket existe: True
2025-05-15 16:30:08,185 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:30:08,781 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:30:09,662 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:30:09,861 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:30:10,604 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:30:10,822 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:30:11,552 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:30:11,731 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:30:12,438 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:30:12,628 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:30:13,378 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:30:13,551 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:30:14,307 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:30:14,485 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:30:15,095 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:30:15,967 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:30:16,197 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:30:16,827 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:30:17,105 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:30:17,693 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:30:18,021 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:30:18,587 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:30:18,956 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:30:19,467 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:30:19,929 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:30:19,930 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:30:19,930 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:30:20,847 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:30:22,630 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:30:22,631 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:30:22,631 - INFO - 
==================================================
2025-05-15 16:30:22,631 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:30:22,631 - INFO - ==================================================
2025-05-15 16:30:22,631 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:30:22,631 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:30:23,443 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337423.4431112.pdf
2025-05-15 16:30:23,443 - INFO - Processed 3 carousel items
2025-05-15 16:30:23,793 - WARNING - Failed to render formula: 404
2025-05-15 16:30:24,085 - WARNING - Failed to render formula: 404
2025-05-15 16:30:24,366 - WARNING - Failed to render formula: 404
2025-05-15 16:30:24,657 - WARNING - Failed to render formula: 404
2025-05-15 16:30:24,659 - INFO - Carousel has 3 items
2025-05-15 16:30:26,812 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337423.4431112.pdf
2025-05-15 16:30:26,813 - INFO - ‚úì PDF generated successfully
2025-05-15 16:30:26,813 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:30:26,813 - INFO - ‚úì PDF converted to base64
2025-05-15 16:30:26,813 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:30:26,813 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:30:26,813 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:30:26,813 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:30:26,813 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:30:44,284 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:30:44,284 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:30:44,284 - INFO - ## T√©cnicas de Pesquisa

### Tipos de Dados

Os dados podem vir de muitas fontes. Os dados podem ser categorizados de diversas formas.

**Dados Qualitativos vs. Quantitativos**

*Dados qualitativos* (...
2025-05-15 16:30:44,284 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:30:44,284 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:30:44,284 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:30:44,284 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:30:46,082 - INFO - ‚úì Review completed successfully
2025-05-15 16:30:46,082 - INFO - Review feedback:
2025-05-15 16:30:46,082 - INFO - Vers√£o 1: [8]
Vers√£o 2: [1]

2025-05-15 16:30:46,082 - INFO - Selected contextualization version 1 with score 8
2025-05-15 16:30:46,082 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:30:49,873 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:30:49,873 - INFO - üìÑ Document ID: 1foPSA6KM96b3xpUd5fvBKsRjGhzdaoKW
2025-05-15 16:30:49,874 - INFO - üîó Document Link: https://drive.google.com/file/d/1foPSA6KM96b3xpUd5fvBKsRjGhzdaoKW/view?usp=drivesdk
2025-05-15 16:30:49,874 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:30:49,874 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:30:49,874 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:31:19,384 - INFO - Attempt 1: Received initial JSON response of length: 20681
2025-05-15 16:31:19,389 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:31:19,389 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:31:19,389 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:31:19,389 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:31:19,396 - INFO - Creating folder structure: JSON
2025-05-15 16:31:23,499 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:31:23,500 - INFO - üìÑ File ID: 1EC77RNCubQBLhmZK2rnO5ZaUmhxf5eVK
2025-05-15 16:31:23,500 - INFO - üîó File Link: https://drive.google.com/file/d/1EC77RNCubQBLhmZK2rnO5ZaUmhxf5eVK/view?usp=drivesdk
2025-05-15 16:31:23,500 - INFO - ‚úì Valid JSON generated
2025-05-15 16:31:23,500 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:31:23,500 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:31:23,500 - INFO - Processed 3 carousel items
2025-05-15 16:31:23,500 - INFO - Generated HTML from JSON with title: Mediana \(\left(M_D\right)\)
2025-05-15 16:31:23,500 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mediana \(\left(M_D\right)\)</title>
    <li...
2025-05-15 16:31:23,500 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:31:23,500 - INFO - 
==================================================
2025-05-15 16:31:23,501 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:31:23,501 - INFO - ==================================================
2025-05-15 16:31:23,501 - INFO - Total Processing Time: 60.87 seconds
2025-05-15 16:31:23,501 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:31:23,501 - INFO - Content ID: 18112
2025-05-15 16:31:23,501 - INFO - Final Content Size: 19754 characters
2025-05-15 16:31:23,501 - INFO - ==================================================
2025-05-15 16:31:23,501 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:31:23,502 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:31:23,502 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:31:23,508 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:31:24,400 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:31:26,248 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:31:26,248 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:31:26,250 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:31:26,250 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:31:27,612 - INFO - ‚úì Bucket existe: True
2025-05-15 16:31:27,888 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:31:28,477 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:31:28,767 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:31:29,348 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:31:29,651 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:31:30,219 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:31:30,542 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:31:31,083 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:31:31,416 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:31:31,959 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:31:32,382 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:31:32,843 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:31:33,307 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:31:33,731 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:31:34,252 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:31:34,592 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:31:35,200 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:31:35,461 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:31:36,108 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:31:36,320 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:31:37,027 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:31:37,205 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:31:37,961 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:31:38,134 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:31:38,886 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:31:38,887 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:31:38,887 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:31:39,804 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:31:41,604 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:31:41,604 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:31:41,604 - INFO - 
==================================================
2025-05-15 16:31:41,604 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:31:41,604 - INFO - ==================================================
2025-05-15 16:31:41,604 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:31:41,604 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:31:42,287 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337502.2875025.pdf
2025-05-15 16:31:42,514 - WARNING - Failed to render formula: 404
2025-05-15 16:31:42,797 - WARNING - Failed to render formula: 404
2025-05-15 16:31:43,076 - WARNING - Failed to render formula: 404
2025-05-15 16:31:43,422 - WARNING - Failed to render formula: 404
2025-05-15 16:31:43,657 - WARNING - Failed to render formula: 404
2025-05-15 16:31:43,934 - WARNING - Failed to render formula: 404
2025-05-15 16:31:45,377 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337502.2875025.pdf
2025-05-15 16:31:45,377 - INFO - ‚úì PDF generated successfully
2025-05-15 16:31:45,378 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:31:45,378 - INFO - ‚úì PDF converted to base64
2025-05-15 16:31:45,378 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:31:45,378 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:31:45,378 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:31:45,378 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:31:45,378 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:32:00,961 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:32:00,962 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:32:00,962 - INFO - ## T√©cnicas de Pesquisa

### O processo de pesquisa

O processo de pesquisa √© uma jornada estruturada para descobrir e entender novos fatos. Ele envolve v√°rias etapas interconectadas que guiam o pesqu...
2025-05-15 16:32:00,962 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:32:00,962 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:32:00,962 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:32:00,962 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:32:02,963 - INFO - ‚úì Review completed successfully
2025-05-15 16:32:02,963 - INFO - Review feedback:
2025-05-15 16:32:02,963 - INFO - Como a Vers√£o 2 est√° vazia ("N/A"), n√£o √© poss√≠vel avaliar e, portanto, n√£o ser√° atribu√≠da nota ou utilizada para compara√ß√£o. Considerando apenas a Vers√£o 1:

Vers√£o 1: [8]

2025-05-15 16:32:02,963 - INFO - Selected contextualization version 1 with score 8
2025-05-15 16:32:02,963 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:32:08,635 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:32:08,635 - INFO - üìÑ Document ID: 11sfDOuXs0Yxpzo1WjnHpTPonGI5LpcRM
2025-05-15 16:32:08,635 - INFO - üîó Document Link: https://drive.google.com/file/d/11sfDOuXs0Yxpzo1WjnHpTPonGI5LpcRM/view?usp=drivesdk
2025-05-15 16:32:08,635 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:32:08,635 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:32:08,635 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:32:33,941 - INFO - Attempt 1: Received initial JSON response of length: 18118
2025-05-15 16:32:33,944 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:32:33,945 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:32:33,945 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:32:33,945 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:32:33,952 - INFO - Creating folder structure: JSON
2025-05-15 16:32:38,074 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:32:38,074 - INFO - üìÑ File ID: 1g2CIE9GWvSUxOds-BSFFFlguzr4RZHMO
2025-05-15 16:32:38,074 - INFO - üîó File Link: https://drive.google.com/file/d/1g2CIE9GWvSUxOds-BSFFFlguzr4RZHMO/view?usp=drivesdk
2025-05-15 16:32:38,074 - INFO - ‚úì Valid JSON generated
2025-05-15 16:32:38,074 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:32:38,074 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:32:38,074 - INFO - Generated HTML from JSON with title: Moda \(\left(M_O\right)\)
2025-05-15 16:32:38,074 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moda \(\left(M_O\right)\)</title>
    <link ...
2025-05-15 16:32:38,074 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:32:38,074 - INFO - 
==================================================
2025-05-15 16:32:38,075 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:32:38,075 - INFO - ==================================================
2025-05-15 16:32:38,075 - INFO - Total Processing Time: 56.47 seconds
2025-05-15 16:32:38,075 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:32:38,075 - INFO - Content ID: 18143
2025-05-15 16:32:38,075 - INFO - Final Content Size: 19364 characters
2025-05-15 16:32:38,075 - INFO - ==================================================
2025-05-15 16:32:38,075 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:32:38,076 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:32:38,076 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:32:38,081 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:32:39,099 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:32:41,130 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:32:41,130 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:32:41,131 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:32:41,132 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:32:42,489 - INFO - ‚úì Bucket existe: True
2025-05-15 16:32:42,792 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:32:43,363 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:32:43,681 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:32:44,249 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:32:44,585 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:32:45,125 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:32:45,461 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:32:46,003 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:32:46,353 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:32:46,870 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:32:47,274 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:32:47,736 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:32:48,199 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:32:48,600 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:32:49,115 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:32:49,470 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:32:50,030 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:32:50,349 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:32:50,940 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:32:51,233 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:32:51,856 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:32:52,114 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:32:52,824 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:32:53,013 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:32:53,747 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:32:53,747 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:32:53,747 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:32:54,917 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:32:56,723 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:32:56,723 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:32:56,723 - INFO - 
==================================================
2025-05-15 16:32:56,723 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:32:56,723 - INFO - ==================================================
2025-05-15 16:32:56,723 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:32:56,723 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:32:57,496 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337577.49631.pdf
2025-05-15 16:32:57,724 - WARNING - Failed to render formula: 404
2025-05-15 16:32:57,943 - WARNING - Failed to render formula: 404
2025-05-15 16:32:58,174 - WARNING - Failed to render formula: 404
2025-05-15 16:32:58,404 - WARNING - Failed to render formula: 404
2025-05-15 16:32:58,649 - WARNING - Failed to render formula: 404
2025-05-15 16:32:58,882 - WARNING - Failed to render formula: 404
2025-05-15 16:32:59,155 - WARNING - Failed to render formula: 404
2025-05-15 16:32:59,387 - WARNING - Failed to render formula: 404
2025-05-15 16:32:59,616 - WARNING - Failed to render formula: 404
2025-05-15 16:32:59,841 - WARNING - Failed to render formula: 404
2025-05-15 16:33:03,133 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337577.49631.pdf
2025-05-15 16:33:03,134 - INFO - ‚úì PDF generated successfully
2025-05-15 16:33:03,134 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:33:03,134 - INFO - ‚úì PDF converted to base64
2025-05-15 16:33:03,134 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:33:03,134 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:33:03,134 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:33:03,134 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:33:03,134 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:33:15,480 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:33:15,481 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:33:15,481 - INFO - ## T√©cnicas de Pesquisa

### Tipos de Dados

Dados s√£o fatos, n√∫meros e outras informa√ß√µes coletadas para serem analisadas. Eles s√£o a mat√©ria-prima da pesquisa. Imagine dados como os tijolos que voc√™...
2025-05-15 16:33:15,481 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:33:15,481 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:33:15,481 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:33:15,481 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:33:17,136 - INFO - ‚úì Review completed successfully
2025-05-15 16:33:17,137 - INFO - Review feedback:
2025-05-15 16:33:17,137 - INFO - VERS√ÉO 1: [9]
VERS√ÉO 2: [1]

2025-05-15 16:33:17,137 - WARNING - Could not parse scores from review result, using first contextualization
2025-05-15 16:33:17,137 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:33:20,689 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:33:20,689 - INFO - üìÑ Document ID: 1iHOraJObAUufpqDHFjr1TAAFP06f5K2B
2025-05-15 16:33:20,689 - INFO - üîó Document Link: https://drive.google.com/file/d/1iHOraJObAUufpqDHFjr1TAAFP06f5K2B/view?usp=drivesdk
2025-05-15 16:33:20,690 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:33:20,690 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:33:20,691 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:33:50,414 - INFO - Attempt 1: Received initial JSON response of length: 20543
2025-05-15 16:33:50,418 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:33:50,418 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:33:50,418 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:33:50,419 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:33:50,425 - INFO - Creating folder structure: JSON
2025-05-15 16:33:54,456 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:33:54,456 - INFO - üìÑ File ID: 1TsaR4sVkWRHdjYK-5ljN_2Jff5whfkP6
2025-05-15 16:33:54,456 - INFO - üîó File Link: https://drive.google.com/file/d/1TsaR4sVkWRHdjYK-5ljN_2Jff5whfkP6/view?usp=drivesdk
2025-05-15 16:33:54,456 - INFO - ‚úì Valid JSON generated
2025-05-15 16:33:54,456 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:33:54,456 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:33:54,457 - INFO - Generated HTML from JSON with title: Separatrizes
2025-05-15 16:33:54,457 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Separatrizes</title>
    <link href="https:/...
2025-05-15 16:33:54,457 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:33:54,457 - INFO - 
==================================================
2025-05-15 16:33:54,457 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:33:54,457 - INFO - ==================================================
2025-05-15 16:33:54,457 - INFO - Total Processing Time: 57.73 seconds
2025-05-15 16:33:54,457 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:33:54,457 - INFO - Content ID: 18299
2025-05-15 16:33:54,457 - INFO - Final Content Size: 15889 characters
2025-05-15 16:33:54,458 - INFO - ==================================================
2025-05-15 16:33:54,458 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:33:54,459 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:33:54,459 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:33:54,467 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:33:55,290 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:33:57,160 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:33:57,160 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:33:57,162 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:33:57,162 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:33:58,575 - INFO - ‚úì Bucket existe: True
2025-05-15 16:33:58,787 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:33:59,450 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:33:59,681 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:34:00,365 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:34:00,706 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:34:01,229 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:34:01,671 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:34:02,119 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:34:02,567 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:34:02,988 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:34:03,502 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:34:03,861 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:34:04,442 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:34:05,389 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:34:05,627 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:34:06,257 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:34:06,558 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:34:07,121 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:34:07,467 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:34:07,993 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:34:08,377 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:34:08,862 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:34:09,298 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:34:09,735 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:34:10,236 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:34:10,237 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:34:10,237 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:34:11,151 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:34:12,935 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:34:12,935 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:34:12,935 - INFO - 
==================================================
2025-05-15 16:34:12,935 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:34:12,935 - INFO - ==================================================
2025-05-15 16:34:12,935 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:34:12,935 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:34:13,610 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337653.6108577.pdf
2025-05-15 16:34:15,378 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337653.6108577.pdf
2025-05-15 16:34:15,379 - INFO - ‚úì PDF generated successfully
2025-05-15 16:34:15,379 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:34:15,379 - INFO - ‚úì PDF converted to base64
2025-05-15 16:34:15,379 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:34:15,379 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:34:15,379 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:34:15,379 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:34:15,379 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:34:28,543 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:34:28,543 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:34:28,543 - INFO - ## T√©cnicas de Pesquisa

### Vari√°veis

Vari√°veis s√£o caracter√≠sticas que podem ser medidas ou categorizadas, e que variam de indiv√≠duo para indiv√≠duo. Compreender os diferentes tipos de vari√°veis e s...
2025-05-15 16:34:28,543 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:34:28,543 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:34:28,544 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:34:28,544 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:34:30,341 - INFO - ‚úì Review completed successfully
2025-05-15 16:34:30,341 - INFO - Review feedback:
2025-05-15 16:34:30,341 - INFO - Vers√£o 1: [9]
Vers√£o 2: [2]

2025-05-15 16:34:30,341 - INFO - Selected contextualization version 1 with score 9
2025-05-15 16:34:30,342 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:34:34,390 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:34:34,390 - INFO - üìÑ Document ID: 1hapsWEvHp6nOC6hWirBIApSkslvDojf8
2025-05-15 16:34:34,390 - INFO - üîó Document Link: https://drive.google.com/file/d/1hapsWEvHp6nOC6hWirBIApSkslvDojf8/view?usp=drivesdk
2025-05-15 16:34:34,390 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:34:34,391 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:34:34,392 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:34:57,095 - INFO - Attempt 1: Received initial JSON response of length: 16015
2025-05-15 16:34:57,098 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:34:57,098 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:34:57,099 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:34:57,099 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:34:57,106 - INFO - Creating folder structure: JSON
2025-05-15 16:35:01,025 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:35:01,025 - INFO - üìÑ File ID: 10uK_5lcsiZB-4PCkDKP_XwzY1LNFjPxV
2025-05-15 16:35:01,025 - INFO - üîó File Link: https://drive.google.com/file/d/10uK_5lcsiZB-4PCkDKP_XwzY1LNFjPxV/view?usp=drivesdk
2025-05-15 16:35:01,025 - INFO - ‚úì Valid JSON generated
2025-05-15 16:35:01,025 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:35:01,025 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:35:01,025 - INFO - Generated HTML from JSON with title: M√£o na massa
2025-05-15 16:35:01,026 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√£o na massa</title>
    <link href="https:/...
2025-05-15 16:35:01,026 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:35:01,026 - INFO - 
==================================================
2025-05-15 16:35:01,026 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:35:01,026 - INFO - ==================================================
2025-05-15 16:35:01,026 - INFO - Total Processing Time: 48.09 seconds
2025-05-15 16:35:01,026 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:35:01,026 - INFO - Content ID: 18308
2025-05-15 16:35:01,026 - INFO - Final Content Size: 16372 characters
2025-05-15 16:35:01,026 - INFO - ==================================================
2025-05-15 16:35:01,026 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:35:01,027 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:35:01,028 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:35:01,033 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:35:01,986 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:35:03,673 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:35:03,674 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:35:03,675 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:35:03,676 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:35:04,922 - INFO - ‚úì Bucket existe: True
2025-05-15 16:35:05,883 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:35:06,088 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:35:06,780 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:35:06,958 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:35:07,649 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:35:07,830 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:35:08,514 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:35:08,700 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:35:08,962 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:35:09,623 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:35:09,899 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:35:10,487 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:35:10,834 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:35:11,387 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:35:11,786 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:35:12,268 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:35:12,717 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:35:13,126 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:35:13,654 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:35:13,988 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:35:14,593 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:35:14,850 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:35:15,530 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:35:15,715 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:35:16,473 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:35:16,473 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:35:16,473 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:35:17,396 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:35:19,380 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:35:19,381 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:35:19,381 - INFO - 
==================================================
2025-05-15 16:35:19,381 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:35:19,381 - INFO - ==================================================
2025-05-15 16:35:19,381 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:35:19,381 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:35:20,053 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337720.0533562.pdf
2025-05-15 16:35:21,374 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337720.0533562.pdf
2025-05-15 16:35:21,374 - INFO - ‚úì PDF generated successfully
2025-05-15 16:35:21,375 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:35:21,375 - INFO - ‚úì PDF converted to base64
2025-05-15 16:35:21,375 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:35:21,375 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:35:21,375 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:35:21,375 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:35:21,375 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:35:36,216 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:35:36,216 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:35:36,216 - INFO - ## T√©cnicas de Pesquisa

### Vari√°veis e Mensura√ß√£o

Uma vari√°vel √© uma caracter√≠stica que pode assumir diferentes valores. Em pesquisa, as vari√°veis s√£o os elementos que voc√™ mede, controla ou manipu...
2025-05-15 16:35:36,216 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:35:36,216 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:35:36,216 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:35:36,216 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:35:38,073 - INFO - ‚úì Review completed successfully
2025-05-15 16:35:38,073 - INFO - Review feedback:
2025-05-15 16:35:38,073 - INFO - Como a Vers√£o 2 √© "N/A", vou avaliar apenas a Vers√£o 1 e atribuir uma nota.

Vers√£o 1: [8]

2025-05-15 16:35:38,073 - INFO - Selected contextualization version 1 with score 8
2025-05-15 16:35:38,073 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:35:41,999 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:35:41,999 - INFO - üìÑ Document ID: 1rYAFLHJQrGovgg5UcKqFITeA7EWI14vw
2025-05-15 16:35:41,999 - INFO - üîó Document Link: https://drive.google.com/file/d/1rYAFLHJQrGovgg5UcKqFITeA7EWI14vw/view?usp=drivesdk
2025-05-15 16:35:41,999 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:35:41,999 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:35:41,999 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:35:55,828 - INFO - Attempt 1: Received initial JSON response of length: 10897
2025-05-15 16:35:55,831 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:35:55,831 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:35:55,832 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:35:55,832 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:35:55,840 - INFO - Creating folder structure: JSON
2025-05-15 16:36:00,118 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:36:00,118 - INFO - üìÑ File ID: 1PiKCB_sxk9pmDNMZcX-GeK7I4Epk5w9R
2025-05-15 16:36:00,118 - INFO - üîó File Link: https://drive.google.com/file/d/1PiKCB_sxk9pmDNMZcX-GeK7I4Epk5w9R/view?usp=drivesdk
2025-05-15 16:36:00,118 - INFO - ‚úì Valid JSON generated
2025-05-15 16:36:00,118 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:36:00,118 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:36:00,118 - INFO - Generated HTML from JSON with title: Teoria na pr√°tica
2025-05-15 16:36:00,119 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teoria na pr√°tica</title>
    <link href="ht...
2025-05-15 16:36:00,119 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:36:00,119 - INFO - 
==================================================
2025-05-15 16:36:00,119 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:36:00,119 - INFO - ==================================================
2025-05-15 16:36:00,119 - INFO - Total Processing Time: 40.74 seconds
2025-05-15 16:36:00,119 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:36:00,119 - INFO - Content ID: 18317
2025-05-15 16:36:00,119 - INFO - Final Content Size: 16099 characters
2025-05-15 16:36:00,119 - INFO - ==================================================
2025-05-15 16:36:00,119 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:36:00,120 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:36:00,120 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:36:00,127 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:36:01,022 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:36:02,803 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:36:02,803 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:36:02,805 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:36:02,805 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:36:04,047 - INFO - ‚úì Bucket existe: True
2025-05-15 16:36:04,286 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:36:04,914 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:36:05,184 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:36:05,792 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:36:06,056 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:36:06,664 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:36:06,929 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:36:07,538 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:36:07,797 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:36:08,406 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:36:08,730 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:36:09,274 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:36:09,653 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:36:10,137 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:36:10,575 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:36:11,001 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:36:11,495 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:36:11,876 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:36:12,400 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:36:12,743 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:36:13,317 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:36:13,607 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:36:14,252 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:36:14,471 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:36:15,183 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:36:15,183 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:36:15,183 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:36:16,099 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:36:17,901 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:36:17,901 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:36:17,901 - INFO - 
==================================================
2025-05-15 16:36:17,901 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:36:17,901 - INFO - ==================================================
2025-05-15 16:36:17,901 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:36:17,902 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:36:18,587 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337778.5879161.pdf
2025-05-15 16:36:19,850 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337778.5879161.pdf
2025-05-15 16:36:19,850 - INFO - ‚úì PDF generated successfully
2025-05-15 16:36:19,850 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:36:19,850 - INFO - ‚úì PDF converted to base64
2025-05-15 16:36:19,851 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:36:19,851 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:36:19,851 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:36:19,851 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:36:19,851 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:36:30,302 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:36:30,302 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:36:30,302 - INFO - ## T√©cnicas de Pesquisa

### Vari√°veis e Amostras

#### Vari√°veis

Uma **vari√°vel** √© qualquer fator que possa ser manipulado, controlado ou medido em uma pesquisa. As vari√°veis s√£o inerentes √† maiori...
2025-05-15 16:36:30,302 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:36:30,302 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:36:30,302 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:36:30,302 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:36:32,076 - INFO - ‚úì Review completed successfully
2025-05-15 16:36:32,077 - INFO - Review feedback:
2025-05-15 16:36:32,077 - INFO - VERS√ÉO 1: 8
VERS√ÉO 2: 1

2025-05-15 16:36:32,077 - WARNING - Could not parse scores from review result, using first contextualization
2025-05-15 16:36:32,077 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:36:35,740 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:36:35,740 - INFO - üìÑ Document ID: 1jWLaap1xhZBSMYyLsdtoS-fjn7Z0NZIS
2025-05-15 16:36:35,740 - INFO - üîó Document Link: https://drive.google.com/file/d/1jWLaap1xhZBSMYyLsdtoS-fjn7Z0NZIS/view?usp=drivesdk
2025-05-15 16:36:35,740 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:36:35,740 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:36:35,741 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:36:52,002 - INFO - Attempt 1: Received initial JSON response of length: 9891
2025-05-15 16:36:52,004 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:36:52,004 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:36:52,005 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:36:52,005 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:36:52,013 - INFO - Creating folder structure: JSON
2025-05-15 16:36:56,353 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:36:56,353 - INFO - üìÑ File ID: 1QrFVI-kBooeWwZVVI-ZUkq3L4bIry6hS
2025-05-15 16:36:56,353 - INFO - üîó File Link: https://drive.google.com/file/d/1QrFVI-kBooeWwZVVI-ZUkq3L4bIry6hS/view?usp=drivesdk
2025-05-15 16:36:56,354 - INFO - ‚úì Valid JSON generated
2025-05-15 16:36:56,354 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:36:56,354 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:36:56,354 - INFO - Generated HTML from JSON with title: Verificando o aprendizado
2025-05-15 16:36:56,354 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificando o aprendizado</title>
    <link ...
2025-05-15 16:36:56,354 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:36:56,354 - INFO - 
==================================================
2025-05-15 16:36:56,354 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:36:56,354 - INFO - ==================================================
2025-05-15 16:36:56,354 - INFO - Total Processing Time: 38.45 seconds
2025-05-15 16:36:56,354 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:36:56,355 - INFO - Content ID: 18326
2025-05-15 16:36:56,355 - INFO - Final Content Size: 6336 characters
2025-05-15 16:36:56,355 - INFO - ==================================================
2025-05-15 16:36:56,355 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:36:56,356 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:36:56,356 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:36:56,362 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:36:57,476 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:36:59,104 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:36:59,105 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:36:59,106 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:36:59,107 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:37:00,389 - INFO - ‚úì Bucket existe: True
2025-05-15 16:37:00,588 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:37:00,907 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:37:01,275 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:37:01,786 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:37:02,123 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:37:02,301 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:37:02,993 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:37:03,174 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:37:03,358 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:37:04,082 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:37:04,328 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:37:04,961 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:37:05,253 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:37:05,577 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:37:05,917 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:37:06,094 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:37:06,446 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:37:06,958 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:37:07,349 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:37:07,819 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:37:08,430 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:37:08,607 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:37:09,351 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:37:09,531 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:37:10,271 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:37:10,272 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:37:10,272 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:37:10,833 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:37:12,382 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:37:12,382 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:37:12,382 - INFO - 
==================================================
2025-05-15 16:37:12,383 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:37:12,383 - INFO - ==================================================
2025-05-15 16:37:12,383 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:37:12,383 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:37:13,881 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337833.8810837.pdf
2025-05-15 16:37:14,246 - WARNING - Failed to render formula: 404
2025-05-15 16:37:14,533 - WARNING - Failed to render formula: 404
2025-05-15 16:37:14,831 - WARNING - Failed to render formula: 404
2025-05-15 16:37:15,175 - WARNING - Failed to render formula: 404
2025-05-15 16:37:15,463 - WARNING - Failed to render formula: 404
2025-05-15 16:37:15,751 - WARNING - Failed to render formula: 404
2025-05-15 16:37:17,854 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337833.8810837.pdf
2025-05-15 16:37:17,855 - INFO - ‚úì PDF generated successfully
2025-05-15 16:37:17,856 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:37:17,857 - INFO - ‚úì PDF converted to base64
2025-05-15 16:37:17,858 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:37:17,858 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:37:17,859 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:37:17,860 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:37:17,861 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:37:32,765 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:37:32,766 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:37:32,766 - INFO - ## T√©cnicas de Pesquisa

### Tipos de Dados

Dados s√£o fatos, estat√≠sticas e itens de informa√ß√£o que podem ser analisados ou usados em um esfor√ßo de racioc√≠nio ou c√°lculo. Dados podem ser agregados da...
2025-05-15 16:37:32,766 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:37:32,766 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:37:32,766 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:37:32,766 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:37:34,597 - INFO - ‚úì Review completed successfully
2025-05-15 16:37:34,597 - INFO - Review feedback:
2025-05-15 16:37:34,598 - INFO - Vers√£o 1: [9]
Vers√£o 2: [1]

2025-05-15 16:37:34,598 - INFO - Selected contextualization version 1 with score 9
2025-05-15 16:37:34,598 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:37:43,316 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:37:43,317 - INFO - üìÑ Document ID: 1J8l2vEOFKO4SUGzAZHUIxoFqiOSuDyXq
2025-05-15 16:37:43,317 - INFO - üîó Document Link: https://drive.google.com/file/d/1J8l2vEOFKO4SUGzAZHUIxoFqiOSuDyXq/view?usp=drivesdk
2025-05-15 16:37:43,317 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:37:43,317 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:37:43,318 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:38:22,065 - INFO - Attempt 1: Received initial JSON response of length: 24693
2025-05-15 16:38:22,066 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 16:38:22,066 - INFO - Requesting continuation of JSON response...
2025-05-15 16:38:25,740 - INFO - Received continuation of length: 1273
2025-05-15 16:38:25,746 - WARNING - Merged JSON is invalid: Invalid \uXXXX escape: line 131 column 106 (char 13830)
2025-05-15 16:38:25,748 - INFO - Merged JSON response length: 24678
2025-05-15 16:38:25,748 - WARNING - Cleaned JSON is invalid: Invalid \uXXXX escape: line 131 column 106 (char 13830)
2025-05-15 16:38:25,748 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 16:38:25,748 - WARNING - Original JSON is also invalid
2025-05-15 16:38:25,749 - WARNING - Attempting to repair JSON: Invalid \uXXXX escape: line 131 column 106 (char 13830)
2025-05-15 16:38:25,752 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:38:25,752 - WARNING - Attempting to repair JSON: Invalid \uXXXX escape: line 131 column 106 (char 13830)
2025-05-15 16:38:25,756 - ERROR - ‚ùå JSON repair failed
2025-05-15 16:38:25,756 - WARNING - Attempt 1: JSON validation failed - Invalid \uXXXX escape: line 131 column 106 (char 13830)
2025-05-15 16:38:25,756 - INFO - Retrying JSON generation... (attempt 2/3)
2025-05-15 16:38:51,766 - INFO - Attempt 2: Received initial JSON response of length: 18766
2025-05-15 16:38:51,770 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:38:51,770 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:38:51,770 - INFO - ‚úì Generated JSON is valid on attempt 2
2025-05-15 16:38:51,770 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:38:51,789 - INFO - Creating folder structure: JSON
2025-05-15 16:38:56,974 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:38:56,974 - INFO - üìÑ File ID: 1sJELB_kfY0WT3aVngPmemIzXrHvKL_pJ
2025-05-15 16:38:56,974 - INFO - üîó File Link: https://drive.google.com/file/d/1sJELB_kfY0WT3aVngPmemIzXrHvKL_pJ/view?usp=drivesdk
2025-05-15 16:38:56,974 - INFO - ‚úì Valid JSON generated
2025-05-15 16:38:56,974 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:38:56,975 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:38:56,975 - INFO - Generated HTML from JSON with title: Vari√¢ncia (S2)
2025-05-15 16:38:56,975 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vari√¢ncia (S2)</title>
    <link href="https...
2025-05-15 16:38:56,975 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:38:56,975 - INFO - 
==================================================
2025-05-15 16:38:56,975 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:38:56,975 - INFO - ==================================================
2025-05-15 16:38:56,975 - INFO - Total Processing Time: 104.59 seconds
2025-05-15 16:38:56,975 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:38:56,975 - INFO - Content ID: 18373
2025-05-15 16:38:56,975 - INFO - Final Content Size: 17037 characters
2025-05-15 16:38:56,975 - INFO - ==================================================
2025-05-15 16:38:56,976 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:38:56,976 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:38:56,977 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:38:56,982 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:38:58,011 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:38:59,811 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:38:59,811 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:38:59,813 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:38:59,813 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:39:00,539 - INFO - ‚úì Bucket existe: True
2025-05-15 16:39:01,185 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:39:01,399 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:39:02,054 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:39:02,262 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:39:02,929 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:39:03,130 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:39:03,884 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:39:04,100 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:39:04,476 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:39:04,743 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:39:05,422 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:39:05,609 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:39:06,349 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:39:06,528 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:39:07,301 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:39:07,477 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:39:08,214 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:39:08,412 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:39:09,129 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:39:09,313 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:39:10,053 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:39:10,242 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:39:10,983 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:39:11,161 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:39:11,901 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:39:11,901 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:39:11,901 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:39:12,849 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:39:14,130 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:39:14,131 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:39:14,131 - INFO - 
==================================================
2025-05-15 16:39:14,131 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:39:14,131 - INFO - ==================================================
2025-05-15 16:39:14,131 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:39:14,131 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:39:15,255 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337955.2554338.pdf
2025-05-15 16:39:15,587 - WARNING - Failed to render formula: 404
2025-05-15 16:39:15,831 - WARNING - Failed to render formula: 404
2025-05-15 16:39:16,234 - WARNING - Failed to render formula: 404
2025-05-15 16:39:17,719 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747337955.2554338.pdf
2025-05-15 16:39:17,720 - INFO - ‚úì PDF generated successfully
2025-05-15 16:39:17,720 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:39:17,720 - INFO - ‚úì PDF converted to base64
2025-05-15 16:39:17,720 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:39:17,720 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:39:17,720 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:39:17,720 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:39:17,720 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:39:32,105 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:39:32,105 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:39:32,105 - INFO - ## T√©cnicas de Pesquisa

### Vari√°veis, Dados e Medi√ß√µes

Antes de come√ßarmos a coletar dados, precisamos pensar sobre o tipo de dados que precisamos. Precisamos estudar os *elementos* que ser√£o inclu...
2025-05-15 16:39:32,105 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:39:32,106 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:39:32,106 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:39:32,106 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:39:33,916 - INFO - ‚úì Review completed successfully
2025-05-15 16:39:33,916 - INFO - Review feedback:
2025-05-15 16:39:33,916 - INFO - VERS√ÉO 1: [9]
VERS√ÉO 2: [1]

2025-05-15 16:39:33,916 - WARNING - Could not parse scores from review result, using first contextualization
2025-05-15 16:39:33,916 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:39:37,774 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:39:37,774 - INFO - üìÑ Document ID: 1ny94cwqpWtvDNk6PWggjOV2zs6QxxfNo
2025-05-15 16:39:37,776 - INFO - üîó Document Link: https://drive.google.com/file/d/1ny94cwqpWtvDNk6PWggjOV2zs6QxxfNo/view?usp=drivesdk
2025-05-15 16:39:37,776 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:39:37,776 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:39:37,776 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:39:54,026 - INFO - Attempt 1: Received initial JSON response of length: 12966
2025-05-15 16:39:54,028 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:39:54,028 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:39:54,029 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:39:54,029 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:39:54,041 - INFO - Creating folder structure: JSON
2025-05-15 16:39:58,246 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:39:58,246 - INFO - üìÑ File ID: 1OQ8p8lsF8uAc7dlE-qctzkz51YF-spe4
2025-05-15 16:39:58,246 - INFO - üîó File Link: https://drive.google.com/file/d/1OQ8p8lsF8uAc7dlE-qctzkz51YF-spe4/view?usp=drivesdk
2025-05-15 16:39:58,246 - INFO - ‚úì Valid JSON generated
2025-05-15 16:39:58,246 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:39:58,246 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:39:58,247 - INFO - Generated HTML from JSON with title: Desvio-padr√£o (S)
2025-05-15 16:39:58,247 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desvio-padr√£o (S)</title>
    <link href="ht...
2025-05-15 16:39:58,247 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:39:58,247 - INFO - 
==================================================
2025-05-15 16:39:58,247 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:39:58,247 - INFO - ==================================================
2025-05-15 16:39:58,247 - INFO - Total Processing Time: 44.12 seconds
2025-05-15 16:39:58,247 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:39:58,247 - INFO - Content ID: 18384
2025-05-15 16:39:58,247 - INFO - Final Content Size: 16236 characters
2025-05-15 16:39:58,247 - INFO - ==================================================
2025-05-15 16:39:58,248 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:39:58,249 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:39:58,249 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:39:58,255 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:39:59,151 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:40:01,151 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:40:01,152 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:40:01,154 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:40:01,154 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:40:02,407 - INFO - ‚úì Bucket existe: True
2025-05-15 16:40:02,687 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:40:03,272 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:40:03,565 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:40:04,146 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:40:04,466 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:40:05,019 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:40:05,357 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:40:05,897 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:40:06,233 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:40:06,772 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:40:07,172 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:40:07,639 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:40:08,103 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:40:08,500 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:40:09,049 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:40:09,363 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:40:09,974 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:40:10,225 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:40:10,894 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:40:11,094 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:40:11,825 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:40:12,010 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:40:12,775 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:40:12,956 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:40:13,731 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:40:13,732 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:40:13,732 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:40:14,641 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:40:16,456 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:40:16,457 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:40:16,457 - INFO - 
==================================================
2025-05-15 16:40:16,457 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:40:16,457 - INFO - ==================================================
2025-05-15 16:40:16,457 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:40:16,457 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:40:17,140 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747338017.140178.pdf
2025-05-15 16:40:17,140 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 16:40:17,140 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 16:40:17,140 - INFO - Attempting to create a fallback PDF...
2025-05-15 16:40:17,291 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747338017.140178.pdf
2025-05-15 16:40:17,291 - INFO - ‚úì PDF generated successfully
2025-05-15 16:40:17,291 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:40:17,291 - INFO - ‚úì PDF converted to base64
2025-05-15 16:40:17,291 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:40:17,291 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:40:17,291 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:40:17,291 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:40:17,291 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:40:32,738 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:40:32,738 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:40:32,738 - INFO - ## T√©cnicas de Pesquisa

### Popula√ß√£o e Amostra

Em qualquer estudo, √© crucial definir claramente a popula√ß√£o de interesse. A **popula√ß√£o** √© o grupo inteiro que se deseja estudar e sobre o qual se q...
2025-05-15 16:40:32,739 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:40:32,739 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:40:32,739 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:40:32,739 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:40:34,486 - INFO - ‚úì Review completed successfully
2025-05-15 16:40:34,487 - INFO - Review feedback:
2025-05-15 16:40:34,487 - INFO - VERS√ÉO 1: [9]
VERS√ÉO 2: [1]

2025-05-15 16:40:34,487 - WARNING - Could not parse scores from review result, using first contextualization
2025-05-15 16:40:34,488 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:40:37,899 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:40:37,899 - INFO - üìÑ Document ID: 1XF9_PglJPJ2p0Juqb3y3dKwXNp5-_oJ2
2025-05-15 16:40:37,899 - INFO - üîó Document Link: https://drive.google.com/file/d/1XF9_PglJPJ2p0Juqb3y3dKwXNp5-_oJ2/view?usp=drivesdk
2025-05-15 16:40:37,899 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:40:37,899 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:40:37,899 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:41:00,960 - INFO - Attempt 1: Received initial JSON response of length: 16937
2025-05-15 16:41:00,963 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:41:00,964 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:41:00,964 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:41:00,964 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:41:00,978 - INFO - Creating folder structure: JSON
2025-05-15 16:41:04,991 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:41:04,992 - INFO - üìÑ File ID: 1bZN8GPKZ07sRpAodYnaiqX_lsNASBTC6
2025-05-15 16:41:04,992 - INFO - üîó File Link: https://drive.google.com/file/d/1bZN8GPKZ07sRpAodYnaiqX_lsNASBTC6/view?usp=drivesdk
2025-05-15 16:41:04,992 - INFO - ‚úì Valid JSON generated
2025-05-15 16:41:04,992 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:41:04,993 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:41:04,993 - INFO - Generated HTML from JSON with title: Coeficiente de varia√ß√£o (CV%)
2025-05-15 16:41:04,993 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coeficiente de varia√ß√£o (CV%)</title>
    <l...
2025-05-15 16:41:04,993 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:41:04,994 - INFO - 
==================================================
2025-05-15 16:41:04,994 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:41:04,994 - INFO - ==================================================
2025-05-15 16:41:04,994 - INFO - Total Processing Time: 48.54 seconds
2025-05-15 16:41:04,995 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:41:04,996 - INFO - Content ID: 18405
2025-05-15 16:41:04,996 - INFO - Final Content Size: 17624 characters
2025-05-15 16:41:04,996 - INFO - ==================================================
2025-05-15 16:41:04,997 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:41:04,998 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:41:04,998 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:41:05,003 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:41:05,988 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:41:07,551 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:41:07,551 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:41:07,552 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:41:07,553 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:41:08,230 - INFO - ‚úì Bucket existe: True
2025-05-15 16:41:08,987 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:41:09,167 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:41:09,860 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:41:10,035 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:41:10,746 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:41:10,926 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:41:11,637 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:41:11,810 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:41:12,507 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:41:12,683 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:41:13,430 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:41:13,608 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:41:14,351 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:41:14,521 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:41:15,264 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:41:15,435 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:41:16,180 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:41:16,377 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:41:16,745 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:41:17,056 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:41:17,682 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:41:17,969 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:41:18,608 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:41:18,837 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:41:19,526 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:41:19,527 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:41:19,527 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:41:20,052 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:41:21,506 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:41:21,506 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:41:21,506 - INFO - 
==================================================
2025-05-15 16:41:21,506 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:41:21,506 - INFO - ==================================================
2025-05-15 16:41:21,506 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:41:21,506 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:41:22,221 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747338082.221932.pdf
2025-05-15 16:41:23,488 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747338082.221932.pdf
2025-05-15 16:41:23,488 - INFO - ‚úì PDF generated successfully
2025-05-15 16:41:23,488 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:41:23,489 - INFO - ‚úì PDF converted to base64
2025-05-15 16:41:23,489 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:41:23,489 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:41:23,489 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:41:23,489 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:41:23,489 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:41:34,712 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:41:34,712 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:41:34,712 - INFO - ## T√©cnicas de Pesquisa

### Vari√°veis

Uma vari√°vel √© uma caracter√≠stica que pode assumir valores diferentes. Se uma caracter√≠stica de uma pessoa √© sua press√£o sangu√≠nea, ent√£o essa caracter√≠stica √© ...
2025-05-15 16:41:34,712 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:41:34,712 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:41:34,712 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:41:34,712 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:41:36,507 - INFO - ‚úì Review completed successfully
2025-05-15 16:41:36,507 - INFO - Review feedback:
2025-05-15 16:41:36,507 - INFO - VERS√ÉO 1: [9]
VERS√ÉO 2: [1]

2025-05-15 16:41:36,508 - WARNING - Could not parse scores from review result, using first contextualization
2025-05-15 16:41:36,508 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:41:40,307 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:41:40,307 - INFO - üìÑ Document ID: 1Fc1RzZk8PhDpzYwoP8o7RgETm5bMtI1K
2025-05-15 16:41:40,307 - INFO - üîó Document Link: https://drive.google.com/file/d/1Fc1RzZk8PhDpzYwoP8o7RgETm5bMtI1K/view?usp=drivesdk
2025-05-15 16:41:40,307 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:41:40,307 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:41:40,308 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:42:05,278 - INFO - Attempt 1: Received initial JSON response of length: 16176
2025-05-15 16:42:05,282 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:42:05,283 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:42:05,283 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:42:05,283 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:42:05,294 - INFO - Creating folder structure: JSON
2025-05-15 16:42:09,320 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:42:09,320 - INFO - üìÑ File ID: 1EVzRWsNTEfXVlkl4Nj5VIcrjAxq_T7Pp
2025-05-15 16:42:09,320 - INFO - üîó File Link: https://drive.google.com/file/d/1EVzRWsNTEfXVlkl4Nj5VIcrjAxq_T7Pp/view?usp=drivesdk
2025-05-15 16:42:09,320 - INFO - ‚úì Valid JSON generated
2025-05-15 16:42:09,320 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:42:09,320 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:42:09,321 - INFO - Generated HTML from JSON with title: M√£o na massa
2025-05-15 16:42:09,321 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√£o na massa</title>
    <link href="https:/...
2025-05-15 16:42:09,321 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:42:09,321 - INFO - 
==================================================
2025-05-15 16:42:09,321 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:42:09,321 - INFO - ==================================================
2025-05-15 16:42:09,321 - INFO - Total Processing Time: 47.81 seconds
2025-05-15 16:42:09,321 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:42:09,321 - INFO - Content ID: 18419
2025-05-15 16:42:09,321 - INFO - Final Content Size: 6323 characters
2025-05-15 16:42:09,321 - INFO - ==================================================
2025-05-15 16:42:09,321 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:42:09,322 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:42:09,322 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:42:09,327 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:42:11,174 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:42:12,936 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:42:12,936 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:42:12,938 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:42:12,938 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:42:14,388 - INFO - ‚úì Bucket existe: True
2025-05-15 16:42:14,603 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:42:15,248 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:42:15,598 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:42:16,124 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:42:16,467 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:42:16,985 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:42:17,348 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:42:17,850 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:42:18,225 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:42:18,714 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:42:19,203 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:42:19,581 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:42:20,121 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:42:20,442 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:42:21,037 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:42:21,310 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:42:21,986 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:42:22,168 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:42:22,892 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:42:23,070 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:42:23,810 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:42:23,981 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:42:24,729 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:42:24,905 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:42:25,652 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:42:25,652 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:42:25,652 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:42:26,564 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:42:28,519 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:42:28,519 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:42:28,519 - INFO - 
==================================================
2025-05-15 16:42:28,520 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:42:28,520 - INFO - ==================================================
2025-05-15 16:42:28,520 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:42:28,521 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:42:29,916 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747338149.916067.pdf
2025-05-15 16:42:32,318 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747338149.916067.pdf
2025-05-15 16:42:32,318 - INFO - ‚úì PDF generated successfully
2025-05-15 16:42:32,318 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:42:32,318 - INFO - ‚úì PDF converted to base64
2025-05-15 16:42:32,319 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:42:32,319 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:42:32,319 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:42:32,319 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:42:32,319 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:42:52,093 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:42:52,093 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:42:52,093 - INFO - ## T√©cnicas de Pesquisa

### Vari√°veis

Em pesquisa, uma vari√°vel √© qualquer caracter√≠stica, n√∫mero ou quantidade que pode ser medida ou contada. Uma vari√°vel tamb√©m pode ser chamada de item de dados....
2025-05-15 16:42:52,093 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:42:52,093 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:42:52,093 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:42:52,093 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:42:58,720 - INFO - ‚úì Review completed successfully
2025-05-15 16:42:58,721 - INFO - Review feedback:
2025-05-15 16:42:58,721 - INFO - Como voc√™ forneceu apenas a Vers√£o 1, preciso de pelo menos mais uma vers√£o para poder compar√°-las e atribuir notas diferentes. Como a Vers√£o 2 foi declarada como N/A, irei gerar uma terceira vers√£o.

VERS√ÉO 3:
**Conceitos Fundamentais em Pesquisa: Vari√°veis e Amostragem**

Este texto introdut√≥rio visa apresentar os conceitos essenciais de vari√°veis e amostragem, cruciais para o desenvolvimento e interpreta√ß√£o de pesquisas em diversas √°reas.

**Vari√°veis: A Base da Investiga√ß√£o**

Em qualquer investiga√ß√£o, uma vari√°vel representa uma caracter√≠stica ou atributo que pode assumir diferentes valores. Entender os tipos de vari√°veis e suas propriedades √© fundamental para o planejamento da pesquisa e a escolha das an√°lises estat√≠sticas adequadas.

*   **Vari√°veis Categ√≥ricas (Qualitativas):** Representam categorias ou grupos.
    *   **Nominais:** Categorias sem ordem intr√≠nseca (ex: cor dos olhos, tipo sangu√≠neo).
    *   **Ordinais:** Categorias com ordem l√≥gica (ex: n√≠vel de escolaridade, classifica√ß√£o de gravidade de uma doen√ßa).
*   **Vari√°veis Num√©ricas (Quantitativas):** Representam quantidades.
    *   **Discretas:** Valores inteiros e cont√°veis (ex: n√∫mero de filhos, n√∫mero de interna√ß√µes).
    *   **Cont√≠nuas:** Podem assumir qualquer valor dentro de um intervalo (ex: peso, altura, temperatura).

√â importante destacar que a escolha do tipo de vari√°vel influencia diretamente as an√°lises estat√≠sticas que podem ser aplicadas. Por exemplo, n√£o se pode calcular uma m√©dia em n√≠veis de escolaridade, pois √© uma vari√°vel ordinal.

**Amostragem: Representando a Popula√ß√£o**

A amostragem √© o processo de selecionar um subconjunto de indiv√≠duos (a amostra) de uma popula√ß√£o maior, com o objetivo de estudar as caracter√≠sticas dessa amostra e inferir conclus√µes sobre a popula√ß√£o como um todo. Uma amostragem bem planejada evita vieses e garante que os resultados obtidos sejam generaliz√°veis.

**Tipos de Amostragem:**

*   **Probabil√≠stica:** Todos os membros da popula√ß√£o t√™m uma chance conhecida de serem selecionados. S√£o mais rigorosas e permitem infer√™ncias estat√≠sticas mais robustas.
    *   **Aleat√≥ria Simples:** Cada indiv√≠duo tem a mesma chance de ser escolhido.
    *   **Estratificada:** A popula√ß√£o √© dividida em estratos (grupos homog√™neos) e uma amostra aleat√≥ria √© selecionada de cada estrato.
    *   **Por Conglomerados:** A popula√ß√£o √© dividida em conglomerados (grupos heterog√™neos) e alguns conglomerados s√£o selecionados aleatoriamente.
    *   **Sistem√°tica:** Seleciona-se cada *n*-√©simo indiv√≠duo da popula√ß√£o.

*   **N√£o Probabil√≠stica:** A sele√ß√£o da amostra √© baseada em crit√©rios subjetivos do pesquisador. Menos rigorosas e podem introduzir vieses.
    *   **Por Conveni√™ncia:** Os indiv√≠duos mais acess√≠veis s√£o selecionados.
    *   **Por Julgamento ou Intencional:** O pesquisador seleciona os indiv√≠duos com base em seu conhecimento sobre a popula√ß√£o.
    *   **Por Quotas:** A amostra √© constru√≠da para refletir a propor√ß√£o de diferentes grupos na popula√ß√£o.
    *   **Bola de Neve:** Os participantes indicam outros participantes.

A escolha da t√©cnica de amostragem adequada depende dos objetivos da pesquisa, dos recursos dispon√≠veis e das caracter√≠sticas da popula√ß√£o. √â fundamental considerar os potenciais vieses de cada m√©todo e tomar medidas para minimiz√°-los.

**Considera√ß√µes Finais:**

O conhecimento sobre vari√°veis e amostragem √© essencial para conduzir pesquisas v√°lidas e confi√°veis. Uma compreens√£o clara desses conceitos permite aos pesquisadores planejar seus estudos de forma eficaz, coletar dados precisos e interpretar os resultados de forma significativa.

Agora posso avaliar as vers√µes e fornecer as notas:

Vers√£o 1: 8
Vers√£o 3: 9

2025-05-15 16:42:58,721 - INFO - Selected contextualization version 1 with score 8
2025-05-15 16:42:58,721 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:43:02,654 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:43:02,654 - INFO - üìÑ Document ID: 1EmKz-OOphq1t8arABvIrABAONRCqipw-
2025-05-15 16:43:02,654 - INFO - üîó Document Link: https://drive.google.com/file/d/1EmKz-OOphq1t8arABvIrABAONRCqipw-/view?usp=drivesdk
2025-05-15 16:43:02,655 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:43:02,656 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:43:02,656 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:43:21,538 - INFO - Attempt 1: Received initial JSON response of length: 16031
2025-05-15 16:43:21,541 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:43:21,541 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:43:21,541 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:43:21,542 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:43:21,548 - INFO - Creating folder structure: JSON
2025-05-15 16:43:25,413 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:43:25,414 - INFO - üìÑ File ID: 1_4NM1hbXyLFjsbDysc7reEO6w47h5wpm
2025-05-15 16:43:25,414 - INFO - üîó File Link: https://drive.google.com/file/d/1_4NM1hbXyLFjsbDysc7reEO6w47h5wpm/view?usp=drivesdk
2025-05-15 16:43:25,414 - INFO - ‚úì Valid JSON generated
2025-05-15 16:43:25,414 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:43:25,414 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:43:25,414 - INFO - Generated HTML from JSON with title: Teoria na pr√°tica
2025-05-15 16:43:25,414 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teoria na pr√°tica</title>
    <link href="ht...
2025-05-15 16:43:25,414 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:43:25,414 - INFO - 
==================================================
2025-05-15 16:43:25,414 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:43:25,414 - INFO - ==================================================
2025-05-15 16:43:25,414 - INFO - Total Processing Time: 56.89 seconds
2025-05-15 16:43:25,414 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:43:25,415 - INFO - Content ID: 18428
2025-05-15 16:43:25,415 - INFO - Final Content Size: 20990 characters
2025-05-15 16:43:25,415 - INFO - ==================================================
2025-05-15 16:43:25,415 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:43:25,415 - INFO - üîÑ Getting process type for area_conhecimento: Sa√∫de and context_type: contextualizacao
2025-05-15 16:43:25,416 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 16:43:25,420 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 16:43:26,393 - INFO - üìÅ Created/found tema folder with ID: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:43:28,243 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
2025-05-15 16:43:28,244 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üìÅ Target: target/contextualization_to_saude_00962/1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT
üîÑ Process Type: contextualization_to_saude_00962

2025-05-15 16:43:28,245 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 16:43:28,245 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 16:43:28,799 - INFO - ‚úì Bucket existe: True
2025-05-15 16:43:29,595 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 16:43:29,771 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 16:43:30,470 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 16:43:30,675 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 16:43:31,377 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 16:43:31,558 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 16:43:32,290 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 16:43:32,466 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 16:43:33,164 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 16:43:33,360 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 16:43:34,114 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 16:43:34,285 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 16:43:35,050 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 16:43:35,241 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 16:43:35,973 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 16:43:36,700 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 16:43:36,960 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 16:43:37,559 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 16:43:37,876 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 16:43:38,427 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 16:43:38,815 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 16:43:39,294 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 16:43:39,774 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 16:43:40,159 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 16:43:40,702 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 16:43:40,702 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 16:43:40,702 - INFO - üîç Verificando prompt para processo 'contextualization_to_saude_00962' em: prompts/contextualization_to_saude_00962.txt
2025-05-15 16:43:41,612 - INFO - ‚úì Prompt para 'contextualization_to_saude_00962' carregado com sucesso
2025-05-15 16:43:43,398 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 16:43:43,399 - INFO - üîÑ Using process type: contextualization_to_saude_00962
2025-05-15 16:43:43,399 - INFO - 
==================================================
2025-05-15 16:43:43,399 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 16:43:43,399 - INFO - ==================================================
2025-05-15 16:43:43,399 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 16:43:43,399 - INFO - ‚Üí Parsing JSON content...
2025-05-15 16:43:44,091 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747338224.0919647.pdf
2025-05-15 16:43:45,312 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747338224.0919647.pdf
2025-05-15 16:43:45,312 - INFO - ‚úì PDF generated successfully
2025-05-15 16:43:45,313 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 16:43:45,313 - INFO - ‚úì PDF converted to base64
2025-05-15 16:43:45,313 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 16:43:45,313 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 16:43:45,313 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 16:43:45,313 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:43:45,313 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 16:44:06,813 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 16:44:06,814 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 16:44:06,814 - INFO - ## T√âCNICAS DE PESQUISA

### Defini√ß√£o de termos

#### Vari√°vel

Uma vari√°vel √© qualquer caracter√≠stica que pode assumir valores diferentes. Por exemplo, a idade, o g√™nero, a altura, o peso, a press√£o...
2025-05-15 16:44:06,814 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 16:44:06,814 - INFO - ‚Üí Preparing review prompt...
2025-05-15 16:44:06,814 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 16:44:06,814 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 16:44:08,694 - INFO - ‚úì Review completed successfully
2025-05-15 16:44:08,694 - INFO - Review feedback:
2025-05-15 16:44:08,694 - INFO - Vers√£o 1: [9]
Vers√£o 2: [1]

2025-05-15 16:44:08,694 - INFO - Selected contextualization version 1 with score 9
2025-05-15 16:44:08,694 - INFO - üîÑ Creating Google Document for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:44:12,249 - INFO - ‚úÖ Google Document created successfully
2025-05-15 16:44:12,249 - INFO - üìÑ Document ID: 1kZ2WuHzNWhIAnJXsNHBpoOwZrLmYmmRH
2025-05-15 16:44:12,249 - INFO - üîó Document Link: https://drive.google.com/file/d/1kZ2WuHzNWhIAnJXsNHBpoOwZrLmYmmRH/view?usp=drivesdk
2025-05-15 16:44:12,249 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 16:44:12,249 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 16:44:12,249 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 16:44:21,173 - INFO - Attempt 1: Received initial JSON response of length: 5144
2025-05-15 16:44:21,174 - INFO - ‚úÖ JSON validation successful
2025-05-15 16:44:21,174 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 16:44:21,174 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 16:44:21,174 - INFO - üîÑ Saving JSON to Google Drive for blob: '1j-UYQtZH3XmO6j77_JoJw9-1OzQDBRZT'
2025-05-15 16:44:21,186 - INFO - Creating folder structure: JSON
2025-05-15 16:44:25,683 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 16:44:25,683 - INFO - üìÑ File ID: 19fpKDNku3_4L7Dpv4Z-YTX_3kCdtIhCP
2025-05-15 16:44:25,683 - INFO - üîó File Link: https://drive.google.com/file/d/19fpKDNku3_4L7Dpv4Z-YTX_3kCdtIhCP/view?usp=drivesdk
2025-05-15 16:44:25,683 - INFO - ‚úì Valid JSON generated
2025-05-15 16:44:25,683 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 16:44:25,683 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 16:44:25,684 - INFO - Generated HTML from JSON with title: Verificando o aprendizado
2025-05-15 16:44:25,684 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificando o aprendizado</title>
    <link ...
2025-05-15 16:44:25,684 - INFO - ‚úì HTML generation completed successfully
2025-05-15 16:44:25,684 - INFO - 
==================================================
2025-05-15 16:44:25,684 - INFO - üìä PROCESSING SUMMARY
2025-05-15 16:44:25,684 - INFO - ==================================================
2025-05-15 16:44:25,684 - INFO - Total Processing Time: 42.29 seconds
2025-05-15 16:44:25,684 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 16:44:25,684 - INFO - Content ID: 18433
2025-05-15 16:44:25,684 - INFO - Final Content Size: 6336 characters
2025-05-15 16:44:25,684 - INFO - ==================================================
2025-05-15 16:44:25,684 - INFO - ‚úÖ Successfully processed content
2025-05-15 16:44:25,687 - INFO - Data de cria√ß√£o: 2025-05-15T19:17:37.708Z, ID: d139b564-5a1c-4ecf-87ea-50fccdc3b334
2025-05-15 16:44:28,395 - INFO - Registro inserido com sucesso. ID gerado: d139b564-5a1c-4ecf-87ea-50fccdc3b334
2025-05-15 16:44:28,397 - INFO - Data de cria√ß√£o: 2025-05-15T19:17:37.708Z, ID: 47a47b18-a8f2-4a08-af35-2c47d4ab1335
2025-05-15 16:44:30,917 - INFO - Registro inserido com sucesso. ID gerado: 47a47b18-a8f2-4a08-af35-2c47d4ab1335
2025-05-15 16:45:31,423 - INFO - Recebendo solicita√ß√£o para /api/get_data
2025-05-15 16:45:31,424 - INFO - Par√¢metros de filtro recebidos: ID=None, Nome=None, T√≠tulo NC=None
2025-05-15 16:45:31,424 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 16:45:34,695 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 16:45:34,696 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:12:40,591 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:12:40,606 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:12:40,606 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:12:40,607 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:12:40,607 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:12:40,607 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:12:40,608 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:12:42,411 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:12:42,411 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:13:00,393 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:13:01,962 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:13:01,985 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:13:02,000 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:13:03,527 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:13:03,527 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:13:03,846 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:13:05,689 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:13:05,689 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 17:13:05,691 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:13:05,691 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:13:06,256 - INFO - ‚úì Bucket existe: True
2025-05-15 17:13:06,989 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:13:07,175 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:13:07,871 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:13:08,050 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:13:08,743 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:13:08,918 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:13:09,610 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:13:09,781 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:13:10,480 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:13:10,658 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:13:11,602 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:13:11,779 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:13:12,532 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:13:12,706 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:13:13,452 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:13:13,623 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:13:14,358 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:13:14,538 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:13:15,262 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:13:15,450 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:13:16,179 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:13:16,350 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:13:17,095 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:13:17,264 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:13:18,031 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:13:18,032 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:13:18,032 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:13:18,958 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 17:13:20,862 - ERROR - ‚ùå Error setting up pipeline: __init__() takes from 2 to 3 positional arguments but 4 were given
2025-05-15 17:13:20,862 - ERROR - Error processing file: __init__() takes from 2 to 3 positional arguments but 4 were given
2025-05-15 17:13:20,863 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:13:20,863 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:13:20,868 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:13:22,025 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:13:24,142 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:13:24,142 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 17:13:24,143 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:13:24,143 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:13:25,551 - INFO - ‚úì Bucket existe: True
2025-05-15 17:13:25,795 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:13:26,419 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:13:26,670 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:13:27,283 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:13:27,541 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:13:28,151 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:13:28,420 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:13:29,019 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:13:29,300 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:13:29,882 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:13:30,228 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:13:30,747 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:13:31,154 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:13:31,612 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:13:32,064 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:13:32,475 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:13:32,976 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:13:33,346 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:13:33,874 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:13:34,207 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:13:34,792 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:13:35,080 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:13:35,714 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:13:35,952 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:13:36,712 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:13:36,712 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:13:36,712 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:13:37,649 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 17:13:39,464 - ERROR - ‚ùå Error setting up pipeline: __init__() takes from 2 to 3 positional arguments but 4 were given
2025-05-15 17:13:39,464 - ERROR - Error processing file: __init__() takes from 2 to 3 positional arguments but 4 were given
2025-05-15 17:13:39,465 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:13:39,465 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:13:39,475 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:13:40,520 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:15:07,994 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:15:08,012 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:15:08,012 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:15:08,013 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:15:08,013 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:15:08,013 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:15:08,015 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:15:09,987 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:15:09,987 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:15:12,590 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:15:14,275 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:15:14,275 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:15:14,286 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:15:15,203 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:15:15,997 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:15:15,997 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:15:17,155 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:15:17,155 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:15:17,157 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:15:17,157 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:15:17,856 - INFO - ‚úì Bucket existe: True
2025-05-15 17:15:18,512 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:15:18,719 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:15:19,390 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:15:19,582 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:15:19,771 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:15:20,080 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:15:20,466 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:15:20,946 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:15:21,345 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:15:21,810 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:15:22,264 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:15:22,673 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:15:23,183 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:15:23,541 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:15:24,177 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:15:24,387 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:15:25,138 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:15:25,316 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:15:26,047 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:15:26,224 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:15:26,956 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:15:27,133 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:15:27,878 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:15:28,105 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:15:28,858 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:15:28,858 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:15:28,858 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:15:29,784 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:15:31,573 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:15:31,573 - INFO - üîÑ Using process type: contextualization_to_TI
2025-05-15 17:15:31,574 - INFO - 
==================================================
2025-05-15 17:15:31,574 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:15:31,574 - INFO - ==================================================
2025-05-15 17:15:31,574 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:15:31,574 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:15:33,100 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340133.1004925.pdf
2025-05-15 17:15:33,100 - INFO - Processed 4 carousel items
2025-05-15 17:15:33,100 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 17:15:33,100 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 17:15:33,100 - INFO - Attempting to create a fallback PDF...
2025-05-15 17:15:33,278 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340133.1004925.pdf
2025-05-15 17:15:33,279 - INFO - ‚úì PDF generated successfully
2025-05-15 17:15:33,279 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:15:33,279 - INFO - ‚úì PDF converted to base64
2025-05-15 17:15:33,279 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:15:33,280 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:15:33,280 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:15:33,280 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:15:33,280 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:15:33,281 - ERROR - ‚ùå Gemini API processing failed: __init__() got an unexpected keyword argument 'transport'
2025-05-15 17:15:33,281 - ERROR - Tentativa de contextualiza√ß√£o #1 falhou: __init__() got an unexpected keyword argument 'transport'
2025-05-15 17:15:33,281 - ERROR - 
==================================================
2025-05-15 17:15:33,281 - ERROR - ‚ùå PIPELINE ERROR
2025-05-15 17:15:33,281 - ERROR - ==================================================
2025-05-15 17:15:33,281 - ERROR - Error occurred after 1.71 seconds
2025-05-15 17:15:33,281 - ERROR - Error message: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:15:33,282 - ERROR - Full traceback:
2025-05-15 17:15:33,283 - ERROR - Traceback (most recent call last):
  File "/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py", line 2360, in process_parallel
    raise Exception("Todas as tentativas de contextualiza√ß√£o falharam")
Exception: Todas as tentativas de contextualiza√ß√£o falharam

2025-05-15 17:15:33,283 - ERROR - ==================================================
2025-05-15 17:15:33,284 - ERROR - ‚ùå Error processing content: Processing failed: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:15:33,285 - ERROR - Error processing file: Processing failed: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:15:33,286 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:15:33,286 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:15:33,294 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:15:34,254 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:15:36,119 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:15:36,120 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:15:36,121 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:15:36,121 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:15:36,809 - INFO - ‚úì Bucket existe: True
2025-05-15 17:15:37,494 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:15:37,680 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:15:38,376 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:15:38,553 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:15:39,275 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:15:39,531 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:15:40,230 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:15:40,478 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:15:41,120 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:15:41,436 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:15:42,070 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:15:42,323 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:15:43,001 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:15:43,192 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:15:43,917 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:15:44,158 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:15:44,840 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:15:45,022 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:15:45,750 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:15:45,964 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:15:46,683 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:15:46,877 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:15:47,623 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:15:47,806 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:15:48,555 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:15:48,555 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:15:48,556 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:15:49,474 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:17:05,951 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:17:05,975 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:17:05,976 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:17:05,977 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:17:05,978 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:17:05,978 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:17:05,980 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:17:08,090 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:17:08,090 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:17:13,299 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:17:14,793 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:17:14,794 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:17:14,805 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:17:15,714 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:17:16,358 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:17:16,358 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:17:17,572 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:17:17,572 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:17:17,573 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:17:17,573 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:17:18,813 - INFO - ‚úì Bucket existe: True
2025-05-15 17:17:19,091 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:17:19,676 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:17:19,970 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:17:20,542 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:17:20,853 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:17:21,407 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:17:21,728 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:17:22,272 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:17:22,600 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:17:23,133 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:17:23,525 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:17:24,002 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:17:24,438 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:17:24,872 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:17:25,350 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:17:25,742 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:17:26,280 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:17:26,603 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:17:27,213 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:17:27,474 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:17:28,140 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:17:28,336 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:17:29,060 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:17:29,264 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:17:29,980 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:17:29,981 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:17:29,981 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:17:30,897 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:17:32,684 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:17:32,684 - INFO - üîÑ Using process type: contextualization_to_TI
2025-05-15 17:17:32,685 - INFO - 
==================================================
2025-05-15 17:17:32,685 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:17:32,685 - INFO - ==================================================
2025-05-15 17:17:32,685 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:17:32,685 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:17:33,453 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340253.452993.pdf
2025-05-15 17:17:33,453 - INFO - Processed 4 carousel items
2025-05-15 17:17:33,453 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 17:17:33,453 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 17:17:33,453 - INFO - Attempting to create a fallback PDF...
2025-05-15 17:17:33,628 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340253.452993.pdf
2025-05-15 17:17:33,628 - INFO - ‚úì PDF generated successfully
2025-05-15 17:17:33,628 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:17:33,628 - INFO - ‚úì PDF converted to base64
2025-05-15 17:17:33,628 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:17:33,629 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:17:33,629 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:17:33,629 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:17:33,629 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:17:35,211 - ERROR - ‚ùå Gemini API processing failed: Failed to generate content
2025-05-15 17:17:35,212 - ERROR - Tentativa de contextualiza√ß√£o #1 falhou: Failed to generate content
2025-05-15 17:17:35,212 - ERROR - 
==================================================
2025-05-15 17:17:35,212 - ERROR - ‚ùå PIPELINE ERROR
2025-05-15 17:17:35,212 - ERROR - ==================================================
2025-05-15 17:17:35,212 - ERROR - Error occurred after 2.53 seconds
2025-05-15 17:17:35,212 - ERROR - Error message: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:17:35,213 - ERROR - Full traceback:
2025-05-15 17:17:35,214 - ERROR - Traceback (most recent call last):
  File "/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py", line 2360, in process_parallel
    raise Exception("Todas as tentativas de contextualiza√ß√£o falharam")
Exception: Todas as tentativas de contextualiza√ß√£o falharam

2025-05-15 17:17:35,214 - ERROR - ==================================================
2025-05-15 17:17:35,215 - ERROR - ‚ùå Error processing content: Processing failed: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:17:35,215 - ERROR - Error processing file: Processing failed: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:17:35,216 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:17:35,216 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:17:35,225 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:17:36,207 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:20:42,595 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:20:42,613 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:20:42,613 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:20:42,613 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:20:42,613 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:20:42,614 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:20:42,615 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:20:44,623 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:20:44,623 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:20:56,485 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:20:58,390 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:20:58,391 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:20:58,402 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:20:59,379 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:20:59,564 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:20:59,564 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:21:01,059 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:21:01,059 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 17:21:01,061 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:21:01,061 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:21:01,868 - INFO - ‚úì Bucket existe: True
2025-05-15 17:21:02,494 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:21:02,734 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:21:03,369 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:21:03,594 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:21:04,240 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:21:04,457 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:21:04,638 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:21:05,328 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:21:05,519 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:21:05,689 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:21:06,450 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:21:06,626 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:21:07,369 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:21:07,548 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:21:07,742 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:21:08,060 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:21:08,472 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:21:08,933 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:21:09,539 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:21:09,712 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:21:10,477 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:21:10,657 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:21:11,401 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:21:11,580 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:21:12,330 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:21:12,330 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:21:12,330 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:21:13,258 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 17:21:15,087 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:21:15,087 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 17:21:15,087 - INFO - 
==================================================
2025-05-15 17:21:15,087 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:21:15,087 - INFO - ==================================================
2025-05-15 17:21:15,087 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:21:15,087 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:21:15,798 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340475.7987487.pdf
2025-05-15 17:21:15,798 - INFO - Processed 4 carousel items
2025-05-15 17:21:15,799 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 17:21:15,799 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 17:21:15,799 - INFO - Attempting to create a fallback PDF...
2025-05-15 17:21:15,964 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340475.7987487.pdf
2025-05-15 17:21:15,965 - INFO - ‚úì PDF generated successfully
2025-05-15 17:21:15,965 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:21:15,965 - INFO - ‚úì PDF converted to base64
2025-05-15 17:21:15,965 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:21:15,965 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:21:15,965 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:21:15,965 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:21:15,965 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:21:17,526 - ERROR - ‚ùå Gemini API processing failed: Failed to generate content
2025-05-15 17:21:17,527 - ERROR - Tentativa de contextualiza√ß√£o #1 falhou: Failed to generate content
2025-05-15 17:21:17,527 - ERROR - 
==================================================
2025-05-15 17:21:17,529 - ERROR - ‚ùå PIPELINE ERROR
2025-05-15 17:21:17,529 - ERROR - ==================================================
2025-05-15 17:21:17,529 - ERROR - Error occurred after 2.44 seconds
2025-05-15 17:21:17,529 - ERROR - Error message: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:21:17,530 - ERROR - Full traceback:
2025-05-15 17:21:17,531 - ERROR - Traceback (most recent call last):
  File "/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py", line 2360, in process_parallel
    raise Exception("Todas as tentativas de contextualiza√ß√£o falharam")
Exception: Todas as tentativas de contextualiza√ß√£o falharam

2025-05-15 17:21:17,531 - ERROR - ==================================================
2025-05-15 17:21:17,532 - ERROR - ‚ùå Error processing content: Processing failed: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:21:17,532 - ERROR - Error processing file: Processing failed: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:21:17,533 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:21:17,533 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:21:17,540 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:21:18,566 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:21:20,426 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:21:20,428 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 17:21:20,434 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:21:20,434 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:21:21,760 - INFO - ‚úì Bucket existe: True
2025-05-15 17:21:21,998 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:21:22,632 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:21:22,867 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:21:23,560 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:21:23,748 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:21:24,427 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:21:24,639 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:21:25,309 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:21:25,510 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:21:26,175 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:21:26,442 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:21:27,033 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:21:27,382 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:21:27,895 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:21:28,298 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:21:28,755 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:21:29,215 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:21:29,621 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:21:30,120 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:21:30,496 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:21:31,058 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:21:31,361 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:21:31,977 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:21:32,220 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:21:32,895 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:21:32,895 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:21:32,895 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:21:34,014 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 17:23:38,691 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:23:38,708 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:23:38,708 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:23:38,709 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:23:38,709 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:23:38,709 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:23:38,711 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:23:40,516 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:23:40,516 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:23:46,348 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:23:48,139 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:23:48,139 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:23:48,149 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:23:49,176 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:23:49,779 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:23:49,779 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:23:50,967 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:23:50,967 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:23:50,969 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:23:50,969 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:23:52,223 - INFO - ‚úì Bucket existe: True
2025-05-15 17:23:52,505 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:23:53,092 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:23:53,375 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:23:53,959 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:23:54,245 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:23:54,832 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:23:55,125 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:23:55,699 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:23:56,027 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:23:56,565 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:23:56,958 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:23:57,435 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:23:57,881 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:23:58,296 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:23:58,804 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:23:59,156 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:23:59,713 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:24:00,026 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:24:00,658 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:24:00,893 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:24:01,605 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:24:01,788 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:24:02,521 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:24:02,703 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:24:03,468 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:24:03,468 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:24:03,468 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:24:04,385 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:24:06,190 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:24:06,190 - INFO - üîÑ Using process type: contextualization_to_TI
2025-05-15 17:24:06,190 - INFO - 
==================================================
2025-05-15 17:24:06,190 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:24:06,190 - INFO - ==================================================
2025-05-15 17:24:06,190 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:24:06,190 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:24:06,918 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340646.9183552.pdf
2025-05-15 17:24:06,918 - INFO - Processed 4 carousel items
2025-05-15 17:24:06,918 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 17:24:06,918 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 17:24:06,919 - INFO - Attempting to create a fallback PDF...
2025-05-15 17:24:07,094 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340646.9183552.pdf
2025-05-15 17:24:07,094 - INFO - ‚úì PDF generated successfully
2025-05-15 17:24:07,094 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:24:07,095 - INFO - ‚úì PDF converted to base64
2025-05-15 17:24:07,095 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:24:07,095 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:24:07,095 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:24:07,095 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:24:07,095 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:24:34,734 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 17:24:34,734 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 17:24:34,734 - INFO - Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:

*   Clareza na formula√ß√£o de ideias e comunica√ß√£o. Essencial para apresentar um c√≥digo bem documentado, um...
2025-05-15 17:24:34,735 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 17:24:34,735 - INFO - ‚Üí Preparing review prompt...
2025-05-15 17:24:34,735 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 17:24:34,735 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:24:36,340 - INFO - ‚úì Review completed successfully
2025-05-15 17:24:36,341 - INFO - Review feedback:
2025-05-15 17:24:36,341 - INFO - Vers√£o 1: 7
Vers√£o 2: N/A

2025-05-15 17:24:36,341 - INFO - Selected contextualization version 1 with score 7
2025-05-15 17:24:36,341 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:24:40,473 - INFO - ‚úÖ Google Document created successfully
2025-05-15 17:24:40,473 - INFO - üìÑ Document ID: 1SjIB_kFL_-HJZia4jgytebUs2QI3SKdY
2025-05-15 17:24:40,473 - INFO - üîó Document Link: https://drive.google.com/file/d/1SjIB_kFL_-HJZia4jgytebUs2QI3SKdY/view?usp=drivesdk
2025-05-15 17:24:40,473 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 17:24:40,473 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 17:24:40,474 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 17:25:17,674 - INFO - Attempt 1: Received initial JSON response of length: 32074
2025-05-15 17:25:17,674 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 17:25:17,675 - INFO - Requesting continuation of JSON response...
2025-05-15 17:25:23,630 - INFO - Received continuation of length: 3159
2025-05-15 17:25:23,638 - WARNING - Merged JSON is invalid: Expecting ',' delimiter: line 287 column 864 (char 32067)
2025-05-15 17:25:23,640 - INFO - Merged JSON response length: 32066
2025-05-15 17:25:23,641 - WARNING - Cleaned JSON is invalid: Expecting ',' delimiter: line 280 column 6 (char 31048)
2025-05-15 17:25:23,641 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 17:25:23,641 - WARNING - Original JSON is also invalid
2025-05-15 17:25:23,641 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 280 column 6 (char 31048)
2025-05-15 17:25:23,645 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:25:23,645 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 280 column 6 (char 31048)
2025-05-15 17:25:23,648 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:25:23,649 - WARNING - Attempt 1: JSON validation failed - Expecting ',' delimiter: line 280 column 6 (char 31048)
2025-05-15 17:25:23,649 - INFO - Retrying JSON generation... (attempt 2/3)
2025-05-15 17:26:02,199 - INFO - Attempt 2: Received initial JSON response of length: 23177
2025-05-15 17:26:02,200 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 17:26:02,200 - INFO - Requesting continuation of JSON response...
2025-05-15 17:26:05,756 - INFO - Received continuation of length: 1607
2025-05-15 17:26:05,761 - WARNING - Merged JSON is invalid: Expecting ',' delimiter: line 220 column 27 (char 23179)
2025-05-15 17:26:05,763 - INFO - Merged JSON response length: 23169
2025-05-15 17:26:05,763 - WARNING - Cleaned JSON is invalid: Expecting ',' delimiter: line 217 column 6 (char 23097)
2025-05-15 17:26:05,764 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 17:26:05,764 - WARNING - Original JSON is also invalid
2025-05-15 17:26:05,764 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 217 column 6 (char 23097)
2025-05-15 17:26:05,767 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:26:05,767 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 217 column 6 (char 23097)
2025-05-15 17:26:05,769 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:26:05,770 - WARNING - Attempt 2: JSON validation failed - Expecting ',' delimiter: line 217 column 6 (char 23097)
2025-05-15 17:26:05,770 - INFO - Retrying JSON generation... (attempt 3/3)
2025-05-15 17:26:43,178 - INFO - Attempt 3: Received initial JSON response of length: 32276
2025-05-15 17:26:43,178 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 17:26:43,178 - INFO - Requesting continuation of JSON response...
2025-05-15 17:27:00,062 - INFO - Received continuation of length: 8891
2025-05-15 17:27:00,062 - INFO - Found truncated URL at end of first part
2025-05-15 17:27:00,062 - INFO - Successfully reconstructed URL
2025-05-15 17:27:00,063 - INFO - Merged JSON response length: 41139
2025-05-15 17:27:00,063 - WARNING - Cleaned JSON is invalid: Expecting ',' delimiter: line 288 column 80 (char 32269)
2025-05-15 17:27:00,063 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 17:27:00,063 - WARNING - Original JSON is also invalid
2025-05-15 17:27:00,063 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 288 column 80 (char 32269)
2025-05-15 17:27:00,068 - WARNING - Unbalanced quotes detected, attempting to fix
2025-05-15 17:27:00,069 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:27:00,069 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 288 column 80 (char 32269)
2025-05-15 17:27:00,074 - WARNING - Unbalanced quotes detected, attempting to fix
2025-05-15 17:27:00,074 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:27:00,074 - WARNING - Attempt 3: JSON validation failed - Expecting ',' delimiter: line 288 column 80 (char 32269)
2025-05-15 17:27:00,074 - ERROR - ‚ùå Error processing with Gemini chat: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 288 column 80 (char 32269)
2025-05-15 17:27:00,075 - ERROR - 
==================================================
2025-05-15 17:27:00,075 - ERROR - ‚ùå PIPELINE ERROR
2025-05-15 17:27:00,075 - ERROR - ==================================================
2025-05-15 17:27:00,075 - ERROR - Error occurred after 173.88 seconds
2025-05-15 17:27:00,075 - ERROR - Error message: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 288 column 80 (char 32269)
2025-05-15 17:27:00,075 - ERROR - Full traceback:
2025-05-15 17:27:00,076 - ERROR - Traceback (most recent call last):
  File "/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py", line 2462, in process_parallel
    raise Exception(f"JSON reconstruction failed: {json_result.error}")
Exception: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 288 column 80 (char 32269)

2025-05-15 17:27:00,076 - ERROR - ==================================================
2025-05-15 17:27:00,076 - ERROR - ‚ùå Error processing content: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 288 column 80 (char 32269)
2025-05-15 17:27:00,077 - ERROR - Error processing file: Processing failed: JSON reconstruction failed: Failed to generate valid JSON after 3 attempts: Expecting ',' delimiter: line 288 column 80 (char 32269)
2025-05-15 17:27:00,077 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:27:00,077 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:27:00,091 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:27:01,124 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:27:02,815 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:27:02,815 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:27:02,817 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:27:02,817 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:27:03,435 - INFO - ‚úì Bucket existe: True
2025-05-15 17:27:04,200 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:27:04,396 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:27:05,094 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:27:05,278 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:27:05,980 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:27:06,169 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:27:06,886 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:27:07,065 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:27:07,270 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:27:07,959 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:27:08,206 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:27:08,840 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:27:09,124 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:27:09,719 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:27:10,069 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:27:10,276 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:27:10,903 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:27:11,097 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:27:11,829 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:27:12,022 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:27:12,751 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:27:12,938 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:27:13,304 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:27:13,503 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:27:13,893 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:27:13,893 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:27:13,893 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:27:14,862 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:27:16,910 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:27:16,911 - INFO - üîÑ Using process type: contextualization_to_TI
2025-05-15 17:27:16,911 - INFO - 
==================================================
2025-05-15 17:27:16,911 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:27:16,911 - INFO - ==================================================
2025-05-15 17:27:16,911 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:27:16,911 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:27:17,688 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340837.6886716.pdf
2025-05-15 17:27:19,592 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340837.6886716.pdf
2025-05-15 17:27:19,592 - INFO - ‚úì PDF generated successfully
2025-05-15 17:27:19,592 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:27:19,592 - INFO - ‚úì PDF converted to base64
2025-05-15 17:27:19,592 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:27:19,592 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:27:19,592 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:27:19,592 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:27:19,592 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:27:41,098 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 17:27:41,099 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 17:27:41,099 - INFO - Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:

*   Clareza na formula√ß√£o de ideias e comunica√ß√£o. Essencial para um analista de dados que precisa apresen...
2025-05-15 17:27:41,099 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 17:27:41,099 - INFO - ‚Üí Preparing review prompt...
2025-05-15 17:27:41,099 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 17:27:41,099 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:27:42,554 - INFO - ‚úì Review completed successfully
2025-05-15 17:27:42,555 - INFO - Review feedback:
2025-05-15 17:27:42,555 - INFO - Vers√£o 1: [8]
Vers√£o 2: [1]

2025-05-15 17:27:42,555 - INFO - Selected contextualization version 1 with score 8
2025-05-15 17:27:42,555 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:27:46,788 - INFO - ‚úÖ Google Document created successfully
2025-05-15 17:27:46,788 - INFO - üìÑ Document ID: 1_ADFT11OhfVEfBv_oiEyUnQNs9ehvl2A
2025-05-15 17:27:46,788 - INFO - üîó Document Link: https://drive.google.com/file/d/1_ADFT11OhfVEfBv_oiEyUnQNs9ehvl2A/view?usp=drivesdk
2025-05-15 17:27:46,788 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 17:27:46,789 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 17:27:46,789 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 17:28:10,386 - INFO - Attempt 1: Received initial JSON response of length: 20709
2025-05-15 17:28:10,390 - INFO - ‚úÖ JSON validation successful
2025-05-15 17:28:10,390 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 17:28:10,390 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 17:28:10,390 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:28:10,397 - INFO - Creating folder structure: JSON
2025-05-15 17:28:15,715 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 17:28:15,715 - INFO - üìÑ File ID: 1VrlZbMKuM05wFB9hl7TuvqHYd2YwQeEx
2025-05-15 17:28:15,715 - INFO - üîó File Link: https://drive.google.com/file/d/1VrlZbMKuM05wFB9hl7TuvqHYd2YwQeEx/view?usp=drivesdk
2025-05-15 17:28:15,716 - INFO - ‚úì Valid JSON generated
2025-05-15 17:28:15,716 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 17:28:15,716 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 17:28:15,716 - INFO - Generated HTML from JSON with title: O que √© o Gerenciamento de Projetos?
2025-05-15 17:28:15,716 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O que √© o Gerenciamento de Projetos?</title>...
2025-05-15 17:28:15,716 - INFO - ‚úì HTML generation completed successfully
2025-05-15 17:28:15,716 - INFO - 
==================================================
2025-05-15 17:28:15,716 - INFO - üìä PROCESSING SUMMARY
2025-05-15 17:28:15,716 - INFO - ==================================================
2025-05-15 17:28:15,716 - INFO - Total Processing Time: 58.81 seconds
2025-05-15 17:28:15,716 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 17:28:15,716 - INFO - Content ID: 47022
2025-05-15 17:28:15,716 - INFO - Final Content Size: 24318 characters
2025-05-15 17:28:15,716 - INFO - ==================================================
2025-05-15 17:28:15,717 - INFO - ‚úÖ Successfully processed content
2025-05-15 17:28:15,717 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:28:15,718 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:28:15,723 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:28:16,843 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:28:18,776 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:28:18,776 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:28:18,778 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:28:18,778 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:28:19,439 - INFO - ‚úì Bucket existe: True
2025-05-15 17:28:20,221 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:28:20,439 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:28:21,115 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:28:21,316 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:28:21,997 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:28:22,202 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:28:22,878 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:28:23,089 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:28:23,783 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:28:23,969 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:28:24,729 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:28:24,909 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:28:25,660 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:28:25,841 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:28:26,599 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:28:26,785 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:28:27,530 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:28:27,817 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:28:28,533 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:28:28,709 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:28:29,456 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:28:29,639 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:28:30,373 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:28:30,570 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:28:31,304 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:28:31,304 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:28:31,304 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:28:32,228 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:28:34,035 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:28:34,036 - INFO - üîÑ Using process type: contextualization_to_TI
2025-05-15 17:28:34,038 - INFO - 
==================================================
2025-05-15 17:28:34,038 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:28:34,039 - INFO - ==================================================
2025-05-15 17:28:34,039 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:28:34,039 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:28:34,834 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340914.834514.pdf
2025-05-15 17:28:39,261 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747340914.834514.pdf
2025-05-15 17:28:39,261 - INFO - ‚úì PDF generated successfully
2025-05-15 17:28:39,261 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:28:39,262 - INFO - ‚úì PDF converted to base64
2025-05-15 17:28:39,262 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:28:39,262 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:28:39,262 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:28:39,262 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:28:39,262 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:28:51,445 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 17:28:51,446 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 17:28:51,446 - INFO - Ok, vamos l√°! Abaixo est√° o conte√∫do contextualizado sobre pesquisa para o universo da Tecnologia da Informa√ß√£o:

Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesqui...
2025-05-15 17:28:51,446 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 17:28:51,446 - INFO - ‚Üí Preparing review prompt...
2025-05-15 17:28:51,446 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 17:28:51,446 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:28:52,896 - INFO - ‚úì Review completed successfully
2025-05-15 17:28:52,896 - INFO - Review feedback:
2025-05-15 17:28:52,896 - INFO - Vers√£o 1: [8]

2025-05-15 17:28:52,896 - INFO - Selected contextualization version 1 with score 8
2025-05-15 17:28:52,896 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:28:56,814 - INFO - ‚úÖ Google Document created successfully
2025-05-15 17:28:56,814 - INFO - üìÑ Document ID: 1FXn3_j3mvT4eEwrDOn-KczL2mvlTivHp
2025-05-15 17:28:56,814 - INFO - üîó Document Link: https://drive.google.com/file/d/1FXn3_j3mvT4eEwrDOn-KczL2mvlTivHp/view?usp=drivesdk
2025-05-15 17:28:56,814 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 17:28:56,815 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 17:28:56,815 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 17:29:21,577 - INFO - Attempt 1: Received initial JSON response of length: 16454
2025-05-15 17:29:21,580 - INFO - ‚úÖ JSON validation successful
2025-05-15 17:29:21,580 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 17:29:21,581 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 17:29:21,581 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:29:21,593 - INFO - Creating folder structure: JSON
2025-05-15 17:29:26,075 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 17:29:26,075 - INFO - üìÑ File ID: 1PPIjokNH25KYeBEF6ZxcsQu8YR8bvu5_
2025-05-15 17:29:26,075 - INFO - üîó File Link: https://drive.google.com/file/d/1PPIjokNH25KYeBEF6ZxcsQu8YR8bvu5_/view?usp=drivesdk
2025-05-15 17:29:26,075 - INFO - ‚úì Valid JSON generated
2025-05-15 17:29:26,075 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 17:29:26,075 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 17:29:26,075 - INFO - Generated HTML from JSON with title: Gerente de Projetos (GP)
2025-05-15 17:29:26,076 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerente de Projetos (GP)</title>
    <link h...
2025-05-15 17:29:26,076 - INFO - ‚úì HTML generation completed successfully
2025-05-15 17:29:26,076 - INFO - 
==================================================
2025-05-15 17:29:26,076 - INFO - üìä PROCESSING SUMMARY
2025-05-15 17:29:26,076 - INFO - ==================================================
2025-05-15 17:29:26,076 - INFO - Total Processing Time: 52.04 seconds
2025-05-15 17:29:26,076 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 17:29:26,076 - INFO - Content ID: 47089
2025-05-15 17:29:26,076 - INFO - Final Content Size: 12338 characters
2025-05-15 17:29:26,076 - INFO - ==================================================
2025-05-15 17:29:26,076 - INFO - ‚úÖ Successfully processed content
2025-05-15 17:29:26,077 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:29:26,077 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:29:26,082 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:29:27,328 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:29:29,030 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:29:29,030 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:29:29,032 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:29:29,032 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:29:30,128 - INFO - ‚úì Bucket existe: True
2025-05-15 17:29:30,503 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:29:31,099 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:29:31,873 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:29:32,058 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:29:32,757 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:29:32,943 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:29:33,631 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:29:33,821 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:29:34,157 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:29:34,346 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:29:35,098 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:29:35,294 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:29:35,544 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:29:36,164 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:29:36,466 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:29:37,026 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:29:37,403 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:29:37,584 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:29:38,322 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:29:38,506 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:29:39,249 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:29:39,433 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:29:40,191 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:29:40,367 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:29:40,779 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:29:40,780 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:29:40,780 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:29:41,717 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:29:43,190 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:29:43,190 - INFO - üîÑ Using process type: contextualization_to_TI
2025-05-15 17:29:43,190 - INFO - 
==================================================
2025-05-15 17:29:43,190 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:29:43,190 - INFO - ==================================================
2025-05-15 17:29:43,190 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:29:43,190 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:34:26,278 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:34:26,294 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:34:26,294 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:34:26,295 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:34:26,295 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:34:26,295 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:34:26,296 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:34:28,157 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:34:28,157 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:34:34,094 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:34:35,776 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:34:35,776 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:34:35,791 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:34:36,850 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:34:37,445 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:34:37,445 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:34:38,548 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:34:38,548 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:34:38,550 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:34:38,550 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:34:39,801 - INFO - ‚úì Bucket existe: True
2025-05-15 17:34:40,099 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:34:40,683 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:34:40,973 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:34:41,297 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:34:41,563 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:34:42,163 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:34:42,438 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:34:43,030 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:34:43,319 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:34:43,915 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:34:44,246 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:34:44,776 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:34:45,167 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:34:45,645 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:34:46,088 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:34:46,504 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:34:47,001 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:34:47,372 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:34:47,742 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:34:47,923 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:34:48,662 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:34:48,837 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:34:49,214 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:34:49,529 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:34:50,141 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:34:50,141 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:34:50,141 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:34:51,075 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:34:52,881 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:34:52,881 - INFO - üîÑ Using process type: contextualization_to_TI
2025-05-15 17:34:52,881 - INFO - 
==================================================
2025-05-15 17:34:52,881 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:34:52,881 - INFO - ==================================================
2025-05-15 17:34:52,881 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:34:52,881 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:34:53,592 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747341293.5922701.pdf
2025-05-15 17:34:53,592 - INFO - Processed 4 carousel items
2025-05-15 17:34:53,592 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 17:34:53,592 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 17:34:53,592 - INFO - Attempting to create a fallback PDF...
2025-05-15 17:34:53,761 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747341293.5922701.pdf
2025-05-15 17:34:53,761 - INFO - ‚úì PDF generated successfully
2025-05-15 17:34:53,761 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:34:53,762 - INFO - ‚úì PDF converted to base64
2025-05-15 17:34:53,762 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:34:53,762 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:34:53,762 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:34:53,762 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:34:53,762 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:35:37,460 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 17:35:37,460 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 17:35:37,460 - INFO - Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:

*   Clareza na formula√ß√£o de ideias e comunica√ß√£o. Essencial para um desenvolvedor ao documentar seu c√≥dig...
2025-05-15 17:35:37,460 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 17:35:37,460 - INFO - ‚Üí Preparing review prompt...
2025-05-15 17:35:37,460 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 17:35:37,460 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:35:39,146 - INFO - ‚úì Review completed successfully
2025-05-15 17:35:39,147 - INFO - Review feedback:
2025-05-15 17:35:39,147 - INFO - VERS√ÉO 1: [7]
VERS√ÉO 2: [2]

2025-05-15 17:35:39,147 - WARNING - Could not parse scores from review result, using first contextualization
2025-05-15 17:35:39,147 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:35:43,114 - INFO - ‚úÖ Google Document created successfully
2025-05-15 17:35:43,114 - INFO - üìÑ Document ID: 1oBliurzHPnzzSI7qSUFRDoqA2bjU_Nih
2025-05-15 17:35:43,114 - INFO - üîó Document Link: https://drive.google.com/file/d/1oBliurzHPnzzSI7qSUFRDoqA2bjU_Nih/view?usp=drivesdk
2025-05-15 17:35:43,114 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 17:35:43,114 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 17:35:43,115 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 17:36:19,712 - INFO - Attempt 1: Received initial JSON response of length: 31190
2025-05-15 17:36:19,713 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 17:36:19,713 - INFO - Requesting continuation of JSON response...
2025-05-15 17:36:31,952 - INFO - Received continuation of length: 7325
2025-05-15 17:36:31,960 - WARNING - Merged JSON is invalid: Expecting property name enclosed in double quotes: line 238 column 17 (char 31167)
2025-05-15 17:36:31,963 - INFO - Merged JSON response length: 31167
2025-05-15 17:36:31,963 - WARNING - Cleaned JSON is invalid: Expecting ',' delimiter: line 238 column 16 (char 31166)
2025-05-15 17:36:31,963 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 17:36:31,964 - WARNING - Original JSON is also invalid
2025-05-15 17:36:31,964 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 238 column 16 (char 31166)
2025-05-15 17:36:31,967 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:36:31,968 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 238 column 16 (char 31166)
2025-05-15 17:36:31,971 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:36:31,971 - WARNING - Attempt 1: JSON validation failed - Expecting ',' delimiter: line 238 column 16 (char 31166)
2025-05-15 17:36:31,971 - INFO - Retrying JSON generation... (attempt 2/3)
2025-05-15 17:37:09,887 - INFO - Attempt 2: Received initial JSON response of length: 27044
2025-05-15 17:37:09,887 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 17:37:09,887 - INFO - Requesting continuation of JSON response...
2025-05-15 17:37:15,188 - INFO - Received continuation of length: 3157
2025-05-15 17:37:15,195 - WARNING - Merged JSON is invalid: Invalid control character at: line 469 column 477 (char 27038)
2025-05-15 17:37:15,197 - INFO - ‚úÖ Alternative merge successful
2025-05-15 17:37:15,198 - INFO - Merged JSON response length: 29697
2025-05-15 17:37:15,198 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 17:37:15,198 - INFO - ‚úì Generated JSON is valid on attempt 2
2025-05-15 17:37:15,198 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:37:15,210 - INFO - Creating folder structure: JSON
2025-05-15 17:37:19,111 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 17:37:19,111 - INFO - üìÑ File ID: 1ib6ZoHSCOJ7BmxsstQ8ZcLJM5ycS2fTg
2025-05-15 17:37:19,111 - INFO - üîó File Link: https://drive.google.com/file/d/1ib6ZoHSCOJ7BmxsstQ8ZcLJM5ycS2fTg/view?usp=drivesdk
2025-05-15 17:37:19,111 - INFO - ‚úì Valid JSON generated
2025-05-15 17:37:19,111 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 17:37:19,112 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 17:37:19,112 - INFO - Processed 4 carousel items
2025-05-15 17:37:19,112 - INFO - Generated HTML from JSON with title: No title
2025-05-15 17:37:19,112 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documento</title>
    <link href="https://fo...
2025-05-15 17:37:19,112 - INFO - ‚úì HTML generation completed successfully
2025-05-15 17:37:19,112 - INFO - 
==================================================
2025-05-15 17:37:19,112 - INFO - üìä PROCESSING SUMMARY
2025-05-15 17:37:19,112 - INFO - ==================================================
2025-05-15 17:37:19,112 - INFO - Total Processing Time: 146.23 seconds
2025-05-15 17:37:19,113 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 17:37:19,113 - INFO - Content ID: 47014
2025-05-15 17:37:19,113 - INFO - Final Content Size: 12059 characters
2025-05-15 17:37:19,113 - INFO - ==================================================
2025-05-15 17:37:19,113 - INFO - ‚úÖ Successfully processed content
2025-05-15 17:37:19,114 - INFO - üîÑ Getting process type for area_conhecimento: TI and context_type: contextualizacao
2025-05-15 17:37:19,115 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:37:19,130 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:37:20,056 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:37:21,941 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:37:21,941 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_TI/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_TI

2025-05-15 17:37:21,942 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:37:21,943 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:37:22,722 - INFO - ‚úì Bucket existe: True
2025-05-15 17:37:23,297 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:37:23,598 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:37:24,181 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:37:24,470 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:37:25,072 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:37:25,333 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:37:25,941 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:37:26,204 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:37:26,826 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:37:27,073 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:37:27,750 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:37:27,960 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:37:28,719 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:37:28,913 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:37:29,659 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:37:29,843 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:37:30,209 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:37:30,774 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:37:31,249 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:37:31,653 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:37:32,168 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:37:32,535 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:37:33,092 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:37:33,399 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:37:34,032 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:37:34,032 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:37:34,033 - INFO - üîç Verificando prompt para processo 'contextualization_to_TI' em: prompts/contextualization_to_TI.txt
2025-05-15 17:37:34,950 - INFO - ‚úì Prompt para 'contextualization_to_TI' carregado com sucesso
2025-05-15 17:52:04,132 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:52:04,148 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:52:04,148 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:52:04,148 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:52:04,148 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:52:04,148 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:52:04,180 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:52:05,747 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:52:05,748 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:52:14,053 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:52:15,721 - INFO - üîÑ Getting process type for area_conhecimento: Gest√£o and context_type: contextualizacao
2025-05-15 17:52:15,722 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:52:15,824 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:52:16,905 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:52:17,456 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:52:17,456 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:52:18,587 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:52:18,587 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_gestao_00962/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_gestao_00962

2025-05-15 17:52:18,618 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:52:18,618 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:52:19,160 - INFO - ‚úì Bucket existe: True
2025-05-15 17:52:19,897 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:52:20,073 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:52:20,768 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:52:20,949 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:52:21,138 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:52:21,811 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:52:22,006 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:52:22,683 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:52:22,885 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:52:23,548 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:52:23,809 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:52:24,415 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:52:24,728 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:52:25,282 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:52:25,656 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:52:26,157 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:52:26,580 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:52:27,022 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:52:27,484 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:52:27,891 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:52:28,394 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:52:28,757 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:52:29,311 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:52:29,617 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:52:30,236 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:52:30,237 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:52:30,237 - INFO - üîç Verificando prompt para processo 'contextualization_to_gestao_00962' em: prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:52:31,159 - INFO - ‚úì Prompt para 'contextualization_to_gestao_00962' carregado com sucesso
2025-05-15 17:52:32,957 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:52:32,957 - INFO - üîÑ Using process type: contextualization_to_gestao_00962
2025-05-15 17:52:32,957 - INFO - 
==================================================
2025-05-15 17:52:32,957 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:52:32,957 - INFO - ==================================================
2025-05-15 17:52:32,957 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:52:32,957 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:52:33,673 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342353.6731904.pdf
2025-05-15 17:52:33,673 - INFO - Processed 4 carousel items
2025-05-15 17:52:33,673 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 17:52:33,673 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 17:52:33,673 - INFO - Attempting to create a fallback PDF...
2025-05-15 17:52:33,892 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342353.6731904.pdf
2025-05-15 17:52:33,893 - INFO - ‚úì PDF generated successfully
2025-05-15 17:52:33,893 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:52:33,893 - INFO - ‚úì PDF converted to base64
2025-05-15 17:52:33,893 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:52:33,894 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:52:33,895 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:52:33,896 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:52:33,896 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:54:51,340 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:54:51,359 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:54:51,359 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:54:51,360 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:54:51,360 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:54:51,360 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:54:51,391 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:54:53,306 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:54:53,306 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:55:05,984 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:55:07,574 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:55:07,575 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:55:07,696 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:55:08,597 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:55:09,233 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:55:09,233 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:55:10,585 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:55:10,585 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 17:55:10,615 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:55:10,615 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:55:11,154 - INFO - ‚úì Bucket existe: True
2025-05-15 17:55:11,903 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:55:12,079 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:55:12,426 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:55:12,772 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:55:13,328 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:55:13,642 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:55:13,999 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:55:14,294 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:55:14,994 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:55:15,167 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:55:15,922 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:55:16,101 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:55:16,839 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:55:17,009 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:55:17,761 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:55:17,930 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:55:18,701 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:55:18,891 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:55:19,622 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:55:19,796 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:55:20,548 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:55:20,732 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:55:21,127 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:55:21,434 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:55:22,076 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:55:22,076 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:55:22,077 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:55:22,677 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 17:55:24,055 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:55:24,055 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 17:55:24,055 - INFO - 
==================================================
2025-05-15 17:55:24,055 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:55:24,055 - INFO - ==================================================
2025-05-15 17:55:24,055 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:55:24,055 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:55:24,746 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342524.7467914.pdf
2025-05-15 17:55:24,746 - INFO - Processed 4 carousel items
2025-05-15 17:55:24,747 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 17:55:24,747 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 17:55:24,747 - INFO - Attempting to create a fallback PDF...
2025-05-15 17:55:24,924 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342524.7467914.pdf
2025-05-15 17:55:24,924 - INFO - ‚úì PDF generated successfully
2025-05-15 17:55:24,924 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:55:24,924 - INFO - ‚úì PDF converted to base64
2025-05-15 17:55:24,924 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:55:24,924 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:55:24,924 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:55:24,925 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:55:24,925 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:55:39,640 - ERROR - ‚ùå Gemini API error: Internal server error: __init__() got an unexpected keyword argument 'ssl_fingerprint'
2025-05-15 17:55:39,641 - ERROR - Tentativa de contextualiza√ß√£o #1 falhou: Internal server error: __init__() got an unexpected keyword argument 'ssl_fingerprint'
2025-05-15 17:55:39,641 - ERROR - 
==================================================
2025-05-15 17:55:39,641 - ERROR - ‚ùå PIPELINE ERROR
2025-05-15 17:55:39,641 - ERROR - ==================================================
2025-05-15 17:55:39,641 - ERROR - Error occurred after 15.59 seconds
2025-05-15 17:55:39,641 - ERROR - Error message: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:55:39,641 - ERROR - Full traceback:
2025-05-15 17:55:39,642 - ERROR - Traceback (most recent call last):
  File "/home/rafael/Desktop/projetos/yduqs_back/app/services/contextualizacao_service.py", line 2360, in process_parallel
    raise Exception("Todas as tentativas de contextualiza√ß√£o falharam")
Exception: Todas as tentativas de contextualiza√ß√£o falharam

2025-05-15 17:55:39,642 - ERROR - ==================================================
2025-05-15 17:55:39,643 - ERROR - ‚ùå Error processing content: Processing failed: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:55:39,643 - ERROR - Error processing file: Processing failed: Todas as tentativas de contextualiza√ß√£o falharam
2025-05-15 17:55:39,644 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:55:39,644 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:55:39,681 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:55:40,651 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:57:17,199 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 17:57:17,215 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 17:57:17,216 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 17:57:17,216 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:57:17,216 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:57:17,216 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:57:17,248 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 17:57:18,944 - INFO - Procurando arquivo de credenciais em:
2025-05-15 17:57:18,944 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 17:57:22,909 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 17:57:24,683 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:57:24,686 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:57:24,723 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:57:25,681 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:57:26,230 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 17:57:26,230 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 17:57:27,393 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:57:27,393 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 17:57:27,423 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:57:27,424 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:57:28,654 - INFO - ‚úì Bucket existe: True
2025-05-15 17:57:28,902 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:57:29,528 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:57:29,810 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:57:30,394 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:57:30,687 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:57:31,256 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:57:31,577 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:57:32,119 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:57:32,468 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:57:32,976 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:57:33,386 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:57:33,837 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:57:34,311 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:57:34,705 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:57:35,225 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:57:35,564 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:57:36,132 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:57:36,429 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:57:37,038 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:57:37,288 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 17:57:37,945 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 17:57:38,147 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 17:57:38,377 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 17:57:39,006 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 17:57:39,292 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 17:57:39,292 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 17:57:39,292 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:57:40,207 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 17:57:41,987 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 17:57:41,987 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 17:57:41,988 - INFO - 
==================================================
2025-05-15 17:57:41,988 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 17:57:41,988 - INFO - ==================================================
2025-05-15 17:57:41,988 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 17:57:41,988 - INFO - ‚Üí Parsing JSON content...
2025-05-15 17:57:42,691 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342662.6912475.pdf
2025-05-15 17:57:42,691 - INFO - Processed 4 carousel items
2025-05-15 17:57:42,691 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 17:57:42,691 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 17:57:42,691 - INFO - Attempting to create a fallback PDF...
2025-05-15 17:57:42,861 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342662.6912475.pdf
2025-05-15 17:57:42,862 - INFO - ‚úì PDF generated successfully
2025-05-15 17:57:42,862 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 17:57:42,862 - INFO - ‚úì PDF converted to base64
2025-05-15 17:57:42,862 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 17:57:42,862 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 17:57:42,862 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 17:57:42,862 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:57:42,862 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 17:58:04,932 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 17:58:04,932 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 17:58:04,932 - INFO - Aqui est√° o conte√∫do adaptado:

Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:

*   Clareza na formula√ß√£o de ideias e comunica√ß√£o. Essencial para apresent...
2025-05-15 17:58:04,933 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 17:58:04,933 - INFO - ‚Üí Preparing review prompt...
2025-05-15 17:58:04,933 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 17:58:04,933 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 17:58:06,508 - INFO - ‚úì Review completed successfully
2025-05-15 17:58:06,508 - INFO - Review feedback:
2025-05-15 17:58:06,508 - INFO - Vers√£o 1: [7]

2025-05-15 17:58:06,508 - INFO - Selected contextualization version 1 with score 7
2025-05-15 17:58:06,509 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:58:10,467 - INFO - ‚úÖ Google Document created successfully
2025-05-15 17:58:10,467 - INFO - üìÑ Document ID: 1ApbI4zYTtNCHOGHBtcyfu_Fw-KBnhXlj
2025-05-15 17:58:10,467 - INFO - üîó Document Link: https://drive.google.com/file/d/1ApbI4zYTtNCHOGHBtcyfu_Fw-KBnhXlj/view?usp=drivesdk
2025-05-15 17:58:10,467 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 17:58:10,467 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 17:58:10,469 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 17:58:47,290 - INFO - Attempt 1: Received initial JSON response of length: 27282
2025-05-15 17:58:47,290 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 17:58:47,290 - INFO - Requesting continuation of JSON response...
2025-05-15 17:58:51,819 - INFO - Received continuation of length: 2431
2025-05-15 17:58:51,827 - WARNING - Merged JSON is invalid: Expecting property name enclosed in double quotes: line 519 column 25 (char 27263)
2025-05-15 17:58:51,829 - INFO - Merged JSON response length: 27263
2025-05-15 17:58:51,829 - WARNING - Cleaned JSON is invalid: Expecting ',' delimiter: line 515 column 12 (char 27126)
2025-05-15 17:58:51,829 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 17:58:51,829 - WARNING - Original JSON is also invalid
2025-05-15 17:58:51,830 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 515 column 12 (char 27126)
2025-05-15 17:58:51,834 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:58:51,834 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 515 column 12 (char 27126)
2025-05-15 17:58:51,838 - ERROR - ‚ùå JSON repair failed
2025-05-15 17:58:51,838 - WARNING - Attempt 1: JSON validation failed - Expecting ',' delimiter: line 515 column 12 (char 27126)
2025-05-15 17:58:51,838 - INFO - Retrying JSON generation... (attempt 2/3)
2025-05-15 17:59:28,445 - INFO - Attempt 2: Received initial JSON response of length: 28191
2025-05-15 17:59:28,451 - INFO - ‚úÖ JSON validation successful
2025-05-15 17:59:28,451 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 17:59:28,451 - INFO - ‚úì Generated JSON is valid on attempt 2
2025-05-15 17:59:28,452 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 17:59:28,490 - INFO - Creating folder structure: JSON
2025-05-15 17:59:32,734 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 17:59:32,734 - INFO - üìÑ File ID: 1YBPxXWitpodBHYA61ZpYpl3yqeTzao3r
2025-05-15 17:59:32,734 - INFO - üîó File Link: https://drive.google.com/file/d/1YBPxXWitpodBHYA61ZpYpl3yqeTzao3r/view?usp=drivesdk
2025-05-15 17:59:32,734 - INFO - ‚úì Valid JSON generated
2025-05-15 17:59:32,734 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 17:59:32,734 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 17:59:32,734 - INFO - Generated HTML from JSON with title: O que √© Projeto?
2025-05-15 17:59:32,735 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O que √© Projeto?</title>
    <link href="htt...
2025-05-15 17:59:32,735 - INFO - ‚úì HTML generation completed successfully
2025-05-15 17:59:32,735 - INFO - 
==================================================
2025-05-15 17:59:32,735 - INFO - üìä PROCESSING SUMMARY
2025-05-15 17:59:32,735 - INFO - ==================================================
2025-05-15 17:59:32,735 - INFO - Total Processing Time: 110.75 seconds
2025-05-15 17:59:32,735 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 17:59:32,735 - INFO - Content ID: 47014
2025-05-15 17:59:32,735 - INFO - Final Content Size: 22672 characters
2025-05-15 17:59:32,735 - INFO - ==================================================
2025-05-15 17:59:32,735 - INFO - ‚úÖ Successfully processed content
2025-05-15 17:59:32,736 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 17:59:32,736 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 17:59:32,786 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 17:59:33,735 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:59:35,524 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 17:59:35,525 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 17:59:35,555 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 17:59:35,555 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 17:59:36,098 - INFO - ‚úì Bucket existe: True
2025-05-15 17:59:36,800 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 17:59:36,979 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 17:59:37,679 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 17:59:37,858 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 17:59:38,554 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 17:59:38,738 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 17:59:39,426 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 17:59:39,608 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 17:59:40,305 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 17:59:40,516 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 17:59:41,228 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 17:59:41,406 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 17:59:42,147 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 17:59:42,319 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 17:59:43,053 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 17:59:43,229 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 17:59:43,969 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 17:59:44,148 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 17:59:44,875 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 17:59:45,047 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:01:12,082 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 18:01:12,098 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 18:01:12,099 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 18:01:12,099 - INFO - Procurando arquivo de credenciais em:
2025-05-15 18:01:12,099 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:01:12,099 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:01:12,131 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 18:01:13,706 - INFO - Procurando arquivo de credenciais em:
2025-05-15 18:01:13,706 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:01:18,694 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 18:01:20,456 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:01:20,457 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:01:20,493 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:01:21,415 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:01:22,131 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 18:01:22,132 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 18:01:23,566 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:01:23,567 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:01:23,600 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:01:23,600 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:01:24,142 - INFO - ‚úì Bucket existe: True
2025-05-15 18:01:24,899 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 18:01:25,098 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 18:01:25,776 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 18:01:25,963 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 18:01:26,652 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 18:01:26,839 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 18:01:27,531 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 18:01:27,707 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 18:01:28,400 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 18:01:28,621 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 18:01:29,393 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 18:01:29,569 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:01:30,314 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 18:01:30,488 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 18:01:31,237 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 18:01:31,420 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 18:01:32,149 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 18:01:32,324 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 18:01:33,049 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 18:01:33,224 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:01:33,961 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 18:01:34,138 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 18:01:34,876 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 18:01:35,057 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 18:01:35,804 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 18:01:35,804 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 18:01:35,804 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:01:36,717 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 18:01:38,508 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 18:01:38,508 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 18:01:38,508 - INFO - 
==================================================
2025-05-15 18:01:38,508 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 18:01:38,508 - INFO - ==================================================
2025-05-15 18:01:38,508 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 18:01:38,508 - INFO - ‚Üí Parsing JSON content...
2025-05-15 18:01:39,201 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342899.2017882.pdf
2025-05-15 18:01:39,201 - INFO - Processed 4 carousel items
2025-05-15 18:01:39,202 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 18:01:39,202 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 18:01:39,202 - INFO - Attempting to create a fallback PDF...
2025-05-15 18:01:39,376 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342899.2017882.pdf
2025-05-15 18:01:39,377 - INFO - ‚úì PDF generated successfully
2025-05-15 18:01:39,377 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 18:01:39,377 - INFO - ‚úì PDF converted to base64
2025-05-15 18:01:39,377 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 18:01:39,377 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 18:01:39,377 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 18:01:39,377 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:01:39,378 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 18:02:17,718 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 18:02:17,719 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 18:02:17,719 - INFO - ## Cotidiano do Engenheiro

### O que esperar do dia a dia da profiss√£o

A rotina de trabalho do engenheiro pode ser multifacetada, din√¢mica e desafiadora, dependendo da √°rea de atua√ß√£o, do tipo de em...
2025-05-15 18:02:17,719 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 18:02:17,719 - INFO - ‚Üí Preparing review prompt...
2025-05-15 18:02:17,719 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 18:02:17,719 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:02:19,335 - INFO - ‚úì Review completed successfully
2025-05-15 18:02:19,335 - INFO - Review feedback:
2025-05-15 18:02:19,335 - INFO - Vers√£o 1: [9]

2025-05-15 18:02:19,336 - INFO - Selected contextualization version 1 with score 9
2025-05-15 18:02:19,336 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:02:23,254 - INFO - ‚úÖ Google Document created successfully
2025-05-15 18:02:23,255 - INFO - üìÑ Document ID: 1dE7zPnhZKK-vs0yzeRVEtHt2YNCCeP5j
2025-05-15 18:02:23,255 - INFO - üîó Document Link: https://drive.google.com/file/d/1dE7zPnhZKK-vs0yzeRVEtHt2YNCCeP5j/view?usp=drivesdk
2025-05-15 18:02:23,255 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 18:02:23,255 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 18:02:23,256 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 18:02:57,532 - INFO - Attempt 1: Received initial JSON response of length: 21024
2025-05-15 18:02:57,537 - INFO - ‚úÖ JSON validation successful
2025-05-15 18:02:57,537 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 18:02:57,538 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 18:02:57,538 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:02:57,588 - INFO - Creating folder structure: JSON
2025-05-15 18:03:01,735 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 18:03:01,735 - INFO - üìÑ File ID: 1IjJj9OQWXzgUMb8b2mXW-KLwQEnULTE0
2025-05-15 18:03:01,735 - INFO - üîó File Link: https://drive.google.com/file/d/1IjJj9OQWXzgUMb8b2mXW-KLwQEnULTE0/view?usp=drivesdk
2025-05-15 18:03:01,735 - INFO - ‚úì Valid JSON generated
2025-05-15 18:03:01,735 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 18:03:01,735 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 18:03:01,735 - INFO - Processed 3 carousel items
2025-05-15 18:03:01,735 - INFO - Generated HTML from JSON with title: O que √© Projeto?
2025-05-15 18:03:01,736 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O que √© Projeto?</title>
    <link href="htt...
2025-05-15 18:03:01,736 - INFO - ‚úì HTML generation completed successfully
2025-05-15 18:03:01,736 - INFO - 
==================================================
2025-05-15 18:03:01,736 - INFO - üìä PROCESSING SUMMARY
2025-05-15 18:03:01,736 - INFO - ==================================================
2025-05-15 18:03:01,736 - INFO - Total Processing Time: 83.23 seconds
2025-05-15 18:03:01,736 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 18:03:01,736 - INFO - Content ID: 47014
2025-05-15 18:03:01,736 - INFO - Final Content Size: 10064 characters
2025-05-15 18:03:01,736 - INFO - ==================================================
2025-05-15 18:03:01,736 - INFO - ‚úÖ Successfully processed content
2025-05-15 18:03:01,737 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:03:01,737 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:03:01,783 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:03:02,703 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:03:04,245 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:03:04,245 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:03:04,275 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:03:04,276 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:03:05,503 - INFO - ‚úì Bucket existe: True
2025-05-15 18:03:05,698 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 18:03:06,390 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 18:03:06,582 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 18:03:07,260 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 18:03:07,454 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 18:03:08,121 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 18:03:08,330 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 18:03:08,989 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 18:03:09,211 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 18:03:09,855 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 18:03:10,247 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 18:03:10,428 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:03:11,170 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 18:03:11,346 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 18:03:12,090 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 18:03:12,278 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 18:03:12,998 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 18:03:13,168 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 18:03:13,914 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 18:03:14,106 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:03:14,834 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 18:03:15,004 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 18:03:15,756 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 18:03:15,934 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 18:03:16,678 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 18:03:16,678 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 18:03:16,678 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:03:17,337 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 18:03:19,152 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 18:03:19,153 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 18:03:19,153 - INFO - 
==================================================
2025-05-15 18:03:19,153 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 18:03:19,153 - INFO - ==================================================
2025-05-15 18:03:19,153 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 18:03:19,153 - INFO - ‚Üí Parsing JSON content...
2025-05-15 18:03:19,856 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342999.8562632.pdf
2025-05-15 18:03:21,266 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747342999.8562632.pdf
2025-05-15 18:03:21,266 - INFO - ‚úì PDF generated successfully
2025-05-15 18:03:21,266 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 18:03:21,267 - INFO - ‚úì PDF converted to base64
2025-05-15 18:03:21,267 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 18:03:21,267 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 18:03:21,267 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 18:03:21,267 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:03:21,267 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 18:03:46,573 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 18:03:46,573 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 18:03:46,573 - INFO - **Cotidiano do Engenheiro**

No dia a dia, o engenheiro se depara com diversas situa√ß√µes que exigem habilidades que v√£o al√©m do conhecimento t√©cnico. Quest√µes como organiza√ß√£o do tempo, comunica√ß√£o ef...
2025-05-15 18:03:46,573 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 18:03:46,573 - INFO - ‚Üí Preparing review prompt...
2025-05-15 18:03:46,573 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 18:03:46,573 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:03:48,300 - INFO - ‚úì Review completed successfully
2025-05-15 18:03:48,301 - INFO - Review feedback:
2025-05-15 18:03:48,301 - INFO - N√£o √© poss√≠vel avaliar a Vers√£o 2, pois o conte√∫do foi definido como "N/A". Sendo assim, focarei na Vers√£o 1.

Vers√£o 1: 7

2025-05-15 18:03:48,301 - INFO - Selected contextualization version 1 with score 7
2025-05-15 18:03:48,301 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:03:52,856 - INFO - ‚úÖ Google Document created successfully
2025-05-15 18:03:52,857 - INFO - üìÑ Document ID: 1RlERmG3aLeNQhpSnBJtF8D4eyut_ttEA
2025-05-15 18:03:52,858 - INFO - üîó Document Link: https://drive.google.com/file/d/1RlERmG3aLeNQhpSnBJtF8D4eyut_ttEA/view?usp=drivesdk
2025-05-15 18:03:52,859 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 18:03:52,860 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 18:03:52,861 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 18:04:11,572 - INFO - Attempt 1: Received initial JSON response of length: 14000
2025-05-15 18:04:11,576 - INFO - ‚úÖ JSON validation successful
2025-05-15 18:04:11,584 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 18:04:11,592 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 18:04:11,592 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:04:11,685 - INFO - Creating folder structure: JSON
2025-05-15 18:04:16,140 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 18:04:16,140 - INFO - üìÑ File ID: 1MhoP3T-RyKM16Sa0goeVFz4up7-0oI8U
2025-05-15 18:04:16,140 - INFO - üîó File Link: https://drive.google.com/file/d/1MhoP3T-RyKM16Sa0goeVFz4up7-0oI8U/view?usp=drivesdk
2025-05-15 18:04:16,140 - INFO - ‚úì Valid JSON generated
2025-05-15 18:04:16,140 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 18:04:16,141 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 18:04:16,141 - INFO - Generated HTML from JSON with title: O que √© o Gerenciamento de Projetos?
2025-05-15 18:04:16,141 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O que √© o Gerenciamento de Projetos?</title>...
2025-05-15 18:04:16,141 - INFO - ‚úì HTML generation completed successfully
2025-05-15 18:04:16,141 - INFO - 
==================================================
2025-05-15 18:04:16,141 - INFO - üìä PROCESSING SUMMARY
2025-05-15 18:04:16,141 - INFO - ==================================================
2025-05-15 18:04:16,141 - INFO - Total Processing Time: 56.99 seconds
2025-05-15 18:04:16,141 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 18:04:16,141 - INFO - Content ID: 47022
2025-05-15 18:04:16,141 - INFO - Final Content Size: 16694 characters
2025-05-15 18:04:16,142 - INFO - ==================================================
2025-05-15 18:04:16,142 - INFO - ‚úÖ Successfully processed content
2025-05-15 18:04:16,143 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:04:16,143 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:04:16,179 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:04:17,168 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:04:19,262 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:04:19,262 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:04:19,293 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:04:19,293 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:04:20,539 - INFO - ‚úì Bucket existe: True
2025-05-15 18:04:20,803 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 18:04:21,402 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 18:04:21,676 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 18:04:22,581 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 18:04:23,467 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 18:04:23,643 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 18:04:24,361 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 18:04:24,537 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 18:04:25,239 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 18:04:25,414 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 18:04:26,155 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 18:04:26,332 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:04:27,085 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 18:04:27,259 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 18:04:28,027 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 18:04:28,211 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 18:04:28,946 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 18:04:29,119 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 18:04:29,853 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 18:04:30,030 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:04:30,274 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 18:04:30,896 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 18:04:31,206 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 18:04:31,762 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 18:04:32,152 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 18:04:32,154 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 18:04:32,154 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:04:33,071 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 18:04:34,880 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 18:04:34,880 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 18:04:34,880 - INFO - 
==================================================
2025-05-15 18:04:34,880 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 18:04:34,880 - INFO - ==================================================
2025-05-15 18:04:34,881 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 18:04:34,881 - INFO - ‚Üí Parsing JSON content...
2025-05-15 18:04:35,554 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747343075.5548728.pdf
2025-05-15 18:04:38,913 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747343075.5548728.pdf
2025-05-15 18:04:38,913 - INFO - ‚úì PDF generated successfully
2025-05-15 18:04:38,914 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 18:04:38,914 - INFO - ‚úì PDF converted to base64
2025-05-15 18:04:38,914 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 18:04:38,914 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 18:04:38,914 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 18:04:38,914 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:04:38,914 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 18:04:50,526 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 18:04:50,526 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 18:04:50,526 - INFO - ## Cotidiano do Engenheiro

Este material visa apresentar uma vis√£o geral do dia a dia do Engenheiro, com o objetivo de prepar√°-lo para os desafios e oportunidades da profiss√£o.

**A realidade do dia ...
2025-05-15 18:04:50,526 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 18:04:50,526 - INFO - ‚Üí Preparing review prompt...
2025-05-15 18:04:50,526 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 18:04:50,526 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:04:52,327 - INFO - ‚úì Review completed successfully
2025-05-15 18:04:52,328 - INFO - Review feedback:
2025-05-15 18:04:52,328 - INFO - Eu s√≥ posso comparar as op√ß√µes se houver pelo menos duas para avalia√ß√£o. Como voc√™ forneceu apenas uma vers√£o, n√£o consigo realizar a compara√ß√£o e atribuir notas diferentes. Por favor, forne√ßa as vers√µes 2 e 3 para que eu possa avaliar e retornar as notas conforme solicitado.

2025-05-15 18:04:52,328 - WARNING - Could not parse scores from review result, using first contextualization
2025-05-15 18:04:52,328 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:04:56,034 - INFO - ‚úÖ Google Document created successfully
2025-05-15 18:04:56,034 - INFO - üìÑ Document ID: 1iURYleQlRGHfkdmn9ccV49aqeec8EyqX
2025-05-15 18:04:56,034 - INFO - üîó Document Link: https://drive.google.com/file/d/1iURYleQlRGHfkdmn9ccV49aqeec8EyqX/view?usp=drivesdk
2025-05-15 18:04:56,034 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 18:04:56,035 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 18:04:56,035 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 18:05:21,969 - INFO - Attempt 1: Received initial JSON response of length: 18501
2025-05-15 18:05:21,973 - INFO - ‚úÖ JSON validation successful
2025-05-15 18:05:21,973 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 18:05:21,974 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 18:05:21,974 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:05:22,013 - INFO - Creating folder structure: JSON
2025-05-15 18:05:26,239 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 18:05:26,239 - INFO - üìÑ File ID: 1S5ZefSmRgRvNhz-mS3dRluCZ3q5PJpTx
2025-05-15 18:05:26,239 - INFO - üîó File Link: https://drive.google.com/file/d/1S5ZefSmRgRvNhz-mS3dRluCZ3q5PJpTx/view?usp=drivesdk
2025-05-15 18:05:26,239 - INFO - ‚úì Valid JSON generated
2025-05-15 18:05:26,240 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 18:05:26,240 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 18:05:26,240 - INFO - Generated HTML from JSON with title: Cotidiano do Engenheiro
2025-05-15 18:05:26,240 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotidiano do Engenheiro</title>
    <link hr...
2025-05-15 18:05:26,240 - INFO - ‚úì HTML generation completed successfully
2025-05-15 18:05:26,240 - INFO - 
==================================================
2025-05-15 18:05:26,240 - INFO - üìä PROCESSING SUMMARY
2025-05-15 18:05:26,240 - INFO - ==================================================
2025-05-15 18:05:26,240 - INFO - Total Processing Time: 51.36 seconds
2025-05-15 18:05:26,240 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 18:05:26,240 - INFO - Content ID: 47089
2025-05-15 18:05:26,240 - INFO - Final Content Size: 14957 characters
2025-05-15 18:05:26,241 - INFO - ==================================================
2025-05-15 18:05:26,241 - INFO - ‚úÖ Successfully processed content
2025-05-15 18:05:26,242 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:05:26,242 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:05:26,287 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:05:27,232 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:05:28,999 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:05:29,000 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:05:29,031 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:05:29,031 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:05:30,252 - INFO - ‚úì Bucket existe: True
2025-05-15 18:05:30,500 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 18:05:30,826 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 18:05:31,123 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 18:05:31,455 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 18:05:31,698 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 18:05:32,015 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 18:05:32,324 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 18:05:32,885 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 18:05:33,193 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 18:05:33,750 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 18:05:34,121 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 18:05:34,619 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:05:35,047 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 18:05:35,481 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 18:05:35,880 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 18:05:36,079 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 18:05:36,830 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 18:05:37,004 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 18:05:37,383 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 18:05:37,703 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:05:38,330 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 18:05:38,519 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 18:05:39,276 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 18:05:39,442 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 18:05:40,207 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 18:05:40,207 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 18:05:40,207 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:05:41,140 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 18:05:42,931 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 18:05:42,931 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 18:05:42,931 - INFO - 
==================================================
2025-05-15 18:05:42,931 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 18:05:42,931 - INFO - ==================================================
2025-05-15 18:05:42,931 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 18:05:42,931 - INFO - ‚Üí Parsing JSON content...
2025-05-15 18:05:43,840 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747343143.8401556.pdf
2025-05-15 18:05:45,573 - INFO - ‚úÖ PDF saved successfully to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747343143.8401556.pdf
2025-05-15 18:05:45,573 - INFO - ‚úì PDF generated successfully
2025-05-15 18:05:45,573 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 18:05:45,573 - INFO - ‚úì PDF converted to base64
2025-05-15 18:05:45,573 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 18:05:45,573 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 18:05:45,574 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 18:05:45,574 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:05:45,574 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 18:06:35,235 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 18:06:35,235 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 18:06:35,235 - INFO - Cotidiano do Engenheiro

Este material explora o dia a dia do profissional de Engenharia, abordando desde os desafios de tomada de decis√£o at√© a import√¢ncia da comunica√ß√£o eficaz. Os t√≥picos apresenta...
2025-05-15 18:06:35,235 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 18:06:35,236 - INFO - ‚Üí Preparing review prompt...
2025-05-15 18:06:35,236 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 18:06:35,236 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:06:36,886 - INFO - ‚úì Review completed successfully
2025-05-15 18:06:36,886 - INFO - Review feedback:
2025-05-15 18:06:36,886 - INFO - Vers√£o 1: 8
Vers√£o 2: 1

2025-05-15 18:06:36,886 - INFO - Selected contextualization version 1 with score 8
2025-05-15 18:06:36,886 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:06:40,796 - INFO - ‚úÖ Google Document created successfully
2025-05-15 18:06:40,796 - INFO - üìÑ Document ID: 1z72jBeIAjWSK86TkxcZpCMjX0Asx8Mcv
2025-05-15 18:06:40,796 - INFO - üîó Document Link: https://drive.google.com/file/d/1z72jBeIAjWSK86TkxcZpCMjX0Asx8Mcv/view?usp=drivesdk
2025-05-15 18:06:40,796 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 18:06:40,796 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 18:06:40,797 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 18:06:50,952 - INFO - Attempt 1: Received initial JSON response of length: 5855
2025-05-15 18:06:50,953 - INFO - ‚úÖ JSON validation successful
2025-05-15 18:06:50,954 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 18:06:50,954 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 18:06:50,954 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:06:50,990 - INFO - Creating folder structure: JSON
2025-05-15 18:06:55,032 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 18:06:55,032 - INFO - üìÑ File ID: 1ufl1-GZ40pt0KPLEZgz7HTnW2p_fPjZl
2025-05-15 18:06:55,032 - INFO - üîó File Link: https://drive.google.com/file/d/1ufl1-GZ40pt0KPLEZgz7HTnW2p_fPjZl/view?usp=drivesdk
2025-05-15 18:06:55,032 - INFO - ‚úì Valid JSON generated
2025-05-15 18:06:55,033 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 18:06:55,033 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 18:06:55,033 - INFO - Generated HTML from JSON with title: Verificando o aprendizado
2025-05-15 18:06:55,033 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificando o aprendizado</title>
    <link ...
2025-05-15 18:06:55,033 - INFO - ‚úì HTML generation completed successfully
2025-05-15 18:06:55,033 - INFO - 
==================================================
2025-05-15 18:06:55,033 - INFO - üìä PROCESSING SUMMARY
2025-05-15 18:06:55,033 - INFO - ==================================================
2025-05-15 18:06:55,033 - INFO - Total Processing Time: 72.10 seconds
2025-05-15 18:06:55,033 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 18:06:55,034 - INFO - Content ID: 47097
2025-05-15 18:06:55,034 - INFO - Final Content Size: 6336 characters
2025-05-15 18:06:55,034 - INFO - ==================================================
2025-05-15 18:06:55,034 - INFO - ‚úÖ Successfully processed content
2025-05-15 18:06:55,035 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:06:55,035 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:06:55,072 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:06:55,877 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:06:57,680 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:06:57,681 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:06:57,712 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:06:57,712 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:06:58,275 - INFO - ‚úì Bucket existe: True
2025-05-15 18:07:39,570 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 18:07:39,586 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 18:07:39,586 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 18:07:39,586 - INFO - Procurando arquivo de credenciais em:
2025-05-15 18:07:39,586 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:07:39,587 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:07:39,618 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 18:07:41,478 - INFO - Procurando arquivo de credenciais em:
2025-05-15 18:07:41,478 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:08:04,796 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 18:08:06,569 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:08:06,577 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:08:06,621 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:08:07,559 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:08:08,139 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 18:08:08,139 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 18:08:09,293 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:08:09,293 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:08:09,323 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:08:09,323 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:08:10,573 - INFO - ‚úì Bucket existe: True
2025-05-15 18:08:10,802 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 18:08:11,445 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 18:08:11,688 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 18:08:12,311 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 18:08:12,565 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 18:08:13,179 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 18:08:13,442 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 18:08:14,051 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 18:08:14,312 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 18:08:14,915 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 18:08:15,250 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 18:08:15,785 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:08:16,170 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 18:08:16,675 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 18:08:17,106 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 18:08:17,535 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 18:08:18,035 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 18:08:18,417 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 18:08:18,953 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 18:08:19,279 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:08:19,883 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 18:08:20,158 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 18:08:20,814 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 18:08:21,038 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 18:08:21,733 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 18:08:21,733 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 18:08:21,733 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:08:22,713 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 18:08:24,575 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 18:08:24,576 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 18:08:24,576 - INFO - 
==================================================
2025-05-15 18:08:24,576 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 18:08:24,576 - INFO - ==================================================
2025-05-15 18:08:24,576 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 18:08:24,576 - INFO - ‚Üí Parsing JSON content...
2025-05-15 18:08:25,271 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747343305.271986.pdf
2025-05-15 18:08:25,272 - INFO - Processed 4 carousel items
2025-05-15 18:08:25,272 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 18:08:25,272 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 18:08:25,272 - INFO - Attempting to create a fallback PDF...
2025-05-15 18:08:25,450 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747343305.271986.pdf
2025-05-15 18:08:25,451 - INFO - ‚úì PDF generated successfully
2025-05-15 18:08:25,451 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 18:08:25,451 - INFO - ‚úì PDF converted to base64
2025-05-15 18:08:25,451 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 18:08:25,451 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 18:08:25,451 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 18:08:25,451 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:08:25,451 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 18:09:00,156 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 18:09:00,156 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 18:09:00,156 - INFO - Claro, aqui est√° o conte√∫do adaptado:

# Cotidiano do Engenheiro

## Introdu√ß√£o

O dia a dia do profissional de Engenharia √© multifacetado, din√¢mico e repleto de desafios. As atividades rotineiras s√£o...
2025-05-15 18:09:00,156 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 18:09:00,156 - INFO - ‚Üí Preparing review prompt...
2025-05-15 18:09:00,156 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 18:09:00,156 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:09:01,754 - INFO - ‚úì Review completed successfully
2025-05-15 18:09:01,755 - INFO - Review feedback:
2025-05-15 18:09:01,755 - INFO - Vers√£o 1: [9]
Vers√£o 2: [5]

2025-05-15 18:09:01,755 - INFO - Selected contextualization version 1 with score 9
2025-05-15 18:09:01,755 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:09:05,683 - INFO - ‚úÖ Google Document created successfully
2025-05-15 18:09:05,683 - INFO - üìÑ Document ID: 1LINKhs9sdeT36Bguvd-pcXbcyVoS2VVe
2025-05-15 18:09:05,683 - INFO - üîó Document Link: https://drive.google.com/file/d/1LINKhs9sdeT36Bguvd-pcXbcyVoS2VVe/view?usp=drivesdk
2025-05-15 18:09:05,683 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 18:09:05,683 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 18:09:05,684 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 18:09:37,122 - INFO - Attempt 1: Received initial JSON response of length: 20666
2025-05-15 18:09:37,128 - INFO - ‚úÖ JSON validation successful
2025-05-15 18:09:37,128 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 18:09:37,128 - INFO - ‚úì Generated JSON is valid on attempt 1
2025-05-15 18:09:37,128 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:09:37,164 - INFO - Creating folder structure: JSON
2025-05-15 18:09:41,544 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 18:09:41,544 - INFO - üìÑ File ID: 1vUC7VpWg0yLajhHZ-eGf1vz_sQtOAOMe
2025-05-15 18:09:41,544 - INFO - üîó File Link: https://drive.google.com/file/d/1vUC7VpWg0yLajhHZ-eGf1vz_sQtOAOMe/view?usp=drivesdk
2025-05-15 18:09:41,544 - INFO - ‚úì Valid JSON generated
2025-05-15 18:09:41,544 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 18:09:41,545 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 18:09:41,545 - INFO - Processed 2 carousel items
2025-05-15 18:09:41,545 - INFO - Generated HTML from JSON with title: Cotidiano do Engenheiro
2025-05-15 18:09:41,545 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotidiano do Engenheiro</title>
    <link hr...
2025-05-15 18:09:41,546 - INFO - ‚úì HTML generation completed successfully
2025-05-15 18:09:41,546 - INFO - 
==================================================
2025-05-15 18:09:41,546 - INFO - üìä PROCESSING SUMMARY
2025-05-15 18:09:41,546 - INFO - ==================================================
2025-05-15 18:09:41,546 - INFO - Total Processing Time: 76.97 seconds
2025-05-15 18:09:41,547 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 18:09:41,547 - INFO - Content ID: 47014
2025-05-15 18:09:41,547 - INFO - Final Content Size: 11201 characters
2025-05-15 18:09:41,547 - INFO - ==================================================
2025-05-15 18:09:41,547 - INFO - ‚úÖ Successfully processed content
2025-05-15 18:09:41,549 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:09:41,549 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:09:41,597 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:09:42,643 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:09:44,662 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:09:44,662 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:09:44,693 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:09:44,694 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:09:45,953 - INFO - ‚úì Bucket existe: True
2025-05-15 18:09:46,201 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 18:09:46,820 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 18:09:47,073 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 18:09:47,693 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 18:09:47,958 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 18:09:48,561 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 18:09:48,844 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 18:09:49,427 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 18:09:49,730 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 18:09:50,295 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 18:09:50,664 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 18:09:51,163 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:09:51,606 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 18:09:52,030 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 18:09:52,540 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 18:09:52,896 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 18:09:53,466 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 18:09:53,764 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 18:09:54,382 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 18:09:54,633 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:09:54,887 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 18:09:55,495 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 18:09:55,807 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 18:09:56,360 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 18:13:16,697 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/downloadHeygen
2025-05-15 18:13:16,712 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/videosEstudio
2025-05-15 18:13:16,712 - INFO - Diret√≥rio criado/existente: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios
2025-05-15 18:13:16,712 - INFO - Procurando arquivo de credenciais em:
2025-05-15 18:13:16,712 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:13:16,712 - INFO - Usando arquivo de credenciais: /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:13:16,743 - INFO - Cliente GCS inicializado com sucesso
2025-05-15 18:13:18,338 - INFO - Procurando arquivo de credenciais em:
2025-05-15 18:13:18,338 - INFO - - /home/rafael/Desktop/projetos/yduqs_back/conteudo-autenticare-d2aaae9aeffe.json
2025-05-15 18:13:26,611 - INFO - Buscando todos os v√≠deos dispon√≠veis
2025-05-15 18:13:28,361 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:13:28,362 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:13:28,410 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:13:29,448 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:13:29,725 - INFO - Encontradas 7 √°reas de conhecimento
2025-05-15 18:13:29,725 - INFO - Encontradas 2 contextualiza√ß√µes
2025-05-15 18:13:30,891 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:13:30,891 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:13:30,922 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:13:30,922 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:13:31,496 - INFO - ‚úì Bucket existe: True
2025-05-15 18:13:32,199 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 18:13:32,374 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 18:13:33,075 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 18:13:33,252 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 18:13:33,962 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 18:13:34,139 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 18:13:34,833 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 18:13:35,002 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 18:13:35,701 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 18:13:35,874 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 18:13:36,615 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 18:13:36,786 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:13:37,533 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 18:13:37,705 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 18:13:38,441 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 18:13:38,614 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 18:13:39,361 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 18:13:39,559 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 18:13:40,273 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 18:13:40,448 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:13:41,190 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 18:13:41,360 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 18:13:42,100 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 18:13:42,293 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 18:13:43,031 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 18:13:43,031 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 18:13:43,031 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:13:43,951 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 18:13:45,239 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 18:13:45,239 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 18:13:45,239 - INFO - 
==================================================
2025-05-15 18:13:45,239 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 18:13:45,239 - INFO - ==================================================
2025-05-15 18:13:45,239 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 18:13:45,239 - INFO - ‚Üí Parsing JSON content...
2025-05-15 18:13:45,947 - INFO - ‚Üí Generating PDF at: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747343625.9473722.pdf
2025-05-15 18:13:45,947 - INFO - Processed 4 carousel items
2025-05-15 18:13:45,947 - ERROR - PDF rendering failed: 'NoneType' object has no attribute 'get'
2025-05-15 18:13:45,947 - ERROR - ‚ùå Failed to save PDF: 'NoneType' object has no attribute 'get'
2025-05-15 18:13:45,947 - INFO - Attempting to create a fallback PDF...
2025-05-15 18:13:46,117 - INFO - ‚úÖ Fallback PDF saved to: /home/rafael/Desktop/projetos/yduqs_back/app/arquivosTemporarios/output_1747343625.9473722.pdf
2025-05-15 18:13:46,118 - INFO - ‚úì PDF generated successfully
2025-05-15 18:13:46,118 - INFO - ‚Üí Converting PDF to base64...
2025-05-15 18:13:46,118 - INFO - ‚úì PDF converted to base64
2025-05-15 18:13:46,118 - INFO - 
üîÑ STAGE 2: CONTENT CONTEXTUALIZATION (MULTIPLE ATTEMPTS)
2025-05-15 18:13:46,118 - INFO - ‚Üí Preparing contextualization prompt...
2025-05-15 18:13:46,118 - INFO - ‚Üí Sending content for contextualization (3 attempts)...
2025-05-15 18:13:46,118 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:13:46,118 - INFO - Iniciando tentativa de contextualiza√ß√£o #1...
2025-05-15 18:14:09,468 - INFO - ‚úì Tentativa de contextualiza√ß√£o #1 completada com sucesso
2025-05-15 18:14:09,468 - INFO - Preview do conte√∫do contextualizado #1:
2025-05-15 18:14:09,468 - INFO - Claro, aqui est√° o conte√∫do contextualizado para a √°rea de Engenharia:

Encontramos uma gama de qualidades que definem a abordagem e o comportamento do pesquisador:

*   Clareza na formula√ß√£o de ideia...
2025-05-15 18:14:09,468 - INFO - 
üîç STAGE 3: CONTENT REVIEW AND SELECTION
2025-05-15 18:14:09,468 - INFO - ‚Üí Preparing review prompt...
2025-05-15 18:14:09,469 - INFO - ‚Üí Sending contextualization results for review...
2025-05-15 18:14:09,469 - INFO - ‚Üí Using model: gemini-2.0-flash-001
2025-05-15 18:14:10,986 - INFO - ‚úì Review completed successfully
2025-05-15 18:14:10,987 - INFO - Review feedback:
2025-05-15 18:14:10,987 - INFO - Vers√£o 1: 5
Vers√£o 2: 1

2025-05-15 18:14:10,988 - INFO - Selected contextualization version 1 with score 5
2025-05-15 18:14:10,988 - INFO - üîÑ Creating Google Document for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:14:14,599 - INFO - ‚úÖ Google Document created successfully
2025-05-15 18:14:14,599 - INFO - üìÑ Document ID: 1orHxunk8H85vJnkzWl9o_GC309PuP-BB
2025-05-15 18:14:14,599 - INFO - üîó Document Link: https://drive.google.com/file/d/1orHxunk8H85vJnkzWl9o_GC309PuP-BB/view?usp=drivesdk
2025-05-15 18:14:14,599 - INFO - 
üîÑ STAGE 4: JSON RECONSTRUCTION
2025-05-15 18:14:14,599 - INFO - ‚Üí Preparing JSON reconstruction prompt...
2025-05-15 18:14:14,601 - INFO - ‚Üí Using chat session approach for JSON reconstruction...
2025-05-15 18:14:52,118 - INFO - Attempt 1: Received initial JSON response of length: 27621
2025-05-15 18:14:52,119 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 18:14:52,119 - INFO - Requesting continuation of JSON response...
2025-05-15 18:15:01,800 - INFO - Received continuation of length: 5268
2025-05-15 18:15:01,807 - WARNING - Merged JSON is invalid: Expecting ':' delimiter: line 242 column 19 (char 27614)
2025-05-15 18:15:01,809 - INFO - Merged JSON response length: 27613
2025-05-15 18:15:01,811 - WARNING - Cleaned JSON is invalid: Expecting ',' delimiter: line 238 column 16 (char 27477)
2025-05-15 18:15:01,811 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 18:15:01,811 - WARNING - Original JSON is also invalid
2025-05-15 18:15:01,812 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 238 column 16 (char 27477)
2025-05-15 18:15:01,816 - ERROR - ‚ùå JSON repair failed
2025-05-15 18:15:01,817 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 238 column 16 (char 27477)
2025-05-15 18:15:01,820 - ERROR - ‚ùå JSON repair failed
2025-05-15 18:15:01,821 - WARNING - Attempt 1: JSON validation failed - Expecting ',' delimiter: line 238 column 16 (char 27477)
2025-05-15 18:15:01,821 - INFO - Retrying JSON generation... (attempt 2/3)
2025-05-15 18:15:39,781 - INFO - Attempt 2: Received initial JSON response of length: 26791
2025-05-15 18:15:39,781 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 18:15:39,781 - INFO - Requesting continuation of JSON response...
2025-05-15 18:15:43,233 - INFO - Received continuation of length: 1224
2025-05-15 18:15:43,240 - WARNING - Merged JSON is invalid: Expecting ',' delimiter: line 449 column 24 (char 26790)
2025-05-15 18:15:43,242 - INFO - Merged JSON response length: 26782
2025-05-15 18:15:43,242 - WARNING - Cleaned JSON is invalid: Expecting ',' delimiter: line 439 column 6 (char 26509)
2025-05-15 18:15:43,242 - INFO - JSON contains URLs, attempting to preserve them
2025-05-15 18:15:43,243 - WARNING - Original JSON is also invalid
2025-05-15 18:15:43,243 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 439 column 6 (char 26509)
2025-05-15 18:15:43,247 - ERROR - ‚ùå JSON repair failed
2025-05-15 18:15:43,247 - WARNING - Attempting to repair JSON: Expecting ',' delimiter: line 439 column 6 (char 26509)
2025-05-15 18:15:43,251 - ERROR - ‚ùå JSON repair failed
2025-05-15 18:15:43,251 - WARNING - Attempt 2: JSON validation failed - Expecting ',' delimiter: line 439 column 6 (char 26509)
2025-05-15 18:15:43,251 - INFO - Retrying JSON generation... (attempt 3/3)
2025-05-15 18:16:21,938 - INFO - Attempt 3: Received initial JSON response of length: 24572
2025-05-15 18:16:21,939 - WARNING - JSON doesn't have proper opening/closing braces
2025-05-15 18:16:21,939 - INFO - Requesting continuation of JSON response...
2025-05-15 18:16:28,682 - INFO - Received continuation of length: 3941
2025-05-15 18:16:28,694 - WARNING - Merged JSON is invalid: Invalid control character at: line 608 column 341 (char 24566)
2025-05-15 18:16:28,696 - INFO - ‚úÖ Alternative merge successful
2025-05-15 18:16:28,697 - INFO - Merged JSON response length: 28145
2025-05-15 18:16:28,697 - INFO - ‚úì Cleaned JSON is valid
2025-05-15 18:16:28,698 - INFO - ‚úì Generated JSON is valid on attempt 3
2025-05-15 18:16:28,699 - INFO - üîÑ Saving JSON to Google Drive for blob: '1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE'
2025-05-15 18:16:28,746 - INFO - Creating folder structure: JSON
2025-05-15 18:16:33,105 - INFO - ‚úÖ JSON saved to Google Drive successfully
2025-05-15 18:16:33,105 - INFO - üìÑ File ID: 1fGS1l_vXbt9Fjjvmflxp1-BWm-YXjI-0
2025-05-15 18:16:33,105 - INFO - üîó File Link: https://drive.google.com/file/d/1fGS1l_vXbt9Fjjvmflxp1-BWm-YXjI-0/view?usp=drivesdk
2025-05-15 18:16:33,105 - INFO - ‚úì Valid JSON generated
2025-05-15 18:16:33,105 - INFO - 
üåê STAGE 7: HTML GENERATION
2025-05-15 18:16:33,105 - INFO - ‚Üí Converting reconstructed JSON to HTML...
2025-05-15 18:16:33,106 - INFO - Processed 4 carousel items
2025-05-15 18:16:33,106 - INFO - Generated HTML from JSON with title: No title
2025-05-15 18:16:33,106 - INFO - Generated HTML preview: <!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documento</title>
    <link href="https://fo...
2025-05-15 18:16:33,106 - INFO - ‚úì HTML generation completed successfully
2025-05-15 18:16:33,106 - INFO - 
==================================================
2025-05-15 18:16:33,106 - INFO - üìä PROCESSING SUMMARY
2025-05-15 18:16:33,106 - INFO - ==================================================
2025-05-15 18:16:33,106 - INFO - Total Processing Time: 167.87 seconds
2025-05-15 18:16:33,106 - INFO - Pipeline Stages Completed: 7/7
2025-05-15 18:16:33,106 - INFO - Content ID: 47014
2025-05-15 18:16:33,106 - INFO - Final Content Size: 10037 characters
2025-05-15 18:16:33,106 - INFO - ==================================================
2025-05-15 18:16:33,107 - INFO - ‚úÖ Successfully processed content
2025-05-15 18:16:33,108 - INFO - üîÑ Getting process type for area_conhecimento: Engenharia and context_type: contextualizacao
2025-05-15 18:16:33,108 - INFO - üîë Using credentials from: /home/rafael/Desktop/projetos/yduqs_back/mydrive.json
2025-05-15 18:16:33,142 - INFO - üìÅ Using base Google Drive folder ID: 1i6UkhDYe59L1Yf6u2rc-iF37ozVgPfId
2025-05-15 18:16:34,167 - INFO - üìÅ Created/found tema folder with ID: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:16:35,914 - INFO - üìÅ Tema folder public link: https://drive.google.com/drive/folders/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
2025-05-15 18:16:35,915 - INFO - üöÄ Initializing CloudContentProcessor
üìÅ Source: 1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üìÅ Target: target/contextualization_to_engenharia_00221/1-pow2W2u-7y3h_0zeH8ttf6C69RupPAE
üîÑ Process Type: contextualization_to_engenharia_00221

2025-05-15 18:16:35,945 - INFO - ‚úÖ Clients initialized successfully
2025-05-15 18:16:35,946 - INFO - üîç Iniciando diagn√≥stico de acesso ao bucket: conteudo-autenticare-contextualizacao
2025-05-15 18:16:36,548 - INFO - ‚úì Bucket existe: True
2025-05-15 18:16:37,299 - INFO - ‚úì Permiss√µes do bucket obtidas com sucesso
2025-05-15 18:16:37,477 - INFO - Prompt content_score_classification_00306: ‚úì Encontrado em prompts/content_score_classification_00306.txt
2025-05-15 18:16:38,185 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00306 lido com sucesso
2025-05-15 18:16:38,371 - INFO - Prompt content_score_classification_00962: ‚úì Encontrado em prompts/content_score_classification_00962.txt
2025-05-15 18:16:39,064 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00962 lido com sucesso
2025-05-15 18:16:39,253 - INFO - Prompt content_score_classification_03024: ‚úì Encontrado em prompts/content_score_classification_03024.txt
2025-05-15 18:16:39,943 - INFO - ‚úì Conte√∫do do prompt content_score_classification_03024 lido com sucesso
2025-05-15 18:16:40,131 - INFO - Prompt content_score_classification_00221: ‚úì Encontrado em prompts/content_score_classification_00221.txt
2025-05-15 18:16:40,931 - INFO - ‚úì Conte√∫do do prompt content_score_classification_00221 lido com sucesso
2025-05-15 18:16:41,144 - INFO - Prompt contextualization_to_TI: ‚úì Encontrado em prompts/contextualization_to_TI.txt
2025-05-15 18:16:41,873 - INFO - ‚úì Conte√∫do do prompt contextualization_to_TI lido com sucesso
2025-05-15 18:16:42,078 - INFO - Prompt contextualization_to_engenharia_00221: ‚úì Encontrado em prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:16:42,812 - INFO - ‚úì Conte√∫do do prompt contextualization_to_engenharia_00221 lido com sucesso
2025-05-15 18:16:43,010 - INFO - Prompt contextualization_to_gestao_00962: ‚úì Encontrado em prompts/contextualization_to_gestao_00962.txt
2025-05-15 18:16:43,768 - INFO - ‚úì Conte√∫do do prompt contextualization_to_gestao_00962 lido com sucesso
2025-05-15 18:16:43,947 - INFO - Prompt contextualization_to_humanidades_00908: ‚úì Encontrado em prompts/contextualization_to_humanidades_00908.txt
2025-05-15 18:16:44,698 - INFO - ‚úì Conte√∫do do prompt contextualization_to_humanidades_00908 lido com sucesso
2025-05-15 18:16:44,891 - INFO - Prompt contextualization_to_exatas_00221: ‚úì Encontrado em prompts/contextualization_to_exatas_00221.txt
2025-05-15 18:16:45,629 - INFO - ‚úì Conte√∫do do prompt contextualization_to_exatas_00221 lido com sucesso
2025-05-15 18:16:45,808 - INFO - Prompt contextualization_to_saude_00962: ‚úì Encontrado em prompts/contextualization_to_saude_00962.txt
2025-05-15 18:16:46,558 - INFO - ‚úì Conte√∫do do prompt contextualization_to_saude_00962 lido com sucesso
2025-05-15 18:16:46,744 - INFO - Prompt contextualization_to_direito: ‚úì Encontrado em prompts/contextualization_to_direito.txt
2025-05-15 18:16:47,484 - INFO - ‚úì Conte√∫do do prompt contextualization_to_direito lido com sucesso
2025-05-15 18:16:47,663 - INFO - Prompt suavization_03024: ‚úì Encontrado em prompts/suavization_03024.txt
2025-05-15 18:16:48,441 - INFO - ‚úì Conte√∫do do prompt suavization_03024 lido com sucesso
2025-05-15 18:16:48,441 - INFO - ‚úì Usando service account: app-poc-yduqs@conteudo-autenticare.iam.gserviceaccount.com
2025-05-15 18:16:48,441 - INFO - üîç Verificando prompt para processo 'contextualization_to_engenharia_00221' em: prompts/contextualization_to_engenharia_00221.txt
2025-05-15 18:16:49,357 - INFO - ‚úì Prompt para 'contextualization_to_engenharia_00221' carregado com sucesso
2025-05-15 18:16:51,170 - INFO - ‚úÖ Processing pipeline initialized successfully
2025-05-15 18:16:51,171 - INFO - üîÑ Using process type: contextualization_to_engenharia_00221
2025-05-15 18:16:51,171 - INFO - 
==================================================
2025-05-15 18:16:51,171 - INFO - üöÄ STARTING CONTENT PROCESSING PIPELINE
2025-05-15 18:16:51,171 - INFO - ==================================================
2025-05-15 18:16:51,172 - INFO - 
üìë STAGE 1: PDF GENERATION
2025-05-15 18:16:51,172 - INFO - ‚Üí Parsing JSON content...
